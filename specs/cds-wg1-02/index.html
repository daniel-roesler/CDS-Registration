<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="Linux Foundation Energy - Connected Data Specifications (CDS) - Registration Working Group (WG1) - Specifications - cds-wg1-02 - Client Registration">
        <link rel="icon" type="image/png" href="/CDS-Registration/assets/favicon.png">
        <meta name="robots" content="noindex, nofollow"/>
        <title>CDS-WG1 - CDS-WG1 - 02 Client Registration - Specification</title>
        <link href="/CDS-Registration/assets/bootstrap-5.1.3-dist/css/bootstrap.min.css" rel="stylesheet">
        <style>
            /* Permalink styling */
            .permalink {
                text-decoration:none;
                font-size: 60%;
                display: inline-block;
                vertical-align: top;
                padding-top: 0.4em;
            }
            /* Code section styling */
            pre.highlight {
                background-color: #eee;
                padding: 0.5em;
            }
            /* SVG icons (based on https://github.com/diafygi/svg-font-to-svg-sprite-converter)
               Example (put "svgicons: fa-link, fa-plus-circle" in front matter):
               <svg class="svgicon"><use href="#fa-link"/></svg>
               <svg class="svgicon"><use href="#fa-plus-circle"/></svg>
            */
            #svgicon-defs{
                display: none;
            }
            .svgicon {
                overflow: visible !important;
                height: 0.7em;
                width: 0.7em;
                fill:currentColor;
            }
        </style>
    </head>
    <body>
        <!-- SVG Icons (see comment in css above on how to use) -->
        <svg id="svgicon-defs" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <symbol id="fa-external-link" viewBox="0 0 1792 1792" overflow="visible">
    <path d="M1408 928v320q0 119 -84.5 203.5t-203.5 84.5h-832q-119 0 -203.5 -84.5t-84.5 -203.5v-832q0 -119 84.5 -203.5t203.5 -84.5h704q14 0 23 9t9 23v64q0 14 -9 23t-23 9h-704q-66 0 -113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113 -47t47 -113v-320q0 -14 9 -23t23 -9h64q14 0 23 9t9 23zM1792 64v512q0 26 -19 45t-45 19t-45 -19l-176 -176l-652 652q-10 10 -23 10t-23 -10l-114 -114q-10 -10 -10 -23t10 -23l652 -652l-176 -176q-19 -19 -19 -45t19 -45t45 -19h512q26 0 45 19t19 45z"></path>
</symbol>

                
                
            </defs>
        </svg>

        <!-- Non-production Warning -->
        <div id="non-prod-warning" class="bg-danger text-light text-center p-2 d-none">
            <strong>
                WARNING: THIS IS A DEVELOPMENT VERSION OF THE CDS-WG1 WEBSITE
                <span class="d-inline-block">
                    (this message does not appear on
                    <a class="text-light" href="https://cds-registration.lfenergy.org">cds-registration.lfenergy.org</a>)
                </span>
            </strong>
        </div>
        <script>
            if (window.location.hostname.indexOf("cds-registration.lfenergy.org") === -1) {
                document.getElementById("non-prod-warning").classList.remove("d-none");
            }
        </script>

        <!-- Header -->
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container">
                <a
                    class="navbar-brand"
                    href="/CDS-Registration/"
                    >CDS-WG1</a>
                <button
                    class="navbar-toggler"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#header"
                    aria-controls="header"
                    aria-expanded="false"
                    aria-label="Toggle navigation"
                >
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="header">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a
                                class="nav-link"
                                
                                href="/CDS-Registration/"
                                >Home</a>
                        </li>
                        <li class="nav-item">
                            <a
                                class="nav-link"
                                
                                href="/CDS-Registration/use-cases"
                                >Use Cases</a>
                        </li>
                        <li class="nav-item">
                            <a
                                class="nav-link active text-decoration-underline"
                                
                                href="/CDS-Registration/specs"
                                >Specifications</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://github.com/lfe-cds/CDS-Registration/tree/main/meetings" target="_blank"
                                >Meeting Minutes
                                <svg class="svgicon"><use href="#fa-external-link"/></svg></a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <!-- Content -->
        <div role="main" class="container pt-3 pb-5">
            <div class="row">
                <div class="col">
                    <p><a href="/CDS-Registration/">Home</a> / <a href="/CDS-Registration/specs">Specifications</a> / <code class="language-plaintext highlighter-rouge">cds-wg1-02</code> - Client Registration</p>

<h1 id="client-registration">Client Registration</h1>

<p>Looking for a more human-readable summary of this specification? Check out our <a href="/CDS-Registration/specs/cds-wg1-02/overview">overview</a>.</p>

<p>Below is a rendering of the original specification source: <a href="https://github.com/daniel-roesler/CDS-Registration/blob/main/specifications/cds-wg1-02.md">https://github.com/daniel-roesler/CDS-Registration/blob/main/specifications/cds-wg1-02.md</a></p>

<hr />

<h1 id="cds-wg1-02---client-registration">CDS-WG1-02 - Client Registration</h1>

<h2 id="abstract-">Abstract <a id="abstract" href="#abstract" class="permalink">üîó</a></h2>

<p>This specification defines how utilities and other central entities (‚ÄúServers‚Äù) may allow external entities (‚ÄúClients‚Äù) to register, configure, and maintain connectivity with the utility or other central entity. This specification extends OAuth 2.0 [<a href="#ref-rfc6749">RFC 6749</a>] and its related specifications (Dynamic Client Registration [<a href="#ref-rfc7591">RFC 7591</a>], Authorization Server Metadata [<a href="#ref-rfc8414-server-metadata">RFC 8414</a>], and others) to create a robust framework for offering secure, streamlined, and standardized connectivity between central entities, such as utilities and energy grid operators, and external entities, such as building owners and energy service providers.</p>

<h2 id="status-">Status <a id="status" href="#status" class="permalink">üîó</a></h2>

<p><b style="color:red">WARNING: This specification is a DRAFT and has not achieved consensus by the working group.</b></p>

<h2 id="copyright-">Copyright <a id="copyright" href="#copyright" class="permalink">üîó</a></h2>

<p>Copyright Joint Development Foundation Projects, LLC, LF Energy Standards and Specifications Series and its contributors (‚ÄúLFESS‚Äù).
All rights reserved.
For more information, visit <a href="https://lfess.energy/">https://lfess.energy/</a>.</p>

<h2 id="table-of-contents-">Table of Contents <a id="table-of-contents" href="#table-of-contents" class="permalink">üîó</a></h2>

<ul>
  <li><a href="#introduction">1. Introduction</a></li>
  <li><a href="#terminology">2. Terminology</a></li>
  <li><a href="#auth-server-metadata">3. Authorization Server Metadata</a>
    <ul>
      <li><a href="#auth-server-metadata-url">3.1. Metadata URL</a></li>
      <li><a href="#auth-server-metadata-format">3.2. Metadata Object Format</a></li>
      <li><a href="#scopes">3.3. Scopes Supported</a>
        <ul>
          <li><a href="#scopes-client-admin">3.3.1. Client Admin Scope</a></li>
          <li><a href="#scopes-grant-admin">3.3.2. Grant Admin Scope</a></li>
          <li><a href="#scopes-server-provided-files">3.3.3. Server-Provided Files Scope</a></li>
        </ul>
      </li>
      <li><a href="#scope-descriptions-format">3.4. Scope Descriptions Object Format</a></li>
      <li><a href="#registration-field-format">3.5. Registration Field Object Format</a></li>
      <li><a href="#registration-field-types">3.6. Registration Field Types</a></li>
      <li><a href="#registration-field-formats">3.7. Registration Field Formats</a></li>
      <li><a href="#auth-details-fields-format">3.8. Authorization Details Field Object Format</a></li>
      <li><a href="#auth-details-field-formats">3.9. Authorization Details Field Formats</a></li>
      <li><a href="#auth-details-field-choice-format">3.10. Authorization Details Field Choice Object Format</a></li>
    </ul>
  </li>
  <li><a href="#client-registration-process">4. Client Registration Process</a>
    <ul>
      <li><a href="#registration-request">4.1. Client Registration Request</a></li>
      <li><a href="#registration-response">4.2. Client Registration Response</a></li>
    </ul>
  </li>
  <li><a href="#clients-api">5. Clients API</a>
    <ul>
      <li><a href="#client-format">5.1. Client Object Format</a></li>
      <li><a href="#client-statuses">5.2. Client Statuses</a></li>
      <li><a href="#clients-list">5.3. Listing Clients</a></li>
      <li><a href="#clients-get">5.4. Retrieving Individual Clients</a></li>
      <li><a href="#clients-modify">5.5. Modifying Clients</a></li>
    </ul>
  </li>
  <li><a href="#messages-api">6. Messages API</a>
    <ul>
      <li><a href="#message-format">6.1. Message Object Format</a></li>
      <li><a href="#message-types">6.2. Message Types</a></li>
      <li><a href="#message-statuses">6.3. Message Statuses</a></li>
      <li><a href="#message-related-types">6.4. Message Related Types</a></li>
      <li><a href="#client-update-request-format">6.5. Client Update Request Object Format</a></li>
      <li><a href="#client-grant-request-format">6.6. Client Grant Request Object Format</a></li>
      <li><a href="#message-attachment-format">6.7. Message Attachment Object Format</a></li>
      <li><a href="#messages-list">6.8. Listing Messages</a></li>
      <li><a href="#messages-create">6.9. Creating Messages</a></li>
      <li><a href="#messages-get">6.10. Retrieving Individual Messages</a></li>
      <li><a href="#messages-modify">6.11. Modifying Messages</a></li>
    </ul>
  </li>
  <li><a href="#credentials-api">7. Credentials API</a>
    <ul>
      <li><a href="#credentials-format">7.1. Credentials Object Format</a></li>
      <li><a href="#credentials-types">7.2. Credentials Types</a></li>
      <li><a href="#credentials-list">7.3. Listing Credentials</a></li>
      <li><a href="#credentials-get">7.4. Retrieving Individual Credentials</a></li>
      <li><a href="#credentials-create">7.5. Creating Credentials</a></li>
      <li><a href="#credentials-modify">7.6. Modifying Credentials</a></li>
    </ul>
  </li>
  <li><a href="#grants-api">8. Grants API</a>
    <ul>
      <li><a href="#grant-format">8.1. Grant Object Format</a></li>
      <li><a href="#grant-statuses">8.2. Grant Statuses</a></li>
      <li><a href="#grant-authorization-requests">8.3. Grant Authorization Requests</a></li>
      <li><a href="#grants-list">8.4. Listing Grants</a></li>
      <li><a href="#grants-get">8.5. Retrieving Individual Grants</a></li>
      <li><a href="#grants-modify">8.6. Modifying Grants</a></li>
    </ul>
  </li>
  <li><a href="#server-provided-files-api">9. Server-Provided Files API</a>
    <ul>
      <li><a href="#server-provided-files-format">9.1. Server-Provided Files Object Format</a></li>
      <li><a href="#server-provided-files-list">9.2. Listing Server-Provided Files</a></li>
      <li><a href="#server-provided-files-get">9.3. Retrieving Individual Server-Provided Files</a></li>
      <li><a href="#server-provided-files-download">9.4. Downloading Server-Provided File Data</a></li>
    </ul>
  </li>
  <li><a href="#extensions">10. Extensions</a></li>
  <li><a href="#security">11. Security Considerations</a>
    <ul>
      <li><a href="#scopes-client-management">11.1. Scopes and Client Management</a></li>
      <li><a href="#restricted-access">11.2. Restricted Access</a></li>
      <li><a href="#rate-limiting">11.3. Rate Limiting</a></li>
      <li><a href="#captchas">11.4. Captchas</a></li>
    </ul>
  </li>
  <li><a href="#examples">12. Examples</a>
    <ul>
      <li><a href="#example-cds-server-metadata">12.1. Retrieving CDS Server Metadata</a></li>
      <li><a href="#example-auth-server-metadata">12.2. Retrieving Authorization Server Metadata</a></li>
      <li><a href="#example-client-registration">12.3. Submitting a Client Registration Request</a></li>
      <li><a href="#example-admin-access-token">12.4. Obtaining a Client Admin Access Token</a></li>
      <li><a href="#example-clients-list">12.5. Retrieving a Client List</a></li>
      <li><a href="#example-client-get">12.6. Retrieving an Individual Client</a></li>
      <li><a href="#example-client-modify">12.7. Modifying a Client</a></li>
      <li><a href="#example-messages-list">12.8. Retrieving a Message List</a></li>
      <li><a href="#example-message-create">12.9. Creating a Message</a></li>
      <li><a href="#example-message-get">12.10. Retrieving an Individual Message</a></li>
      <li><a href="#example-message-modify">12.11. Modifying a Message</a></li>
      <li><a href="#example-credentials-list">12.12. Retrieving a Credentials List</a></li>
      <li><a href="#example-credentials-create">12.13. Creating a Credential</a></li>
      <li><a href="#example-credentials-get">12.14. Retrieving an Individual Credential</a></li>
      <li><a href="#example-credentials-modify">12.15. Modifying a Credential</a></li>
      <li><a href="#example-grants-list">12.16. Grants List</a></li>
      <li><a href="#example-grants-get">12.17. Retrieving an Individual Grant</a></li>
      <li><a href="#example-grants-modify">12.18. Modifying a Grant</a></li>
      <li><a href="#example-server-provided-files-access-token">12.19. Obtaining Server-Provided File Access via the Grant Admin Scope</a></li>
      <li><a href="#example-server-provided-files-list">12.20. Retrieving a Server-Provided Files List</a></li>
      <li><a href="#example-server-provided-files-get">12.21. Retrieving an Individual Server-Provided File</a></li>
      <li><a href="#example-server-provided-files-download">12.22. Downloading Data for a Server-Provided File</a></li>
    </ul>
  </li>
  <li><a href="#references">13. References</a></li>
  <li><a href="#acknowledgments">14. Acknowledgments</a></li>
  <li><a href="#authors">15. Authors</a></li>
</ul>

<h2 id="1-introduction-">1. Introduction <a id="introduction" href="#introduction" class="permalink">üîó</a></h2>

<p>This specification was developed as part of the global effort to combat the climate crisis.
Specifically, in order to scalably measure carbon emissions of organizations and calculate the impact of deploying and operating clean energy technologies, companies need an efficient means to register and interact with energy utilities and other similar entities.</p>

<p>There are thousands of utilities serving customers across the world, and each have their own way of providing access to privileged functionality and data.
This specification defines a way for these utilities and other entities (‚ÄúServers‚Äù) to provide a standardized, structured process for external users and companies (‚ÄúClients‚Äù) to register and obtain secure access to privileged functionality and data.
By offering a standardized Client registration and management protocol, utilities and other entities can enable secure interoperability with other external systems providing climate-change fighting services such as carbon tracking, decarbonization measures, grid flexibility capabilities, and energy benchmarking.</p>

<p>This specification does NOT describe what specific privileged functionality or data is offered to Clients as part of their registration.
Instead, relevant stakeholders are encouraged to write <a href="#extensions">Extensions</a> to this specification that enable various use cases that need access to privileged functionality or data.
For example, this specification may be extended to define a method for Clients to be able to access customer-authorized energy usage data.</p>

<h2 id="2-terminology-">2. Terminology <a id="terminology" href="#terminology" class="permalink">üîó</a></h2>

<p><a id="server" href="#server" class="permalink">üîó</a> <strong>‚ÄúServer‚Äù</strong> - The entity hosting the specified endpoints.
A Server can be an energy utility or another type of entity that want to provide access to privileged functionality or data.
These entities can include, but are not limited to, distribution utilities, grid operators, electric retailers, community choice aggregators, government agencies, data warehouses, and private infrastructure providers.</p>

<p><a id="client" href="#client" class="permalink">üîó</a> <strong>‚ÄúClient‚Äù</strong> - The entity requesting Server‚Äôs metadata endpoints.
A Client can be any organization or user seeking to register with a Server for a specific scope of access.
These entities can include, but are not limited to, carbon tracking applications, electric vehicle companies, clean energy technology providers, commercial utility customers, grid management applications, and energy efficiency organizations.</p>

<p><a id="array" href="#array" class="permalink">üîó</a> ‚ÄúArray‚Äù - A list of objects or values as defined by <code class="language-plaintext highlighter-rouge">Arrays</code> in [<a href="#ref-rfc8259-arrays">RFC 8259 Section 5</a>].</p>

<p><a id="base64" href="#base64" class="permalink">üîó</a> ‚ÄúBase64‚Äù - A method of encoding binary data into a string defined in [<a href="#ref-rfc4648">RFC 4648</a>].</p>

<p><a id="boolean" href="#boolean" class="permalink">üîó</a> ‚Äúboolean‚Äù - Either <code class="language-plaintext highlighter-rouge">true</code> or <code class="language-plaintext highlighter-rouge">false</code> defined in [<a href="#ref-rfc8259-values">RFC 8259 Section 3</a>].</p>

<p><a id="date" href="#date" class="permalink">üîó</a> ‚Äúdate‚Äù - A string representing date in the format of <code class="language-plaintext highlighter-rouge">full-date</code> as defined by [<a href="#ref-rfc3339-datetime">RFC 3339 Section 5.6</a>] (e.g. ‚Äú2024-01-01‚Äù).</p>

<p><a id="datetime" href="#datetime" class="permalink">üîó</a> ‚Äúdatetime‚Äù - A string representing date and time in the format of <code class="language-plaintext highlighter-rouge">date-time</code> as defined by [<a href="#ref-rfc3339-datetime">RFC 3339 Section 5.6</a>] (e.g. ‚Äú2024-01-01T00:00:00Z‚Äù).</p>

<p><a id="decimal" href="#decimal" class="permalink">üîó</a> ‚Äúdecimal‚Äù - A decimal value as defined by <code class="language-plaintext highlighter-rouge">number</code> in [<a href="#ref-rfc8259-numbers">RFC 8259 Section 6</a>].</p>

<p><a id="get" href="#get" class="permalink">üîó</a> ‚ÄúGET‚Äù - A request method defined in [<a href="#ref-rfc9110-methods">RFC 9110 Section 9</a>].</p>

<p><a id="https" href="#https" class="permalink">üîó</a> ‚ÄúHTTPS‚Äù - A secure web request protocol defined in [<a href="#ref-rfc9110-https">RFC 9110 Section 4.2.2</a>].</p>

<p><a id="integer" href="#integer" class="permalink">üîó</a> ‚Äúinteger‚Äù - A positive integer value as defined by <code class="language-plaintext highlighter-rouge">int</code> in [<a href="#ref-rfc8259-numbers">RFC 8259 Section 6</a>].</p>

<p><a id="json" href="#json" class="permalink">üîó</a> ‚ÄúJSON‚Äù - A data format defined in [<a href="#ref-rfc8259">RFC 8259</a>].</p>

<p><a id="jwk-enc" href="#jwk-enc" class="permalink">üîó</a> ‚ÄúJWK Public Encryption Key‚Äù - A JSON object representing a public key as defined in [<a href="#ref-rfc7517-pk">RFC 7517 Section 4</a>] where the <code class="language-plaintext highlighter-rouge">use</code> field MUST contain the value <code class="language-plaintext highlighter-rouge">enc</code>.</p>

<p><a id="map" href="#map" class="permalink">üîó</a> ‚ÄúMap‚Äù - A JSON object as defined by <code class="language-plaintext highlighter-rouge">Objects</code> in [<a href="#ref-rfc8259-objects">RFC 8259 Section 4</a>].</p>

<p><a id="mime-type" href="#mime-type" class="permalink">üîó</a> ‚ÄúMIME type‚Äù - A string representing a document media type as defined in [<a href="#ref-rfc6838">RFC 6838</a>] (e.g. ‚Äúimage/png‚Äù).</p>

<p><a id="null" href="#null" class="permalink">üîó</a> ‚Äúnull‚Äù - The <code class="language-plaintext highlighter-rouge">null</code> value defined in [<a href="#ref-rfc8259-values">RFC 8259 Section 3</a>].</p>

<p><a id="post" href="#post" class="permalink">üîó</a> ‚ÄúPOST‚Äù - A request method defined in [<a href="#ref-rfc9110-methods">RFC 9110 Section 9</a>].</p>

<p><a id="put" href="#put" class="permalink">üîó</a> ‚ÄúPUT‚Äù - A request method defined in [<a href="#ref-rfc9110-methods">RFC 9110 Section 9</a>].</p>

<p><a id="patch" href="#patch" class="permalink">üîó</a> ‚ÄúPATCH‚Äù - A request method defined in [<a href="#ref-rfc5789">RFC 5789</a>].</p>

<p><a id="status-code" href="#status-code" class="permalink">üîó</a> ‚ÄúStatus Code‚Äù - A response status code defined in [<a href="#ref-rfc9110-codes">RFC 9110 Section 15</a>].</p>

<p><a id="string" href="#string" class="permalink">üîó</a> ‚Äústring‚Äù - A series of unicode characters as defined in [<a href="#ref-rfc8259-strings">RFC 8259 Section 7</a>].</p>

<p><a id="url" href="#url" class="permalink">üîó</a> ‚ÄúURL‚Äù - A string representing resource as defined in [<a href="#ref-rfc3986-url">RFC 3986 Section 1.1.3</a>] (e.g. ‚Äúhttps://example.com/page1‚Äù).</p>

<p><a id="key-words" href="#key-words" class="permalink">üîó</a> Key Words: ‚ÄúMUST‚Äù, ‚ÄúMUST NOT‚Äù, ‚ÄúREQUIRED‚Äù, ‚ÄúSHALL‚Äù, ‚ÄúSHALL NOT‚Äù, ‚ÄúSHOULD‚Äù, ‚ÄúSHOULD NOT‚Äù, ‚ÄúRECOMMENDED‚Äù, ‚ÄúNOT RECOMMENDED‚Äù, ‚ÄúMAY‚Äù, and ‚ÄúOPTIONAL‚Äù are defined in accordance with [<a href="#ref-bcp14">BCP 14</a>].</p>

<h2 id="3-authorization-server-metadata-">3. Authorization Server Metadata <a id="auth-server-metadata" href="#auth-server-metadata" class="permalink">üîó</a></h2>

<p>To enable automated Client registration, Servers MUST host an endpoint with structured metadata about how to submit a <a href="#registration-request">registration request</a>, as well as functionality and data capabilities offered by the Server.
The requirements for hosting this metadata endpoint follows OAuth‚Äôs Authorization Server Metadata [<a href="#ref-rfc8414-server-metadata">RFC 8414</a>] with several additions for Connected Data Specifications (CDS) functionality described in the following sections.</p>

<h3 id="31-metadata-url-">3.1. Metadata URL <a id="auth-server-metadata-url" href="#auth-server-metadata-url" class="permalink">üîó</a></h3>

<p>Following OAuth‚Äôs Obtaining Authorization Server Metadata [<a href="#ref-rfc8414-server-metadata-req">RFC 8414 Section 3</a>] process, a Server‚Äôs Authorization Server Metadata Object is retrieved by making an HTTPS <a href="#get">GET</a> request to a specified URL.
To ensure discoverability of the URL, Servers MUST implement the CDS Server Metadata specification [<a href="#ref-cds-wg1-01">CDS-WG1-01</a>] with the following extensions.</p>

<p>Server Capabilities [<a href="#ref-cds-wg1-01-server-capabilities">CDS-WG1-01 Section 3.4</a>] are extended to require the following values:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">oauth</code> - <em><a href="#string">string</a></em> - (REQUIRED) Including Client Registration via OAuth in the list of a Server‚Äôs available capabilities</li>
</ul>

<p>Server Metadata Objects [<a href="#ref-cds-wg1-01-metadata-object">CDS-WG1-01 Section 3.2</a>] are extended to require the following values:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">oauth_metadata</code> - <em><a href="#url">URL</a></em> - (REQUIRED) The URL where Clients can request the Server‚Äôs Authorization Server Metadata Object</li>
</ul>

<p>In addition to requiring that the URL be included in CDS‚Äôs Server Metadata Object [<a href="#ref-cds-wg1-01-metadata-object">CDS-WG1-01 Section 3.2</a>], Servers MAY also configure the URL such that it conforms to the default Well-Known URI format [<a href="#ref-rfc8414-server-metadata-wellknown">RFC 8414 Section 7.3</a>], which can increase interoperability beyond the above specified CDS-WG1-01 extension.</p>

<h3 id="32-metadata-object-format-">3.2. Metadata Object Format <a id="auth-server-metadata-format" href="#auth-server-metadata-format" class="permalink">üîó</a></h3>

<p>A Server‚Äôs Authorization Server Metadata Object follows OAuth‚Äôs Authorization Server Metadata object format [<a href="#ref-rfc8414-server-metadata-obj">RFC 8414 Section 2</a>] with the following modifications from OPTIONAL or RECOMMENDED to REQUIRED:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">registration_endpoint</code> - <em><a href="#url">URL</a></em> - (REQUIRED) OAuth‚Äôs Dynamic Client Registration [<a href="#ref-rfc7591">RFC 7591</a>] functionality is required to enable the <a href="#client-registration-process">Client Registration Process</a>.
For Metadata Objects accessed by means of the <code class="language-plaintext highlighter-rouge">cds_server_metadata</code> field in a <a href="#client-format">Client object</a> and subsequently the <code class="language-plaintext highlighter-rouge">oauth_metadata</code> field, the <code class="language-plaintext highlighter-rouge">registration_endpoint</code> field for the returned Metadata Object is OPTIONAL.</li>
  <li><code class="language-plaintext highlighter-rouge">scopes_supported</code> - <em>Array[<a href="#string">string</a>]</em> - (REQUIRED) The scopes in this array MUST represent a union of all scope <code class="language-plaintext highlighter-rouge">id</code> values contained in the <code class="language-plaintext highlighter-rouge">cds_scope_descriptions</code> objects.</li>
  <li><code class="language-plaintext highlighter-rouge">service_documentation</code> - <em><a href="#url">URL</a></em> - (REQUIRED) Developer documentation is required by the Server to help streamline Client integration.</li>
  <li><code class="language-plaintext highlighter-rouge">op_policy_uri</code> - <em><a href="#url">URL</a></em> - (REQUIRED) Policies for Clients registering is required.</li>
  <li><code class="language-plaintext highlighter-rouge">op_tos_uri</code> - <em><a href="#url">URL</a></em> - (REQUIRED) Terms of use for Clients registering is required.</li>
  <li><code class="language-plaintext highlighter-rouge">revocation_endpoint</code> - <em><a href="#url">URL</a></em> - (REQUIRED) OAuth‚Äôs Token Revocation [<a href="#ref-rfc7009">RFC 7009</a>] functionality is required.</li>
  <li><code class="language-plaintext highlighter-rouge">introspection_endpoint</code> - <em><a href="#url">URL</a></em> - (REQUIRED) OAuth‚Äôs Token Introspection [<a href="#ref-rfc7662">RFC 7662</a>] functionality is required.</li>
  <li><code class="language-plaintext highlighter-rouge">code_challenge_methods_supported</code> - <em>Array[<a href="#string">string</a>]</em> - (REQUIRED) The code challenge methods in this array MUST represent a union of all <code class="language-plaintext highlighter-rouge">code_challenge_methods_supported</code> values contained in the <code class="language-plaintext highlighter-rouge">cds_scope_descriptions</code> objects.</li>
</ul>

<p>In addition to the standard set of OAuth Authorization Server Metadata object values [<a href="#ref-rfc8414-server-metadata-obj">RFC 8414 Section 2</a>], this specification also requires the following OAuth extension capabilities to be included in the metadata object values:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">authorization_details_types_supported</code> - <em>Array[<a href="#string">string</a>]</em> - (REQUIRED) OAuth‚Äôs Rich Authorization Requests [<a href="#ref-rfc9396">RFC 9396</a>] functionality is required.
This array of values MUST be the same as <code class="language-plaintext highlighter-rouge">scopes_supported</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">pushed_authorization_request_endpoint</code> - <em><a href="#url">URL</a></em> - (OPTIONAL) OAuth‚Äôs Pushed Authorization Requests [<a href="#ref-rfc9126">RFC 9126</a>] functionality is REQUIRED when <code class="language-plaintext highlighter-rouge">response_types_supported</code> is not an empty list  (i.e. user authorization is supported for some scopes).</li>
</ul>

<p>In addition to the above additionally required set of OAuth Authorization Server Metadata object values [<a href="#ref-rfc8414-server-metadata-obj">RFC 8414 Section 2</a>], this specification clarifies use of the following OAuth standard values:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">response_types_supported</code> - <em>Array[<a href="#string">string</a>]</em> - (REQUIRED) The response types in this array MUST represent a union of all <code class="language-plaintext highlighter-rouge">response_types_supported</code> values contained in the <code class="language-plaintext highlighter-rouge">cds_scope_descriptions</code> objects.</li>
  <li><code class="language-plaintext highlighter-rouge">grant_types_supported</code> - <em>Array[<a href="#string">string</a>]</em> - (REQUIRED) The response types in this array MUST represent a union of all <code class="language-plaintext highlighter-rouge">grant_types_supported</code> values contained in the <code class="language-plaintext highlighter-rouge">cds_scope_descriptions</code> objects.</li>
  <li><code class="language-plaintext highlighter-rouge">token_endpoint_auth_methods_supported</code> - <em>Array[<a href="#string">string</a>]</em> - (REQUIRED) The response types in this array MUST represent a union of all <code class="language-plaintext highlighter-rouge">token_endpoint_auth_methods_supported</code> values contained in the <code class="language-plaintext highlighter-rouge">cds_scope_descriptions</code> object.</li>
</ul>

<p>In addition to OAuth capabilities included in the metadata object, this specification adds the following Connected Data Specifications (CDS) values:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">cds_oauth_version</code> - <em><a href="#string">string</a></em> - (REQUIRED) The version of the CDS-WG1-02 Client Registration specification that the Server has implemented, which for this version of the specification is <code class="language-plaintext highlighter-rouge">v1</code></li>
  <li><code class="language-plaintext highlighter-rouge">cds_human_registration</code> - <em><a href="#url">URL</a></em> - (REQUIRED) Where Clients who do not have the technical capacity to use the <code class="language-plaintext highlighter-rouge">registration_endpoint</code> can visit to manually register a Client using a user device</li>
  <li><code class="language-plaintext highlighter-rouge">cds_clients_api</code> - <em><a href="#url">URL</a></em> - (REQUIRED) The URL for the <a href="#clients-api">Clients API</a>.</li>
  <li><code class="language-plaintext highlighter-rouge">cds_messages_api</code> - <em><a href="#url">URL</a></em> - (REQUIRED) The URL for the <a href="#messages-api">Messages API</a>.</li>
  <li><code class="language-plaintext highlighter-rouge">cds_credentials_api</code> - <em><a href="#url">URL</a></em> - (REQUIRED) The URL for the <a href="#credentials-api">Credentials API</a>.</li>
  <li><code class="language-plaintext highlighter-rouge">cds_grants_api</code> - <em><a href="#url">URL</a></em> - (REQUIRED) The URL for the <a href="#grants-api">Grants API</a>.</li>
  <li><code class="language-plaintext highlighter-rouge">cds_server_provided_files_api</code> - <em><a href="#url">URL</a></em> - (OPTIONAL) The URL for the <a href="#server-provided-files-api">Server-Provided Files API</a>.
This MUST be included if <code class="language-plaintext highlighter-rouge">scopes_supported</code> includes the <code class="language-plaintext highlighter-rouge">server_provided_files</code> scope.</li>
  <li><code class="language-plaintext highlighter-rouge">cds_test_accounts</code> - <em><a href="#url">URL</a></em> - (OPTIONAL) Where Clients can find developer documentation on what test account credentials may be used for testing functionality.
This MUST be included if <code class="language-plaintext highlighter-rouge">response_types_supported</code> is not an empty list (i.e. user authorization is supported for some scopes).</li>
  <li><code class="language-plaintext highlighter-rouge">cds_scope_descriptions</code> - <em>Map[<a href="#scope-descriptions-format">ScopeDescription</a>]</em> - (REQUIRED) An object providing additional information about what Scope values listed in <code class="language-plaintext highlighter-rouge">scopes_supported</code> mean.
This object MUST include a key for each Scope listed in <code class="language-plaintext highlighter-rouge">scopes_supported</code> with a <a href="#scope-descriptions-format">Scope Description</a> as that key‚Äôs value.</li>
  <li><code class="language-plaintext highlighter-rouge">cds_registration_fields</code> - <em>Map[<a href="#registration-field-format">RegistrationField</a>]</em> - (REQUIRED) An object providing additional information about Registration Field that are referenced in <a href="#scope-descriptions-format">Scope Description‚Äôs</a> <code class="language-plaintext highlighter-rouge">registration_requirements</code> list.
This object MUST include a key for each Registration Field <code class="language-plaintext highlighter-rouge">id</code> included in the <code class="language-plaintext highlighter-rouge">registration_requirements</code> lists in the metadata object with a <a href="#registration-field-format">Registration Field</a> as that key‚Äôs value.
If all <code class="language-plaintext highlighter-rouge">registration_requirements</code> lists are empty, this reference object is an empty object (<code class="language-plaintext highlighter-rouge">{}</code>).</li>
</ul>

<p>Scope functionality described by <a href="#scope-descriptions-format">Scope Description</a> objects included in the <code class="language-plaintext highlighter-rouge">cds_scope_descriptions</code> object MUST be available for all of the scope‚Äôs coverage, as described by the Scope Description‚Äôs <code class="language-plaintext highlighter-rouge">coverages_supported</code> list, up to any limits specified in the scopes authorization details, as described by the Scope Description‚Äôs <code class="language-plaintext highlighter-rouge">authorization_details_fields_supported</code> <a href="#auth-details-fields-format">Authorization Details</a> object‚Äôs <code class="language-plaintext highlighter-rouge">limit</code> values.
For situations where the same scope is available for multiple groups of coverages and limits, multiple Scope Description entries with different <code class="language-plaintext highlighter-rouge">id</code> values MUST be included.
For example, if a Server offers a scope that grants access to historical customer usage data, offering 24 months of usage history for electricity service contracts and and 12 months of history for natural gas service contracts, the Server MUST include two Scope Descriptions with different <code class="language-plaintext highlighter-rouge">id</code> values that include only the coverage and limits of that scope‚Äôs functionality.</p>

<p>Other values not mentioned here but listed in specifications for the Authorization Server Metadata specification or other extensions MAY be included as described in their respective specifications.</p>

<h3 id="33-scopes-supported-">3.3. Scopes Supported <a id="scopes" href="#scopes" class="permalink">üîó</a></h3>

<p>This section defines scopes that MAY be included in a Server‚Äôs <code class="language-plaintext highlighter-rouge">scopes_supported</code> list.</p>

<p>Servers MUST include at least the <code class="language-plaintext highlighter-rouge">client_admin</code> and <code class="language-plaintext highlighter-rouge">grant_admin</code> scopes in the Server‚Äôs <code class="language-plaintext highlighter-rouge">scopes_supported</code> list.</p>

<p>Extensions MAY define and Servers MAY include additional scopes to the above list of defined scopes, so long as they include <a href="#scope-descriptions-format">Scope Descriptions</a> for the scopes in the <code class="language-plaintext highlighter-rouge">cds_scope_descriptions</code>.</p>

<p>Extensions are RECOMMENDED to define additional scopes with their specification name or abbreviation as a prefix to prevent namespace collisions with other scopes defined by other extensions and Servers, such as <code class="language-plaintext highlighter-rouge">examplespec_*</code>.
Server are RECOMMENDED to include their name or other relevant identifier as a prefix when adding additional scopes custom to their server, such as <code class="language-plaintext highlighter-rouge">examplepowercompany_*</code>.</p>

<p>Clients MUST ignore any scopes in a Server‚Äôs <code class="language-plaintext highlighter-rouge">scopes_supported</code> list for which the Client is not compatible.</p>

<h4 id="331-client-admin-scope-">3.3.1 Client Admin Scope <a id="scopes-client-admin" href="#scopes-client-admin" class="permalink">üîó</a></h4>

<p>This is the main administrative scope that grants access for the Client to manage their registration using the defined APIs in this specification.</p>

<p>The following are how the <a href="#scope-descriptions-format">Scope Descriptions</a> fields MUST be configured for this scope:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">id</code> is <code class="language-plaintext highlighter-rouge">"client_admin"</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">name</code> is <code class="language-plaintext highlighter-rouge">"Client Admin"</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">description</code> is <code class="language-plaintext highlighter-rouge">"This scope grants administrative access to the Client management APIs."</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">documentation</code> is a <em><a href="#url">URL</a></em> for the Server‚Äôs documentation on the <code class="language-plaintext highlighter-rouge">client_admin</code> scope.
Servers MAY set the URL to an online publicly-available copy of this specification as adequate documentation for this scope.</li>
  <li><code class="language-plaintext highlighter-rouge">registration_requirements</code> is <code class="language-plaintext highlighter-rouge">[]</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">registration_optional</code> is <code class="language-plaintext highlighter-rouge">[]</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">response_types_supported</code> is <code class="language-plaintext highlighter-rouge">[]</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">grant_types_supported</code> is <code class="language-plaintext highlighter-rouge">["client_credentials"]</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">token_endpoint_auth_methods_supported</code> is <code class="language-plaintext highlighter-rouge">["client_secret_basic"]</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">code_challenge_methods_supported</code> is <code class="language-plaintext highlighter-rouge">[]</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">coverages_supported</code> is <code class="language-plaintext highlighter-rouge">[]</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">authorization_details_fields_supported</code> is <code class="language-plaintext highlighter-rouge">[]</code>.</li>
</ul>

<h4 id="332-grant-admin-scope-">3.3.2 Grant Admin Scope <a id="scopes-grant-admin" href="#scopes-grant-admin" class="permalink">üîó</a></h4>

<p>A scope for administratively gaining access to a specific Grant data and functionality.
Since Servers MAY arbitrarily create Grant objects included in the <a href="#grants-api">Grants API</a>, this scope serves as an additional method of gaining access to previously created Grant scopes by Client administrators.</p>

<p>The following are how the <a href="#scope-descriptions-format">Scope Descriptions</a> fields MUST be configured for this scope:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">id</code> is <code class="language-plaintext highlighter-rouge">"grant_admin"</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">name</code> is <code class="language-plaintext highlighter-rouge">"Grant Admin"</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">description</code> is <code class="language-plaintext highlighter-rouge">"This scope grants administrative access to previously created Grants."</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">documentation</code> is a <em><a href="#url">URL</a></em> for the Server‚Äôs documentation on the <code class="language-plaintext highlighter-rouge">grant_admin</code> scope.
Servers MAY set the URL to an online publicly-available copy of this specification as adequate documentation for this scope.</li>
  <li><code class="language-plaintext highlighter-rouge">registration_requirements</code> is <code class="language-plaintext highlighter-rouge">[]</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">registration_optional</code> is <code class="language-plaintext highlighter-rouge">[]</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">response_types_supported</code> is <code class="language-plaintext highlighter-rouge">[]</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">grant_types_supported</code> is <code class="language-plaintext highlighter-rouge">["client_credentials"]</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">token_endpoint_auth_methods_supported</code> is <code class="language-plaintext highlighter-rouge">["client_secret_basic"]</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">code_challenge_methods_supported</code> is <code class="language-plaintext highlighter-rouge">[]</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">coverages_supported</code> is <code class="language-plaintext highlighter-rouge">[]</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">authorization_details_fields_supported</code> is a JSON array with the following two entries of <a href="#auth-details-fields-format">Authorization Details Field Objects</a>.
    <ul>
      <li>Client ID:
        <ul>
          <li><code class="language-plaintext highlighter-rouge">id</code> is <code class="language-plaintext highlighter-rouge">client_id</code>.</li>
          <li><code class="language-plaintext highlighter-rouge">name</code> is <code class="language-plaintext highlighter-rouge">"Client object identifier"</code>.</li>
          <li><code class="language-plaintext highlighter-rouge">description</code> is <code class="language-plaintext highlighter-rouge">"The Client object identifier for which the Grant is issued."</code>.</li>
          <li><code class="language-plaintext highlighter-rouge">documentation</code> is a <em><a href="#url">URL</a></em> for the Server‚Äôs documentation on the <code class="language-plaintext highlighter-rouge">client_id</code> authorization details field.
Servers MAY set the URL to an online publicly-available copy of this specification as adequate documentation for this authorization details field.</li>
          <li><code class="language-plaintext highlighter-rouge">format</code> is <code class="language-plaintext highlighter-rouge">string</code>.</li>
          <li><code class="language-plaintext highlighter-rouge">is_required</code> is <code class="language-plaintext highlighter-rouge">true</code>.</li>
          <li><code class="language-plaintext highlighter-rouge">default</code> is not included.</li>
          <li><code class="language-plaintext highlighter-rouge">relative_date_limit</code> is not included.</li>
          <li><code class="language-plaintext highlighter-rouge">absolute_date_limit</code> is not included.</li>
          <li><code class="language-plaintext highlighter-rouge">limit</code> is not included.</li>
          <li><code class="language-plaintext highlighter-rouge">choices</code> is not included.</li>
        </ul>
      </li>
      <li>Grant ID:
        <ul>
          <li><code class="language-plaintext highlighter-rouge">id</code> is <code class="language-plaintext highlighter-rouge">grant_id</code>.</li>
          <li><code class="language-plaintext highlighter-rouge">name</code> is <code class="language-plaintext highlighter-rouge">"Grant identifier"</code>.</li>
          <li><code class="language-plaintext highlighter-rouge">description</code> is <code class="language-plaintext highlighter-rouge">"The Grant identifier for which the returned access_token will be given access."</code>.</li>
          <li><code class="language-plaintext highlighter-rouge">documentation</code> is a <em><a href="#url">URL</a></em> for the Server‚Äôs documentation on the <code class="language-plaintext highlighter-rouge">grant_id</code> authorization details field.
Servers MAY set the URL to an online publicly-available copy of this specification as adequate documentation for this authorization details field.</li>
          <li><code class="language-plaintext highlighter-rouge">format</code> is <code class="language-plaintext highlighter-rouge">string</code>.</li>
          <li><code class="language-plaintext highlighter-rouge">is_required</code> is <code class="language-plaintext highlighter-rouge">true</code>.</li>
          <li><code class="language-plaintext highlighter-rouge">default</code> is not included.</li>
          <li><code class="language-plaintext highlighter-rouge">relative_date_limit</code> is not included.</li>
          <li><code class="language-plaintext highlighter-rouge">absolute_date_limit</code> is not included.</li>
          <li><code class="language-plaintext highlighter-rouge">limit</code> is not included.</li>
          <li><code class="language-plaintext highlighter-rouge">choices</code> is not included.</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p>Server MUST only approve submissions of this scope to the token endpoint with a single authorization details entry to the token endpoint, ensuring the access token returned is only valid for one <code class="language-plaintext highlighter-rouge">grant_id</code>.
Servers MUST only approve submissions of this scope to the token endpoint when the <code class="language-plaintext highlighter-rouge">grant_id</code> is for a Grant that has a matching <code class="language-plaintext highlighter-rouge">client_id</code>, has a non-empty <code class="language-plaintext highlighter-rouge">enabled_scope</code> value (i.e. the Grant is not disabled) and neither <code class="language-plaintext highlighter-rouge">client_admin</code> or <code class="language-plaintext highlighter-rouge">grant_admin</code> are part of the <code class="language-plaintext highlighter-rouge">scope</code>.</p>

<h4 id="333-server-provided-files-scope-">3.3.3 Server-Provided Files Scope <a id="scopes-server-provided-files" href="#scopes-server-provided-files" class="permalink">üîó</a></h4>

<p>A scope for Servers to grant Client access to arbitrary files that the Server wishes to securely share with the Client.
Grants with this scope MUST be created by the Server and appear on the <a href="#grants-api">Grants API</a> and include <code class="language-plaintext highlighter-rouge">authorization_details</code> entries that list the <code class="language-plaintext highlighter-rouge">file_id</code> values that are being shared for that Grant.</p>

<p>The following are how the <a href="#scope-descriptions-format">Scope Descriptions</a> fields MUST be configured for this scope:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">id</code> is <code class="language-plaintext highlighter-rouge">"server_provided_files"</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">name</code> is <code class="language-plaintext highlighter-rouge">"Server-Provided Files"</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">description</code> is <code class="language-plaintext highlighter-rouge">"This scope grants access to specific files that the Server wants make available to the Client."</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">documentation</code> is a <em><a href="#url">URL</a></em> for the Server‚Äôs documentation on the <code class="language-plaintext highlighter-rouge">server_provided_files</code> scope.
Servers MAY set the URL to an online publicly-available copy of this specification as adequate documentation for this scope.</li>
  <li><code class="language-plaintext highlighter-rouge">registration_requirements</code> is <code class="language-plaintext highlighter-rouge">[]</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">registration_optional</code> is <code class="language-plaintext highlighter-rouge">[]</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">response_types_supported</code> is <code class="language-plaintext highlighter-rouge">[]</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">grant_types_supported</code> is <code class="language-plaintext highlighter-rouge">[]</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">token_endpoint_auth_methods_supported</code> is <code class="language-plaintext highlighter-rouge">[]</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">code_challenge_methods_supported</code> is <code class="language-plaintext highlighter-rouge">[]</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">coverages_supported</code> is <code class="language-plaintext highlighter-rouge">[]</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">authorization_details_fields_supported</code> is a JSON array with a single entry <a href="#auth-details-fields-format">Authorization Details Field Object</a> with the following fields.
    <ul>
      <li><code class="language-plaintext highlighter-rouge">id</code> is <code class="language-plaintext highlighter-rouge">file_id</code>.</li>
      <li><code class="language-plaintext highlighter-rouge">name</code> is <code class="language-plaintext highlighter-rouge">"File identifier"</code>.</li>
      <li><code class="language-plaintext highlighter-rouge">description</code> is <code class="language-plaintext highlighter-rouge">"A file provided by the Server that may be accessed by the Client as part of the Grant."</code>.</li>
      <li><code class="language-plaintext highlighter-rouge">documentation</code> is a <em><a href="#url">URL</a></em> for the Server‚Äôs documentation on the <code class="language-plaintext highlighter-rouge">file_id</code> authorization details field.
Servers MAY set the URL to an online publicly-available copy of this specification as adequate documentation for this authorization details field.</li>
      <li><code class="language-plaintext highlighter-rouge">format</code> is <code class="language-plaintext highlighter-rouge">string</code>.</li>
      <li><code class="language-plaintext highlighter-rouge">is_required</code> is <code class="language-plaintext highlighter-rouge">true</code>.</li>
      <li><code class="language-plaintext highlighter-rouge">default</code> is not included.</li>
      <li><code class="language-plaintext highlighter-rouge">relative_date_limit</code> is not included.</li>
      <li><code class="language-plaintext highlighter-rouge">absolute_date_limit</code> is not included.</li>
      <li><code class="language-plaintext highlighter-rouge">limit</code> is not included.</li>
      <li><code class="language-plaintext highlighter-rouge">choices</code> is not included.</li>
    </ul>
  </li>
</ul>

<p>Since Grants with the scope are only created by Servers, Client do not receive an authorization code or access token for that Grant with which they may access the files.
Instead, to access the files, Clients MUST submit a <code class="language-plaintext highlighter-rouge">client_credentials</code> grant with the scope of <code class="language-plaintext highlighter-rouge">grant_admin</code> and an <code class="language-plaintext highlighter-rouge">authorization_details</code> containing the <code class="language-plaintext highlighter-rouge">client_id</code> and <code class="language-plaintext highlighter-rouge">grant_id</code> for the Grant the Client found via the <a href="#grants-api">Grants API</a>.</p>

<h3 id="34-scope-descriptions-object-format-">3.4. Scope Descriptions Object Format <a id="scope-descriptions-format" href="#scope-descriptions-format" class="permalink">üîó</a></h3>

<p>Scope Description objects are formatted as JSON objects and contain named values.
The following values are included in the default list available in scope description objects.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">id</code> - <em><a href="#string">string</a></em> - (REQUIRED) The unique identifier of the scope.
This MUST be the same value as the object key the Metadata Object‚Äôs <code class="language-plaintext highlighter-rouge">cds_scope_descriptions</code> object.</li>
  <li><code class="language-plaintext highlighter-rouge">type</code> - <em><a href="#scope-types">ScopeType</a></em> - (REQUIRED) The functionality type of the scope.
This allows Servers to define multiple scope <code class="language-plaintext highlighter-rouge">id</code> values for the same Scope Type, for situations where Coverages or Authorization Details fields may be different (e.g. the historical customer data available for one territory has smart meter interval data, and for another it only has monthly meter reading data).</li>
  <li><code class="language-plaintext highlighter-rouge">name</code> - <em><a href="#string">string</a></em> - (REQUIRED) A human-readable name of the scope.</li>
  <li><code class="language-plaintext highlighter-rouge">description</code> - <em><a href="#string">string</a></em> - (REQUIRED) A human-readable description of what access or actions the scope will enable.</li>
  <li><code class="language-plaintext highlighter-rouge">documentation</code> - <em><a href="#url">URL</a></em> - (REQUIRED) Where developers can find documentation for the scope.</li>
  <li><code class="language-plaintext highlighter-rouge">registration_requirements</code> - <em>Array[<a href="#string">string</a>]</em> - (REQUIRED) A list of any registration fields that MUST be submitted with <a href="#registration-request">Client Registration Requests</a> or requirements that must be completed after registration before the scope is available to use in the Server‚Äôs production environment.
All values in this array MUST be included in the Metadata Object‚Äôs <code class="language-plaintext highlighter-rouge">cds_registration_fields</code> object for a complete description of the requirement.
If no additional requirements are needed, this value is an empty array (<code class="language-plaintext highlighter-rouge">[]</code>).</li>
  <li><code class="language-plaintext highlighter-rouge">registration_optional</code> - <em>Array[<a href="#string">string</a>]</em> - (REQUIRED) A list of any registration fields that Clients MAY submit with the <a href="#registration-request">Client Registration Requests</a>.
If no additional fields are available, this value is an empty array (<code class="language-plaintext highlighter-rouge">[]</code>).</li>
  <li><code class="language-plaintext highlighter-rouge">response_types_supported</code> - <em>Array[<a href="#string">string</a>]</em> - (REQUIRED) The OAuth <code class="language-plaintext highlighter-rouge">response_type</code> values that can be used with this scope.
This value follows the same behavior as OAuth‚Äôs Authorization Server Metadata object‚Äôs <code class="language-plaintext highlighter-rouge">response_types_supported</code> field [<a href="#ref-rfc8414-server-metadata-obj">RFC 8414 Section 2</a>], except that this value represents the response types supported for this individual scope and not all scopes for the Client.
If a scope is not available for OAuth authorization requests (e.g. a <code class="language-plaintext highlighter-rouge">client_credentials</code>-only scope), this value is an empty array (<code class="language-plaintext highlighter-rouge">[]</code>).</li>
  <li><code class="language-plaintext highlighter-rouge">grant_types_supported</code> - <em>Array[<a href="#string">string</a>]</em> - (REQUIRED) The OAuth grant type values that can be used with this scope.
This value follows the same behavior as OAuth‚Äôs Authorization Server Metadata object‚Äôs <code class="language-plaintext highlighter-rouge">grant_types_supported</code> field [<a href="#ref-rfc8414-server-metadata-obj">RFC 8414 Section 2</a>], except that this value represents the grant types supported for this individual scope and not all scopes for the Client.
This array MUST contain at least one grant type.</li>
  <li><code class="language-plaintext highlighter-rouge">token_endpoint_auth_methods_supported</code> - <em>Array[<a href="#string">string</a>]</em> - (REQUIRED) The OAuth client authentication methods that can be used for granting tokens with this scope.
This value follows the same behavior as OAuth‚Äôs Authorization Server Metadata object‚Äôs <code class="language-plaintext highlighter-rouge">token_endpoint_auth_methods_supported</code> field [<a href="#ref-rfc8414-server-metadata-obj">RFC 8414 Section 2</a>], except that this value represents the client authentication methods supported for this individual scope and not all scopes for the Client.
A value of <code class="language-plaintext highlighter-rouge">"none"</code> this array indicates that the scope may be used for public application without using a client secret.</li>
  <li><code class="language-plaintext highlighter-rouge">code_challenge_methods_supported</code> - <em>Array[<a href="#string">string</a>]</em> - (REQUIRED) For scope descriptions where <code class="language-plaintext highlighter-rouge">grant_types_supported</code> includes the value <code class="language-plaintext highlighter-rouge">authorization_code</code>, OAuth‚Äôs Proof Key for Code Exchange by OAuth Public Clients [<a href="#ref-rfc7636">RFC 7636</a>] functionality is required, and Servers MUST offer <code class="language-plaintext highlighter-rouge">S256</code> and MUST NOT offer <code class="language-plaintext highlighter-rouge">plain</code> code verifier methods.
For scope descriptions where  <code class="language-plaintext highlighter-rouge">grant_types_supported</code> does not include <code class="language-plaintext highlighter-rouge">authorization_code</code>, no authorization request is performed, so no code challenge is required and this field value is an empty list (<code class="language-plaintext highlighter-rouge">[]</code>).</li>
  <li><code class="language-plaintext highlighter-rouge">coverages_supported</code> - <em>Array[<a href="#string">string</a>]</em> - (REQUIRED) A list of CDS‚Äôs Coverage Entry Object [<a href="#ref-cds-wg1-01-coverage-entry">CDS-WG1-01 Section 4.3</a>] <code class="language-plaintext highlighter-rouge">id</code> values for which the scope is available by the Server.
If the scope provides functionality unrelated to a Server‚Äôs coverage entries (e.g. the <code class="language-plaintext highlighter-rouge">client_admin</code> scope), this value is an empty list (<code class="language-plaintext highlighter-rouge">[]</code>).</li>
  <li><code class="language-plaintext highlighter-rouge">authorization_details_fields_supported</code> - <em>Array[<a href="#auth-details-fields-format">AuthorizationDetailsField</a>]</em> - (REQUIRED) A list of fields that MAY be included in OAuth‚Äôs Rich Authorization Requests [<a href="#ref-rfc9396">RFC 9396</a>] the authorization details object for this scope <code class="language-plaintext highlighter-rouge">type</code>.
If no extra authorization details fields are available, this value is an empty list (<code class="language-plaintext highlighter-rouge">[]</code>).</li>
</ul>

<h3 id="35-registration-field-object-format-">3.5. Registration Field Object Format <a id="registration-field-format" href="#registration-field-format" class="permalink">üîó</a></h3>

<p>Registration Field objects are formatted as JSON objects and contain named values.
The following values are included in the default list available in registration fields objects.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">id</code> - <em><a href="#string">string</a></em> - (REQUIRED) The unique identifier of the registration field.
This MUST be the same value as the object key the Metadata Object‚Äôs <code class="language-plaintext highlighter-rouge">cds_registration_fields</code> object.</li>
  <li><code class="language-plaintext highlighter-rouge">type</code> - <em><a href="#registration-field-types">RegistrationFieldType</a></em> - (REQUIRED) What type of Registration Field this entry is.</li>
  <li><code class="language-plaintext highlighter-rouge">description</code> - <em><a href="#string">string</a></em> - (REQUIRED) A human-readable description of what should be submitted or expected for this registration field.</li>
  <li><code class="language-plaintext highlighter-rouge">documentation</code> - <em><a href="#url">URL</a></em> - (REQUIRED) Where developers can find more information about this registration field.</li>
  <li><code class="language-plaintext highlighter-rouge">field_name</code> - <em><a href="#string">string</a></em> - (OPTIONAL) If type is <code class="language-plaintext highlighter-rouge">registration_field</code>, this is the name of the field to submit in the <a href="#registration-request">Client Registration Request</a> and MUST start with <code class="language-plaintext highlighter-rouge">cds_</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">format</code> - <em><a href="#registration-field-formats">RegistrationFieldFormats</a></em> - (OPTIONAL) If type is <code class="language-plaintext highlighter-rouge">registration_field</code>, this is the data format that MUST be used in the value of the field.</li>
  <li><code class="language-plaintext highlighter-rouge">default</code> - <em>various</em> - (OPTIONAL) If type is <code class="language-plaintext highlighter-rouge">registration_field</code> and the field is optional, this is the default value that will be used in lieu of the Client submitting a value themselves.
Including this <code class="language-plaintext highlighter-rouge">default</code> value in the object indicates the registration field is optional.</li>
  <li><code class="language-plaintext highlighter-rouge">max_length</code> - <em><a href="#integer">integer</a></em> - (OPTIONAL) If format is one of <code class="language-plaintext highlighter-rouge">string</code>, <code class="language-plaintext highlighter-rouge">string_or_null</code>, <code class="language-plaintext highlighter-rouge">url</code>, <code class="language-plaintext highlighter-rouge">url_or_null</code>, <code class="language-plaintext highlighter-rouge">email</code>, or <code class="language-plaintext highlighter-rouge">email_or_null</code>, this is the maximum length of the submitted value, if not <code class="language-plaintext highlighter-rouge">null</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">max_size</code> - <em><a href="#integer">integer</a></em> - (OPTIONAL) If format is one of <code class="language-plaintext highlighter-rouge">image</code>, <code class="language-plaintext highlighter-rouge">image_or_null</code>, <code class="language-plaintext highlighter-rouge">pdf</code>, or <code class="language-plaintext highlighter-rouge">pdf_or_null</code>, this is the maximum file size of the submitted value before Base64 encoding, if not <code class="language-plaintext highlighter-rouge">null</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">amount</code> - <em><a href="#decimal">decimal</a></em> - (OPTIONAL) If type is <code class="language-plaintext highlighter-rouge">payment_required</code>, this is the amount in <code class="language-plaintext highlighter-rouge">currency</code> that will be required to complete registration.</li>
  <li><code class="language-plaintext highlighter-rouge">currency</code> - <em><a href="#string">string</a></em> - (OPTIONAL) If type is <code class="language-plaintext highlighter-rouge">payment_required</code>, this is the monetary currency in [<a href="#ref-iso4217">ISO 4217</a>] currency code.</li>
</ul>

<h3 id="36-registration-field-types-">3.6. Registration Field Types <a id="registration-field-types" href="#registration-field-types" class="permalink">üîó</a></h3>

<p>Registration Field types define which type of action the Client or Server will take for that registration field.
Registration Fields can be either something that MUST or MAY be submitted as part of the <a href="#registration-request">Client Registration Request</a>, depending on the submitted scope‚Äôs <code class="language-plaintext highlighter-rouge">registration_requirements</code> and <code class="language-plaintext highlighter-rouge">registration_optional</code> values, or can be something that a Client must do after registration in order to be full approved for use in the production environment.</p>

<p>The following list of strings are an enumerated set of registration field types that are valid <code class="language-plaintext highlighter-rouge">type</code> values in the registration field object.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">registration_field</code> - This field should be submitted with the <a href="#registration-request">Client Registration Request</a> as the <code class="language-plaintext highlighter-rouge">field_name</code>.
This type of registration field MUST also have <code class="language-plaintext highlighter-rouge">field_name</code> and <code class="language-plaintext highlighter-rouge">format</code> values.
If this field is optional as part of registration, <code class="language-plaintext highlighter-rouge">default</code> must also be defined in the registration field object.</li>
  <li><code class="language-plaintext highlighter-rouge">internal_review</code> - This field indicates that the Server will review the registration internally before approving it for production use.
Notifications and communication about the status of this internal review will be conveyed using the <a href="#messages-api">Messages API</a>.</li>
  <li><code class="language-plaintext highlighter-rouge">payment_required</code> - This field indicates that a setup payment will be required before the Server will approve the Client for production use.
Notifications and communication about how to pay and confirmation of payment will be conveyed using the <a href="#messages-api">Messages API</a>.</li>
  <li><code class="language-plaintext highlighter-rouge">email_verification</code> - This field indicates that the Client must verify their email before the Server will approve the Client for production use.
Notifications and communication about how to verify the Client‚Äôs contact email will be conveyed using the <a href="#messages-api">Messages API</a>.</li>
</ul>

<h3 id="37-registration-field-formats-">3.7. Registration Field Formats <a id="registration-field-formats" href="#registration-field-formats" class="permalink">üîó</a></h3>

<p>Registration Field formats define the data type of submitted values for these fields in <a href="#registration-request">Client Registration Requests</a>.</p>

<p>The following list of strings are an enumerated set of registration field formats that are valid <code class="language-plaintext highlighter-rouge">format</code> values in the registration field object.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">string</code> - If required, a <a href="#string">string</a> value MUST be submitted.</li>
  <li><code class="language-plaintext highlighter-rouge">string_or_null</code> - Same as <code class="language-plaintext highlighter-rouge">string</code>, only with <code class="language-plaintext highlighter-rouge">null</code> being an additional possible value.</li>
  <li><code class="language-plaintext highlighter-rouge">url</code> - If required, a <a href="#url">URL</a> value MUST be submitted.</li>
  <li><code class="language-plaintext highlighter-rouge">url_or_null</code> - Same as <code class="language-plaintext highlighter-rouge">url</code>, only with <code class="language-plaintext highlighter-rouge">null</code> being an additional possible value.</li>
  <li><code class="language-plaintext highlighter-rouge">email</code> - If required, a valid email address string MUST be submitted.</li>
  <li><code class="language-plaintext highlighter-rouge">email_or_null</code> - Same as <code class="language-plaintext highlighter-rouge">email</code>, only with <code class="language-plaintext highlighter-rouge">null</code> being an additional possible value.</li>
  <li><code class="language-plaintext highlighter-rouge">boolean</code> - If required, a <a href="#boolean">boolean</a> value MUST be submitted.</li>
  <li><code class="language-plaintext highlighter-rouge">boolean_or_null</code> - Same as <code class="language-plaintext highlighter-rouge">boolean</code>, only with <code class="language-plaintext highlighter-rouge">null</code> being an additional possible value.</li>
  <li><code class="language-plaintext highlighter-rouge">image</code> - If required, a valid image file formatted as <code class="language-plaintext highlighter-rouge">image/jpeg</code> or <code class="language-plaintext highlighter-rouge">image/png</code> encoded as a Base64 string using MUST be submitted.</li>
  <li><code class="language-plaintext highlighter-rouge">image_or_null</code> - Same as <code class="language-plaintext highlighter-rouge">image</code>, only with <code class="language-plaintext highlighter-rouge">null</code> being an additional possible value.</li>
  <li><code class="language-plaintext highlighter-rouge">pdf</code> - If required, a valid pdf file formatted encoded as a Base64 string MUST be submitted.</li>
  <li><code class="language-plaintext highlighter-rouge">pdf_or_null</code> - Same as <code class="language-plaintext highlighter-rouge">pdf</code>, only with <code class="language-plaintext highlighter-rouge">null</code> being an additional possible value.</li>
</ul>

<h3 id="38-authorization-details-field-object-format-">3.8. Authorization Details Field Object Format <a id="auth-details-fields-format" href="#auth-details-fields-format" class="permalink">üîó</a></h3>

<p>Authorization Details Field objects are formatted as JSON objects and contain named values.
The following values are included in the default list available in authorization details field objects.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">id</code> - <em><a href="#string">string</a></em> - (REQUIRED) The unique identifier of the authorization details field.
This value is used as the key for the field when added to <code class="language-plaintext highlighter-rouge">authorization_details</code> data fields as part of OAuth‚Äôs Rich Authorization Requests [<a href="#ref-rfc9396">RFC 9396</a>].</li>
  <li><code class="language-plaintext highlighter-rouge">name</code> - <em><a href="#string">string</a></em> - (REQUIRED) A human-readable name of the authorization details field.</li>
  <li><code class="language-plaintext highlighter-rouge">description</code> - <em><a href="#string">string</a></em> - (REQUIRED) A human-readable description of what submitting values for this authorization details field means.</li>
  <li><code class="language-plaintext highlighter-rouge">documentation</code> - <em><a href="#url">URL</a></em> - (REQUIRED) Where developers can find more information about this authorization details field.</li>
  <li><code class="language-plaintext highlighter-rouge">format</code> - <em><a href="#auth-details-field-formats">AuthorizationDetailsFieldFormats</a></em> - (REQUIRED) The data format that MUST be used in the value of the field when including it as a data field in <code class="language-plaintext highlighter-rouge">authorization_details</code> objects.</li>
  <li><code class="language-plaintext highlighter-rouge">is_required</code> - <em><a href="#boolean">boolean</a></em> - (REQUIRED) Whether the authorization details field is required or not.
If required, <code class="language-plaintext highlighter-rouge">authorization_details</code> MUST be submitted in authorization or token requests with this field included.</li>
  <li><code class="language-plaintext highlighter-rouge">default</code> - <em>various</em> - (OPTIONAL) If <code class="language-plaintext highlighter-rouge">is_required</code> is <code class="language-plaintext highlighter-rouge">false</code>, this is the default value that will be used in lieu of the Client submitting a value themselves.
This is also the value that will be used if a basic OAuth <code class="language-plaintext highlighter-rouge">scope</code> string parameter is used instead of an <code class="language-plaintext highlighter-rouge">authorization_details</code> parameter.
If <code class="language-plaintext highlighter-rouge">is_required</code> is <code class="language-plaintext highlighter-rouge">true</code>, this is not included.</li>
  <li><code class="language-plaintext highlighter-rouge">relative_date_limit</code> - <em><a href="#integer">integer</a></em> - (OPTIONAL) If <code class="language-plaintext highlighter-rouge">format</code> is <code class="language-plaintext highlighter-rouge">relative_or_absolute_date</code> and the value is limited by the Server, this is REQUIRED and MUST be the largest relative date range that may be submitted.
Servers MUST validate both submitted absolute dates and relative dates against the relative date limit, where when comparing to a submitted absolute date, the current Server date in the Server‚Äôs local timezone is used as the relative point of reference.
If <code class="language-plaintext highlighter-rouge">format</code> is not <code class="language-plaintext highlighter-rouge">relative_or_absolute_date</code>, this is not included.</li>
  <li><code class="language-plaintext highlighter-rouge">absolute_date_limit</code> - <em><a href="#integer">integer</a></em> - (OPTIONAL) If <code class="language-plaintext highlighter-rouge">format</code> is <code class="language-plaintext highlighter-rouge">relative_or_absolute_date</code> the value is limited by the Server, this is REQUIRED and MUST be the furthest away date that may be submitted.
Servers MUST validate both submitted absolute dates and relative dates against the absolute date limit, where when comparing to a submitted relative date, the current Server date in the Server‚Äôs local timezone is used as the relative point of reference.</li>
  <li><code class="language-plaintext highlighter-rouge">limit</code> - <em><a href="#integer">integer</a></em> - (OPTIONAL) If <code class="language-plaintext highlighter-rouge">format</code> is one of <code class="language-plaintext highlighter-rouge">int</code> or <code class="language-plaintext highlighter-rouge">decimal</code> and the value is limited by the Server, this is REQUIRED and MUST be the largest value that can be the submitted.
If <code class="language-plaintext highlighter-rouge">format</code> is <code class="language-plaintext highlighter-rouge">string</code> and the length of the value is limited by the Server, this is REQUIRED and MUST be the maximum string length that can be the submitted.</li>
  <li><code class="language-plaintext highlighter-rouge">choices</code> - <em>Array[<a href="#auth-details-field-choice-format">AuthorizationDetailsFieldChoice</a>]</em> - (OPTIONAL) If <code class="language-plaintext highlighter-rouge">format</code> is <code class="language-plaintext highlighter-rouge">choice</code>, this is REQUIRED and MUST be a list of one or more available choice objects.</li>
</ul>

<h3 id="39-authorization-details-field-formats-">3.9. Authorization Details Field Formats <a id="auth-details-field-formats" href="#auth-details-field-formats" class="permalink">üîó</a></h3>

<p>Authorization Details Field formats define the data type of submitted values for these fields in <code class="language-plaintext highlighter-rouge">authorization_details</code> for OAuth‚Äôs Rich Authorization Requests [<a href="#ref-rfc9396">RFC 9396</a>].</p>

<p>The following list of strings are an enumerated set of authorization details field formats that are valid <code class="language-plaintext highlighter-rouge">format</code> values in the <a href="#auth-details-fields-format">Authorization Details Field objects</a>.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">int</code> - An <a href="#integer">integer</a> value.</li>
  <li><code class="language-plaintext highlighter-rouge">decimal</code> - A <a href="#decimal">decimal</a> value, which can have any number of significant units, but MUST NOT be stored or handled as a float value, in order to retain the precision of the value throughout Server and Client processing.</li>
  <li><code class="language-plaintext highlighter-rouge">string</code> - A <a href="#string">string</a> value.</li>
  <li><code class="language-plaintext highlighter-rouge">string_or_null</code> - A <a href="#string">string</a> value or <code class="language-plaintext highlighter-rouge">null</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">boolean</code> - A <a href="#boolean">boolean</a> value.</li>
  <li><code class="language-plaintext highlighter-rouge">relative_or_absolute_date</code> - A relative or absolute date string.
Relative dates are formatted as defined by <code class="language-plaintext highlighter-rouge">duration</code> in [<a href="#ref-rfc3339-duration">RFC 3339 Appendix A</a>].
For example, <code class="language-plaintext highlighter-rouge">P3Y</code> represents a relative date range of 3 years.
Absolute dates are formatted as <a href="#date">date</a> (<code class="language-plaintext highlighter-rouge">YYYY-MM-DD</code>).
For example, <code class="language-plaintext highlighter-rouge">2024-01-02</code> represents the 2nd of January, 2024.
Dates are defined as the date from the perspective of the Server‚Äôs local timezone.</li>
  <li><code class="language-plaintext highlighter-rouge">choice</code> - A <a href="#string">string</a> value from the <code class="language-plaintext highlighter-rouge">id</code> parameter in one of the listed available <code class="language-plaintext highlighter-rouge">choices</code> <a href="#auth-details-field-choice-format">Authorization Details Field Choice</a> objects.</li>
  <li><code class="language-plaintext highlighter-rouge">jwk_or_null</code> - A <a href="#jwk-enc">JWK Public Encryption Key</a> object or <code class="language-plaintext highlighter-rouge">null</code>.</li>
</ul>

<h3 id="310-authorization-details-field-choice-object-format-">3.10. Authorization Details Field Choice Object Format <a id="auth-details-field-choice-format" href="#auth-details-field-choice-format" class="permalink">üîó</a></h3>

<p>Authorization Details Field Choice objects are formatted as JSON objects and contain named values.
The following values are included in the default list available in Authorization Details Field Choice objects.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">id</code> - <em><a href="#string">string</a></em> - (REQUIRED) The unique identifier of the authorization details field choice.
This is used as the value for the relvant field when that field is included in an object as part of a <code class="language-plaintext highlighter-rouge">authorization_details</code> list.</li>
  <li><code class="language-plaintext highlighter-rouge">name</code> - <em><a href="#string">string</a></em> - (REQUIRED) A human-readable name of the authorization details field choice.</li>
  <li><code class="language-plaintext highlighter-rouge">description</code> - <em><a href="#string">string</a></em> - (REQUIRED) A human-readable description of what submitting this value for the authorizations details field means.</li>
  <li><code class="language-plaintext highlighter-rouge">documentation</code> - <em><a href="#url">URL</a></em> - (REQUIRED) Where developers can find more information about this authorization details field choice.</li>
</ul>

<h2 id="4-client-registration-process-">4. Client Registration Process <a id="client-registration-process" href="#client-registration-process" class="permalink">üîó</a></h2>

<p>OAuth‚Äôs Dynamic Client Registration [<a href="#ref-rfc7591">RFC 7591</a>] is used as the basis for initially registering Clients with Servers.
To perform the dynamic registration process, the Client submits a request to the Server‚Äôs <code class="language-plaintext highlighter-rouge">registration_endpoint</code> provided in the Server‚Äôs <a href="#auth-server-metadata-format">Metadata object</a> as described in <a href="#registration-request">Client Registration Request</a>.
The Server then responds with either an error or a generated Client registration response as described in <a href="#registration-response">Client Registration Response</a>.</p>

<h3 id="41-client-registration-request-">4.1. Client Registration Request <a id="registration-request" href="#registration-request" class="permalink">üîó</a></h3>

<p>This specification requires Clients and Servers follow the process described in OAuth‚Äôs Client Registration Request [<a href="#ref-rfc7591-client-reg-request">RFC 7591 Section 3.1</a>], with the following modifications.</p>

<ul>
  <li>Clients MAY submit additional named values that are defined as part of scope <code class="language-plaintext highlighter-rouge">registration_requirements</code> and <code class="language-plaintext highlighter-rouge">registration_optional</code> arrays in <code class="language-plaintext highlighter-rouge">cds_scope_descriptions</code> objects, using the registration field reference‚Äôs <code class="language-plaintext highlighter-rouge">field_name</code> value as the submitted key in the registration request.</li>
  <li>Servers MUST ignore any submitted <code class="language-plaintext highlighter-rouge">redirect_uris</code> values.
Clients MAY later update individual Client object <code class="language-plaintext highlighter-rouge">redirect_uri</code> values via the <a href="#clients-modify">Modifying Clients</a> process, when that Client object <code class="language-plaintext highlighter-rouge">response_types</code> list is non-empty.</li>
</ul>

<h3 id="42-client-registration-response-">4.2. Client Registration Response <a id="registration-response" href="#registration-response" class="permalink">üîó</a></h3>

<p>This specification requires Servers follow the process described in OAuth‚Äôs Client Registration Response [<a href="#ref-rfc7591-client-reg-resp">RFC 7591 Section 3.2</a>], with the following modifications to OAuth‚Äôs Client Information Response [<a href="#ref-rfc7591-client-info-resp">RFC 7591 Section 3.2.1</a>] object.</p>

<ul>
  <li>The reponse object format MUST be the extended <a href="#client-format">Client object format</a> defined by the Clients API.</li>
  <li>The <code class="language-plaintext highlighter-rouge">scope</code> value MUST be <code class="language-plaintext highlighter-rouge">client_admin</code>, indicating that the Client in the response is only used for <code class="language-plaintext highlighter-rouge">client_admin</code> access.</li>
  <li>The <code class="language-plaintext highlighter-rouge">redirect_uris</code> value MUST be an empty list (<code class="language-plaintext highlighter-rouge">[]</code>).</li>
  <li>The <code class="language-plaintext highlighter-rouge">response_types</code> value MUST be an empty list (<code class="language-plaintext highlighter-rouge">[]</code>).</li>
  <li>The <code class="language-plaintext highlighter-rouge">grant_types</code> value MUST contain only the <code class="language-plaintext highlighter-rouge">client_credentials</code> grant, indicating that the Client details in the response may only be used for <code class="language-plaintext highlighter-rouge">client_admin</code> client credentials grant.</li>
  <li>The <code class="language-plaintext highlighter-rouge">token_endpoint_auth_method</code> MUST be set to <code class="language-plaintext highlighter-rouge">client_secret_basic</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">client_secret</code> MUST be included, despite it not being included in the Client object format returned by the Clients API, and set to the same value as the <code class="language-plaintext highlighter-rouge">client_secret</code> in the created <a href="#credentials-format">Credential object</a> for the Client object in the response.</li>
</ul>

<p>Upon valid registration, servers MUST create a Client object with the scope defined as <code class="language-plaintext highlighter-rouge">"client_admin"</code>, even if the <code class="language-plaintext highlighter-rouge">client_admin</code> scope was not included in the Client Registration Request.
This Client object scoped to <code class="language-plaintext highlighter-rouge">client_admin</code> is the one returned as the main Client object as the Client Registration Response.</p>

<p>Servers MUST also create a Client object with the scope defined as <code class="language-plaintext highlighter-rouge">"grant_admin"</code>, though it is not returned as part of the Client Registration response and is only available via the <a href="#clients-api">Clients API</a>.</p>

<p>Servers MUST also create Client objects that are configured for any other scopes for which the Client submitted registration and the submission was accepted by the Server.
Servers MAY combine scopes into individual Client objects if the <code class="language-plaintext highlighter-rouge">response_types</code>, <code class="language-plaintext highlighter-rouge">grant_types</code>, and <code class="language-plaintext highlighter-rouge">token_endpoint_auth_method</code> for the scopes are the same.</p>

<p>For each Client object created that has its <code class="language-plaintext highlighter-rouge">token_endpoint_auth_method</code> value as something other than <code class="language-plaintext highlighter-rouge">null</code>, at least one <a href="#credentials-format">Credential object</a> MUST be created and made available on the <a href="#credentials-api">Credentials API</a> for the Client to use.</p>

<p>For created Client objects that have a non-empty <code class="language-plaintext highlighter-rouge">response_types</code> list, Servers MUST create a default <code class="language-plaintext highlighter-rouge">redirect_uri</code> value and and set it as the single value in the created Client object <code class="language-plaintext highlighter-rouge">redirect_uris</code> list.
The created <code class="language-plaintext highlighter-rouge">redirect_uri</code> MUST provide functionality such that if specified as part of authorization request parameters, will redirect the user to a receipt of the authorization when the authorization is submitted successfully, or show an error to the user if the authorization is declined or otherwise errors.
This default <code class="language-plaintext highlighter-rouge">redirect_uri</code> allows Clients to request user authorization without needing to operate their own redirect endpoint.
Clients MAY choose to update the <code class="language-plaintext highlighter-rouge">redirect_uris</code> to remove this default or add additional redirect URIs using the <a href="#clients-modify">Modifying Clients</a> functionality.</p>

<p>Servers MUST NOT create Clients that have both <code class="language-plaintext highlighter-rouge">production</code> and <code class="language-plaintext highlighter-rouge">sandbox</code> values in the same <code class="language-plaintext highlighter-rouge">cds_status_options</code>, so that Client objects cannot be used for both testing and production environments.
For situations where Servers do not initially create a Client with <code class="language-plaintext highlighter-rouge">production</code> as a <code class="language-plaintext highlighter-rouge">cds_status_option</code>, such as when the Server has a manual review step, Servers MUST create a Client object with <code class="language-plaintext highlighter-rouge">sandbox</code> as a <code class="language-plaintext highlighter-rouge">cds_status_option</code> so that Clients MAY being to test their applications immediately after registration.
Then, later if and when the Server decides to allow the Client access to the production environment, the Server MUST create a new Client object with <code class="language-plaintext highlighter-rouge">production</code> as a <code class="language-plaintext highlighter-rouge">cds_status_option</code>.</p>

<p>While Servers MAY support OAuth‚Äôs Dynamic Client Registration Management Protocol [<a href="#ref-rfc7592">RFC 7592</a>] by including the <code class="language-plaintext highlighter-rouge">registration_client_uri</code> and <code class="language-plaintext highlighter-rouge">registration_access_token</code> values in their registration response, this specification requires that Servers MUST support the <a href="#clients-api">Clients API</a> by including the <code class="language-plaintext highlighter-rouge">cds_clients_api</code> value in the <a href="#auth-server-metadata-format">Authorization Server Metadata</a> as a way for Clients to manage their registrations.
The Clients API is needed beyond the OAuth Dynamic Client Registration Management Protocol because as part of registration, Servers create multiple Clients that group the various registered scopes, and OAuth‚Äôs Dynamic Client Registration Management Protocol does not support APIs for listing multiple clients or credentials that are created from a single registration request.</p>

<h2 id="5-clients-api-">5. Clients API <a id="clients-api" href="#clients-api" class="permalink">üîó</a></h2>

<p>This specification requires Servers provide a set of Application Programming Interfaces (APIs) allowing Clients to view and edit their Client registrations.
These APIs are authenticated using a Bearer <code class="language-plaintext highlighter-rouge">access_token</code> obtained by the Client using OAuth 2.0‚Äôs <code class="language-plaintext highlighter-rouge">client_credentials</code> grant process [<a href="#ref-rfc6749-client-credentials">RFC 6749 Section 4.4</a>], where the <code class="language-plaintext highlighter-rouge">client_id</code> used is for a Client that includes the <code class="language-plaintext highlighter-rouge">client_admin</code> scope.</p>

<h3 id="51-client-object-format-">5.1. Client Object Format <a id="client-format" href="#client-format" class="permalink">üîó</a></h3>

<p>Client objects are formatted as JSON objects and contain named values.
Client objects are required to follow the same object format as the OAuth Dynamic Client Registration Management Protocol‚Äôs Client Metadata [<a href="#ref-rfc7591-client-metadata">RFC 7591 Section 2</a>], with the following modifications.</p>

<p>The following fields defined in OAuth‚Äôs Client Metadata [<a href="#ref-rfc7591-client-metadata">RFC 7591 Section 2</a>] are REQUIRED to be included with all Client objects:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">client_id</code></li>
  <li><code class="language-plaintext highlighter-rouge">client_id_issued_at</code></li>
  <li><code class="language-plaintext highlighter-rouge">scope</code> - If no scope is configured, this value is an empty string (<code class="language-plaintext highlighter-rouge">""</code>).</li>
  <li><code class="language-plaintext highlighter-rouge">redirect_uris</code> - If no redirect URIs are configured, this value is an empty list (<code class="language-plaintext highlighter-rouge">[]</code>).</li>
  <li><code class="language-plaintext highlighter-rouge">token_endpoint_auth_method</code> - If no auth methods are configured, this value is <code class="language-plaintext highlighter-rouge">null</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">grant_types</code> - If no grant types are configured, this value is an empty list (<code class="language-plaintext highlighter-rouge">[]</code>).</li>
  <li><code class="language-plaintext highlighter-rouge">response_types</code> - If no response types are configured, this value is an empty list (<code class="language-plaintext highlighter-rouge">[]</code>).</li>
  <li><code class="language-plaintext highlighter-rouge">client_name</code> - If no value is submitted by the Client, the default value is the <code class="language-plaintext highlighter-rouge">client_id</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">contacts</code> - If no contacts are configured, this value is an empty list (<code class="language-plaintext highlighter-rouge">[]</code>).</li>
</ul>

<p>The following fields defined in OAuth‚Äôs Rich Authorization Requests Metadata [<a href="#ref-rfc9396-rar-metadata">RFC 9396 Section 10</a>] are REQUIRED to be included with all Client objects:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">authorization_details_types</code></li>
</ul>

<p>The following fields MUST NOT be included, except when the Client object is returned as a <a href="#registration-response">Client Registration Response</a>:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">client_secret</code></li>
</ul>

<p>The following fields MUST NOT be included, since it is moved to the <a href="#credentials-api">Credentials API</a>:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">client_secret_expires_at</code></li>
</ul>

<p>Other fields defined in the OAuth‚Äôs Client Metadata [<a href="#ref-rfc7591-client-metadata">RFC 7591 Section 2</a>] and its extensions, such as OAuth‚Äôs Client Information Response [<a href="#ref-rfc7592-client-metadata">RFC 7592 Section 3</a>], remain unmodified in their requirement and behavior.</p>

<p>In addition to the fields defined by OAuth‚Äôs Client Metadata [<a href="#ref-rfc7591-client-metadata">RFC 7591 Section 2</a>] and its extensions, the following fields are additionally defined:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">cds_created</code> - <em><a href="#datetime">datetime</a></em> - (REQUIRED) When the Client object was created.</li>
  <li><code class="language-plaintext highlighter-rouge">cds_modified</code> - <em><a href="#datetime">datetime</a></em> - (REQUIRED) When the Client object was last modified.</li>
  <li><code class="language-plaintext highlighter-rouge">cds_client_uri</code> - <em><a href="#url">URL</a></em> - (REQUIRED) Where to submit modifications using the Clients API <a href="#clients-modify">Modifying Clients</a> functionality.
Servers MUST make this URL unique for each Client object.</li>
  <li><code class="language-plaintext highlighter-rouge">cds_status</code> - <em><a href="#client-statuses">ClientStatus</a></em> - (REQUIRED) The current status of availability for this Client.</li>
  <li><code class="language-plaintext highlighter-rouge">cds_status_options</code> - <em>Array[<a href="#client-statuses">ClientStatus</a>]</em> - (REQUIRED) What <code class="language-plaintext highlighter-rouge">cds_status</code> values to which the Client MAY change the Client when <a href="#clients-modify">modifying</a> it.
For Client objects that have the <code class="language-plaintext highlighter-rouge">client_admin</code> scope, this list MUST NOT contain the <code class="language-plaintext highlighter-rouge">disabled</code> value, and for all other Client objects this list MUST contain at least the <code class="language-plaintext highlighter-rouge">disabled</code> value, so that Clients MAY opt to disable Client objects as needed.</li>
  <li><code class="language-plaintext highlighter-rouge">cds_server_metadata</code> - <em><a href="#url">URL</a></em> - (REQUIRED) Where the Client can find their registration-specific version of the Servers‚Äôs CDS Server Metadata [<a href="#ref-cds-wg1-01">CDS-WG1-01</a>].
If the Client‚Äôs registered scopes have different <a href="#scope-descriptions-format">Scope Descriptions</a> than what is in the publicly available <code class="language-plaintext highlighter-rouge">oauth_metadata</code> resource, such as more limited <code class="language-plaintext highlighter-rouge">coverages_supported</code> or different limits in <code class="language-plaintext highlighter-rouge">authorization_details_fields_supported</code>, then the <code class="language-plaintext highlighter-rouge">cds_server_metadata</code> MUST be to a resource that has an updated <code class="language-plaintext highlighter-rouge">oauth_metadata</code> resource with the Client-specific values.
If the Client‚Äôs CDS server metadata is no different from the public CDS server metadata, Servers MAY simply link to the public URL.
If this metadata endpoint requires authentication, Servers MUST authenticate Client requests to this endpoint via Bearer access token obtained using OAuth‚Äôs <code class="language-plaintext highlighter-rouge">client_credentials</code> grant with a scope of <code class="language-plaintext highlighter-rouge">client_admin</code>, and reject unauthenticated requests with a <code class="language-plaintext highlighter-rouge">401 Unauthorized</code> Status Code.
Clients know that they must use a Bearer token when Servers return a <code class="language-plaintext highlighter-rouge">401 Unauthorized</code> Status Code for this endpoint when the Client makes an unauthenticated request to the endpoint.</li>
  <li><code class="language-plaintext highlighter-rouge">cds_default_scope</code> - <em><a href="#string">string</a></em> - (OPTIONAL) The default scope string used when no <code class="language-plaintext highlighter-rouge">scope</code> parameter is provided as part of an authorization request.
This MUST be included if <code class="language-plaintext highlighter-rouge">response_types</code> is not an empty list (i.e. authorization requests are enabled).
For the initial registration response, Servers MAY choose to configure the default scope string the same as the <code class="language-plaintext highlighter-rouge">scope</code> field or another subset of default scopes.</li>
  <li><code class="language-plaintext highlighter-rouge">cds_default_redirect_uri</code> - <em><a href="#url">URL</a></em> - (OPTIONAL) The default redirect_uri string used when no <code class="language-plaintext highlighter-rouge">redirect_uri</code> parameter is provided as part of an authorization request.
This MUST be included if <code class="language-plaintext highlighter-rouge">response_types</code> is not an empty list (i.e. authorization requests are enabled).
For the initial registration response, Servers MUST set this value to the value in the <code class="language-plaintext highlighter-rouge">redirect_uris</code> that was required to be created by the Server that will redirect the user by default to an authorization receipt.</li>
  <li><code class="language-plaintext highlighter-rouge">cds_default_authorization_details</code> - <em>Array[<a href="#ref-rfc9396-auth-details">OAuth AuthorizationDetail</a>]</em> - (OPTIONAL) The default authorization details list used when no <code class="language-plaintext highlighter-rouge">authorization_details</code> parameter is provided as part of an authorization request.
This MUST be included if <code class="language-plaintext highlighter-rouge">response_types</code> is not an empty list (i.e. authorization requests are enabled).
For the initial registration response, Servers MUST set this to an empty list (<code class="language-plaintext highlighter-rouge">[]</code>).</li>
</ul>

<p>Servers MAY include other fields, such as required registration fields or informational fields, that the Server deems necessary for the Client to receive.
Servers MUST describe any additional fields that may be included in their technical documentation.</p>

<h3 id="52-client-statuses-">5.2. Client Statuses <a id="client-statuses" href="#client-statuses" class="permalink">üîó</a></h3>

<p>Client object <code class="language-plaintext highlighter-rouge">cds_status</code> values MUST be one of the following:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">production</code> - The Client object MAY be used on the Server‚Äôs production systems.
For scopes that require user authorization (e.g. <code class="language-plaintext highlighter-rouge">response_type</code> values of <code class="language-plaintext highlighter-rouge">code</code>), this <code class="language-plaintext highlighter-rouge">cds_status</code> indicates that the Client may request authorization from real users.</li>
  <li><code class="language-plaintext highlighter-rouge">sandbox</code> - The Client object MAY be used to request access on the Server‚Äôs test environment systems.
For scopes that require user authorization (i.e. <code class="language-plaintext highlighter-rouge">response_type</code> values of <code class="language-plaintext highlighter-rouge">code</code>), this <code class="language-plaintext highlighter-rouge">cds_status</code> indicates that the Client may request authorization from fictional test users, as provided in the Server‚Äôs <code class="language-plaintext highlighter-rouge">cds_test_accounts</code> documentation.</li>
  <li><code class="language-plaintext highlighter-rouge">disabled</code> - The Client is is disabled.</li>
</ul>

<h3 id="53-listing-clients-">5.3. Listing Clients <a id="clients-list" href="#clients-list" class="permalink">üîó</a></h3>

<p>Clients may request to list Client objects that they have access to by making an HTTPS <a href="#get">GET</a> request, authenticated with a valid Bearer <code class="language-plaintext highlighter-rouge">access_token</code> scoped to the <code class="language-plaintext highlighter-rouge">client_admin</code> scope, to the <code class="language-plaintext highlighter-rouge">cds_clients_api</code> URL included in the <a href="#auth-server-metadata-format">Authorization Server Metadata</a>.
The Client listing request responses are formatted as JSON objects and contain the following named values.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">clients</code> - <em>Array[<a href="#client-format">Client</a>]</em> - (REQUIRED) A list of Clients to which the requesting <code class="language-plaintext highlighter-rouge">access_token</code> is scoped to have access.
If no Clients are accessible, this value is an empty list (<code class="language-plaintext highlighter-rouge">[]</code>).
If more than 100 Clients are available to be listed, Servers MAY truncate the list and use the <code class="language-plaintext highlighter-rouge">next</code> value to link to the next segment of the list of Clients.</li>
  <li><code class="language-plaintext highlighter-rouge">next</code> - <em><a href="#url">URL</a> or <code class="language-plaintext highlighter-rouge">null</code></em> - Where to request the next segment of the list of Clients.
If no next segment exists (i.e. the requester is at the end of the list), this value is <code class="language-plaintext highlighter-rouge">null</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">previous</code> - <em><a href="#url">URL</a> or <code class="language-plaintext highlighter-rouge">null</code></em> - Where to request the previous segment of the list of Clients.
If no previous segment exists (i.e. the requester is at the front of the list), this value is <code class="language-plaintext highlighter-rouge">null</code>.</li>
</ul>

<p>Servers MUST support Clients adding any of the following URL parameters to the <a href="#get">GET</a> request, which will filter the list of Client objects to be the intersection of results for each of the URL parameters filters:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">client_ids</code> - A space-separated list of <code class="language-plaintext highlighter-rouge">client_id</code> values for which the Servers MUST filter the Client objects.</li>
</ul>

<p>Listings of Client objects MUST be ordered in reverse chronological order by <code class="language-plaintext highlighter-rouge">cds_modified</code> timestamp, where the most recently updated relevant Client MUST be first in each listing.</p>

<p>For Client objects in the listing that are added, removed, or modified by the Server or Client after initial registration, Servers MUST add a message to the <a href="#messages-list">listed Messages</a> notifiying the Client that a Client object has been added, removed, or modified.
This creates a changelog in the Messages listing for Client object updates.</p>

<h3 id="54-retrieving-individual-clients-">5.4. Retrieving Individual Clients <a id="clients-get" href="#clients-get" class="permalink">üîó</a></h3>

<p>The URL to be used to send <a href="#get">GET</a> requests for retrieving individual Client objects MUST be the <code class="language-plaintext highlighter-rouge">cds_client_uri</code> provided in the <a href="#client-format">Client object</a>.
If a Server has optionally implemented OAuth‚Äôs Dynamic Client Registration Management Protocol [<a href="#ref-rfc7592">RFC 7592</a>], the value of <code class="language-plaintext highlighter-rouge">cds_client_uri</code> MUST be the same as <code class="language-plaintext highlighter-rouge">registration_client_uri</code>, and access tokens issued from either a <code class="language-plaintext highlighter-rouge">client_credentials</code> grant with the scope <code class="language-plaintext highlighter-rouge">client_admin</code> or the access token provided as the <code class="language-plaintext highlighter-rouge">registration_access_token</code> MUST be valid access tokens to interact with the client retrieval endpoint (<code class="language-plaintext highlighter-rouge">cds_client_uri</code>).</p>

<h3 id="55-modifying-clients-">5.5. Modifying Clients <a id="clients-modify" href="#clients-modify" class="permalink">üîó</a></h3>

<p>This specification requires that the procedure to modify Clients MUST follow OAuth‚Äôs Client Update Request [<a href="#ref-rfc7592-client-mgmt-updates">RFC 7592 Section 2.2</a> section in Dynamic Client Registration Management Protocol [<a href="#ref-rfc7592">RFC 7592</a>].</p>

<p>The URL to be used to send <a href="#put">PUT</a> requests for updating clients MUST be the <code class="language-plaintext highlighter-rouge">cds_client_uri</code> provided in the <a href="#client-format">Client object</a>.
If a Server has optionally implemented OAuth‚Äôs Dynamic Client Registration Management Protocol [<a href="#ref-rfc7592">RFC 7592</a>], the value of <code class="language-plaintext highlighter-rouge">cds_client_uri</code> MUST be the same as <code class="language-plaintext highlighter-rouge">registration_client_uri</code>, and access tokens issued from either a <code class="language-plaintext highlighter-rouge">client_credentials</code> grant with the scope <code class="language-plaintext highlighter-rouge">client_admin</code> or the access token provided as the <code class="language-plaintext highlighter-rouge">registration_access_token</code> MUST be valid access tokens to interact with the client endpoint.</p>

<p>Servers MUST allow Clients to intially update the following fields:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">redirect_uris</code></li>
  <li><code class="language-plaintext highlighter-rouge">client_name</code></li>
  <li><code class="language-plaintext highlighter-rouge">client_uri</code></li>
  <li><code class="language-plaintext highlighter-rouge">logo_uri</code></li>
  <li><code class="language-plaintext highlighter-rouge">scope</code></li>
  <li><code class="language-plaintext highlighter-rouge">contacts</code></li>
  <li><code class="language-plaintext highlighter-rouge">tos_uri</code></li>
  <li><code class="language-plaintext highlighter-rouge">policy_uri</code></li>
  <li><code class="language-plaintext highlighter-rouge">cds_status</code></li>
  <li><code class="language-plaintext highlighter-rouge">cds_default_scope</code></li>
  <li><code class="language-plaintext highlighter-rouge">cds_default_redirect_uri</code></li>
  <li><code class="language-plaintext highlighter-rouge">cds_default_authorization_details</code></li>
</ul>

<p>Servers MUST NOT allow clients to update the following fields:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">client_id</code> - This value is immutable from when it was assigned upon Client registration.</li>
  <li><code class="language-plaintext highlighter-rouge">client_id_issued_at</code> - This value is immutable from when the Client initially registered.</li>
  <li><code class="language-plaintext highlighter-rouge">client_secret</code> - This value is NOT included in any Client object response, except for the initial Client registration request.
Clients MUST use the <a href="#credentials-api">Credentials API</a> to manage client secrets.</li>
  <li><code class="language-plaintext highlighter-rouge">client_secret_expires_at</code> - This value is NOT included in any Client object response.
Clients MUST use the <a href="#credentials-api">Credentials API</a> to discover when a client secret will expire.</li>
  <li><code class="language-plaintext highlighter-rouge">grant_types</code> - This list is determined by the Server based on the <code class="language-plaintext highlighter-rouge">grant_types_supported</code> described in the the <a href="#scope-descriptions-format">Scope Descriptions</a>.</li>
  <li><code class="language-plaintext highlighter-rouge">response_types</code> - This list is determined by the Server based on the <code class="language-plaintext highlighter-rouge">response_types_supported</code> described in the the <a href="#scope-descriptions-format">Scope Descriptions</a>.</li>
  <li><code class="language-plaintext highlighter-rouge">token_endpoint_auth_method</code> - This is set by the Server based on the <code class="language-plaintext highlighter-rouge">token_endpoint_auth_methods_supported</code> described in the the <a href="#scope-descriptions-format">Scope Descriptions</a>.</li>
  <li><code class="language-plaintext highlighter-rouge">cds_created</code> - This is a URL set by the Server.</li>
  <li><code class="language-plaintext highlighter-rouge">cds_modified</code> - This is a URL set by the Server.</li>
  <li><code class="language-plaintext highlighter-rouge">cds_client_uri</code> - This is a URL set by the Server.</li>
  <li><code class="language-plaintext highlighter-rouge">cds_server_metadata</code> - This is a URL set by the Server.</li>
  <li><code class="language-plaintext highlighter-rouge">cds_status_options</code> - This is a list set by the Server.</li>
</ul>

<p>For other fields, the Server MUST determine the validity of the submitted Client fields and reject with a <code class="language-plaintext highlighter-rouge">400 Bad Response</code> Status Code if not all submitted fields are either the same as previously set, or invalid values for that field.</p>

<p>If a Client does not include a field that is included in the Client object, this indicates that the Client wishes to reset the value of that field to the Server default.</p>

<p>If a Server needs to asynchronously review and approve changes to any submitted Client object fields that have been submitted by the Client and are different from the current values, for valid update requests the Server MUST respond with a <code class="language-plaintext highlighter-rouge">202 Accepted</code> Status Code, which indicates that the submission was accepted but not fully saved as completed yet.
Any fields that have not been synchronously updated as part of the request and response MUST remain in the response as their previous values, and the Server MUST add one or more entries to the <a href="#messages-list">listed Messages</a> for the modified fields that need to be asynchronously reviewed and approved.
Clients MAY then use the <a href="#messages-api">Messages API</a> to track the asynchronous review of the modification request.
If all submitted fields have been synchronously updated as part of the response, Servers MUST respond with a <code class="language-plaintext highlighter-rouge">200 OK</code> Status Code.</p>

<h2 id="6-messages-api-">6. Messages API <a id="messages-api" href="#messages-api" class="permalink">üîó</a></h2>

<p>To facilitate automated communication and notificatiosn between Servers and Clients, this specification requires that official communication between Servers and Clients be performed using the Client Messages APIs.
Servers MAY implement other means of communications for exchanging messages and notifications, such as email support, but they MUST also mirror any official communications that impact Client or Grant statuses, settings, or access using the Messages API.</p>

<p>The Messages API endpoints are authenticated using a Bearer <code class="language-plaintext highlighter-rouge">access_token</code> obtained by the Client using OAuth 2.0‚Äôs <code class="language-plaintext highlighter-rouge">client_credentials</code> grant process [<a href="#ref-rfc6749-client-credentials">RFC 6749 Section 4.4</a>], where the <code class="language-plaintext highlighter-rouge">client_id</code> used is for a Client that includes the <code class="language-plaintext highlighter-rouge">client_admin</code> scope.</p>

<h3 id="61-message-object-format-">6.1. Message Object Format <a id="message-format" href="#message-format" class="permalink">üîó</a></h3>

<p>Message objects are formatted as JSON objects and contain the following named values:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">message_id</code> - <em><a href="#string">string</a></em> - (REQUIRED) The unique identifier for the Message on the Server‚Äôs system.</li>
  <li><code class="language-plaintext highlighter-rouge">uri</code> - <em><a href="#url">URL</a></em> - (REQUIRED) Where to retrieve or modify this specific Message object.</li>
  <li><code class="language-plaintext highlighter-rouge">previous_uri</code> - <em><a href="#url">URL</a> or <code class="language-plaintext highlighter-rouge">null</code></em> - (REQUIRED) Where to find the previous Message to which this Message has been created as a reply.</li>
  <li><code class="language-plaintext highlighter-rouge">type</code> - <em><a href="#message-types">ClientMessageType</a></em> - (REQUIRED) The type of Message.</li>
  <li><code class="language-plaintext highlighter-rouge">read</code> - <em>boolean</em> - (REQUIRED) Whether the object has been marked as read by a Client.
When the Server creates a Message, this value MUST be <code class="language-plaintext highlighter-rouge">false</code> by default, so that the Message appears in the <a href="#messages-list">unread</a> list.</li>
  <li><code class="language-plaintext highlighter-rouge">creator</code> - <em><a href="#string">string</a> or <code class="language-plaintext highlighter-rouge">null</code></em> - (REQUIRED) If the Server created the Message, this value is <code class="language-plaintext highlighter-rouge">null</code>.
If the Client created the Message, this value is the Client‚Äôs <code class="language-plaintext highlighter-rouge">client_id</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">created</code> - <em><a href="#datetime">datetime</a></em> - (REQUIRED) When the Message was created.</li>
  <li><code class="language-plaintext highlighter-rouge">modified</code> - <em><a href="#datetime">datetime</a></em> - (REQUIRED) When the Message was last modified.</li>
  <li><code class="language-plaintext highlighter-rouge">status</code> - <em><a href="#message-statuses">ClientMessageStatus</a></em> - (REQUIRED) The current status of the Message.</li>
  <li><code class="language-plaintext highlighter-rouge">name</code> - <em><a href="#string">string</a></em> - (REQUIRED) A human-readable name of the Message.
If the Message <code class="language-plaintext highlighter-rouge">type</code> is <code class="language-plaintext highlighter-rouge">notification</code>, <code class="language-plaintext highlighter-rouge">private_message</code>, or <code class="language-plaintext highlighter-rouge">support_request</code>, this is the message subject.</li>
  <li><code class="language-plaintext highlighter-rouge">description</code> - <em><a href="#string">string</a></em> - (REQUIRED) A human-readable description of the Message.
If the Message <code class="language-plaintext highlighter-rouge">type</code> is <code class="language-plaintext highlighter-rouge">notification</code>, <code class="language-plaintext highlighter-rouge">private_message</code>, or <code class="language-plaintext highlighter-rouge">support_request</code>, this is the message body.</li>
  <li><code class="language-plaintext highlighter-rouge">updates_requested</code> - <em>Array[<a href="#client-update-request-format">ClientUpdateRequest</a>]</em> - (OPTIONAL) The list of values that a Client has requested to be updated.
This field is required for Messages with a <code class="language-plaintext highlighter-rouge">type</code> value of <code class="language-plaintext highlighter-rouge">field_changes</code> or <code class="language-plaintext highlighter-rouge">server_request</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">grants_requested</code> - <em>Array[<a href="#client-grant-request-format">ClientGrantRequest</a>]</em> - (OPTIONAL) The list of grants with their parameters that a Client has requested to be issued by the Server.
This field is required for Messages with a <code class="language-plaintext highlighter-rouge">type</code> value of <code class="language-plaintext highlighter-rouge">grant_request</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">attachments</code> - <em>Array[<a href="#message-attachment-format">MessageAttachment</a>]</em> - (OPTIONAL) A list of file attachments associated with the Message.
Message attachments are intended to allow Clients and Servers to attach relatively small unstructured files, such as PDF documents, to their messages that are relevant.
For example, a Client MAY attach a letter of authorization scanned PDF as part their <code class="language-plaintext highlighter-rouge">grant_request</code> Message.
Message attachments are not intended to provide a means for repeatedly transferring structured data or large amounts of data.
It is RECOMMNEDED that Servers prefer to share files via the <a href="#server-provided-files-api">Server-Provided Files API</a> or other relevant APIs and only use Message attachments when the attachment is relatively small in size and only relevant to the Message.</li>
  <li><code class="language-plaintext highlighter-rouge">related_uri</code> - <em><a href="#url">URL</a> or <code class="language-plaintext highlighter-rouge">null</code></em> - (OPTIONAL) If the Message <code class="language-plaintext highlighter-rouge">type</code> is <code class="language-plaintext highlighter-rouge">notification</code> or <code class="language-plaintext highlighter-rouge">private_message</code>, this value is where the Client can find more information, if available.
If the Message <code class="language-plaintext highlighter-rouge">type</code> is <code class="language-plaintext highlighter-rouge">production_request</code>, this value is a relevant Client object <code class="language-plaintext highlighter-rouge">cds_client_uri</code> that has the <code class="language-plaintext highlighter-rouge">sandbox</code> value in its <code class="language-plaintext highlighter-rouge">cds_status_options</code> list for which the Client is requesting an equivalent Client object be created with <code class="language-plaintext highlighter-rouge">production</code> in the <code class="language-plaintext highlighter-rouge">cds_status_options</code> list.
If the Message <code class="language-plaintext highlighter-rouge">type</code> is <code class="language-plaintext highlighter-rouge">support_request</code>, this value is a relevant URL for which the Client is requesting technical support.
If the Message <code class="language-plaintext highlighter-rouge">type</code> is <code class="language-plaintext highlighter-rouge">field_changes</code>, this is where the Client can retrieve the object that has been requested to be modified.
If the Message <code class="language-plaintext highlighter-rouge">type</code> is <code class="language-plaintext highlighter-rouge">payment_request</code>, this is where the Client can submit their payment to the Server or if paid, a link to the payment receipt.
If the Message <code class="language-plaintext highlighter-rouge">type</code> is <code class="language-plaintext highlighter-rouge">server_request</code>, this is where the Client can find more information about what information is being requested by the Server.
If the Message <code class="language-plaintext highlighter-rouge">type</code> is <code class="language-plaintext highlighter-rouge">grant_request</code> and <code class="language-plaintext highlighter-rouge">creator</code> is not <code class="language-plaintext highlighter-rouge">null</code>, this value is a relevant Client <code class="language-plaintext highlighter-rouge">cds_client_uri</code> to which the requesting Client is requesting the Grants be assigned to if created by the Server, which MAY be a Client that is managed by the requesting Client (e.g. a ‚Äúself‚Äù grant) or MAY be a completely separate Client with which the requesting Client is working (e.g. a ‚Äúthird-party‚Äù grant).</li>
  <li><code class="language-plaintext highlighter-rouge">related_type</code> - <em><a href="#message-related-types">ClientMessageRelatedType</a></em> - (OPTIONAL) The type of object or resource linked to by the <code class="language-plaintext highlighter-rouge">related_uri</code>.
If <code class="language-plaintext highlighter-rouge">related_uri</code> is included, this field is REQUIRED.</li>
  <li><code class="language-plaintext highlighter-rouge">amount</code> - <em><a href="#decimal">decimal</a></em> - (OPTIONAL) If the Message <code class="language-plaintext highlighter-rouge">type</code> is <code class="language-plaintext highlighter-rouge">payment_request</code>, this amount the Client needs to pay to satisfy the payment request.</li>
  <li><code class="language-plaintext highlighter-rouge">currency</code> - <em><a href="#string">string</a></em> - (OPTIONAL) If the Message <code class="language-plaintext highlighter-rouge">type</code> is <code class="language-plaintext highlighter-rouge">payment_request</code>, this is the monetary currency for the <code class="language-plaintext highlighter-rouge">amount</code> in [<a href="#ref-iso4217">ISO 4217</a>] currency code.</li>
</ul>

<h3 id="62-message-types-">6.2. Message Types <a id="message-types" href="#message-types" class="permalink">üîó</a></h3>

<p>Message object <code class="language-plaintext highlighter-rouge">type</code> values MUST be one of the following:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">notification</code> - The Server is sending the Client at notification message that is relevant to the Client.
This message is considered to be not individually tailored to the Client specifically, but instead directed to all relevant Clients.</li>
  <li><code class="language-plaintext highlighter-rouge">private_message</code> - The Server or Client is sending a private message to the opposite party.
This message is considered to be individually tailored and relevant only to that Client or Server.</li>
  <li><code class="language-plaintext highlighter-rouge">production_request</code> - The Client is requesting a Client object be created that has the <code class="language-plaintext highlighter-rouge">production</code> value in the Client‚Äôs <code class="language-plaintext highlighter-rouge">cds_status_options</code> list.</li>
  <li><code class="language-plaintext highlighter-rouge">support_request</code> - The Client is submitting a technical support request to the Server.</li>
  <li><code class="language-plaintext highlighter-rouge">grant_request</code> - The Client is submitting a request for the Server to create Grants with the parameters provided in the <code class="language-plaintext highlighter-rouge">grants_requested</code> list.</li>
  <li><code class="language-plaintext highlighter-rouge">field_changes</code> - This Message represents that the Client has submitted changes to field values in other API objects, listed in the <code class="language-plaintext highlighter-rouge">updates_requested</code> list, but these changes were not synchronously approved by the Server and need to be reviewed asynchronously by the Server.
While the Client originally triggered this Message to be created by submitting field changes that need to be asynchronously reviewed, the Server is responsible for creating this Message, so the <code class="language-plaintext highlighter-rouge">creator</code> value is <code class="language-plaintext highlighter-rouge">null</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">server_request</code> - The Server is requesting the Client submit a new Message of type <code class="language-plaintext highlighter-rouge">client_submission</code> with the fields listed in <code class="language-plaintext highlighter-rouge">updates_requested</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">client_submission</code> - The Client is submitting a response to a <code class="language-plaintext highlighter-rouge">server_request</code> to update one or more fields of a specific object.
Both Clients and Servers MAY create these types of Message requests.</li>
  <li><code class="language-plaintext highlighter-rouge">payment_request</code> - The Server is requesting payment by the Client to complete a financial payment before the Client may proceed with either registration approval or completing actions listed in the <code class="language-plaintext highlighter-rouge">updates_requested</code> list.</li>
</ul>

<h3 id="63-message-statuses-">6.3. Message Statuses <a id="message-statuses" href="#message-statuses" class="permalink">üîó</a></h3>

<p>Message object <code class="language-plaintext highlighter-rouge">status</code> values MUST be one of the following:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">complete</code> - For Messages with <code class="language-plaintext highlighter-rouge">type</code> values of <code class="language-plaintext highlighter-rouge">notification</code>, <code class="language-plaintext highlighter-rouge">private_message</code>, or <code class="language-plaintext highlighter-rouge">client_submission</code>, the <code class="language-plaintext highlighter-rouge">status</code> MUST be set as <code class="language-plaintext highlighter-rouge">complete</code>.
For Messages with <code class="language-plaintext highlighter-rouge">type</code> values of <code class="language-plaintext highlighter-rouge">production_request</code>, <code class="language-plaintext highlighter-rouge">support_request</code>, <code class="language-plaintext highlighter-rouge">grant_request</code>, <code class="language-plaintext highlighter-rouge">field_changes</code>, <code class="language-plaintext highlighter-rouge">server_request</code>, or <code class="language-plaintext highlighter-rouge">payment_request</code>, this represents the Server has completed and approved or resolved the Client‚Äôs technical support request, field changes, submission, or payment.
For Messages with a <code class="language-plaintext highlighter-rouge">type</code> value of <code class="language-plaintext highlighter-rouge">production_request</code> and <code class="language-plaintext highlighter-rouge">status</code> value of <code class="language-plaintext highlighter-rouge">complete</code>, Servers MUST set the <code class="language-plaintext highlighter-rouge">related_type</code> to be <code class="language-plaintext highlighter-rouge">client</code> and <code class="language-plaintext highlighter-rouge">related_uri</code> to link to the <a href="#clients-get">individual Client object</a> that has <code class="language-plaintext highlighter-rouge">production</code> in its <code class="language-plaintext highlighter-rouge">cds_status_options</code> list.
For Messages with a <code class="language-plaintext highlighter-rouge">type</code> value of <code class="language-plaintext highlighter-rouge">grant_request</code> and <code class="language-plaintext highlighter-rouge">status</code> value of <code class="language-plaintext highlighter-rouge">complete</code>, Servers MUST set the <code class="language-plaintext highlighter-rouge">related_type</code> to be <code class="language-plaintext highlighter-rouge">grant_list</code> and <code class="language-plaintext highlighter-rouge">related_uri</code> to link to Grants API <a href="#grants-list">listing</a> with URL parameters that filter to only the relevant Grants.</li>
  <li><code class="language-plaintext highlighter-rouge">open</code> - For Messages with <code class="language-plaintext highlighter-rouge">type</code> values of <code class="language-plaintext highlighter-rouge">server_request</code> or <code class="language-plaintext highlighter-rouge">payment_request</code>, this represents that the Client has not yet submitted a response to the Server‚Äôs submission or payment request.</li>
  <li><code class="language-plaintext highlighter-rouge">pending</code> - For Messages with <code class="language-plaintext highlighter-rouge">type</code> values of <code class="language-plaintext highlighter-rouge">production_request</code>, <code class="language-plaintext highlighter-rouge">support_request</code>, <code class="language-plaintext highlighter-rouge">grant_request</code>, <code class="language-plaintext highlighter-rouge">field_changes</code>, <code class="language-plaintext highlighter-rouge">server_request</code>, or <code class="language-plaintext highlighter-rouge">payment_request</code>, this represents the Server has not yet completed it‚Äôs review of the Client‚Äôs production or technical support request, field changes, submission, or payment.</li>
  <li><code class="language-plaintext highlighter-rouge">rejected</code> - For Messages with <code class="language-plaintext highlighter-rouge">type</code> values of <code class="language-plaintext highlighter-rouge">field_changes</code>, <code class="language-plaintext highlighter-rouge">server_request</code>, <code class="language-plaintext highlighter-rouge">production_request</code>, <code class="language-plaintext highlighter-rouge">grant_request</code>, or <code class="language-plaintext highlighter-rouge">payment_request</code>, this represents the Server has completed and rejected the Client‚Äôs requested production access request, field changes, submission, grant, or payment.
When Servers create a rejected Message, the Server‚Äôs created Message MUST contain information in the <code class="language-plaintext highlighter-rouge">description</code> field on why the Message that was created by the Client, typically linked by the <code class="language-plaintext highlighter-rouge">previous_uri</code> field, was rejected.</li>
  <li><code class="language-plaintext highlighter-rouge">errored</code> - For Messages with <code class="language-plaintext highlighter-rouge">type</code> values of <code class="language-plaintext highlighter-rouge">field_changes</code>, <code class="language-plaintext highlighter-rouge">server_request</code>, or <code class="language-plaintext highlighter-rouge">payment_request</code>, this represents the Server encountered an issue while processing the Client‚Äôs field changes, submission, or payment.
The Client is RECOMMENDED to submit a <code class="language-plaintext highlighter-rouge">support_request</code> Messages with the <code class="language-plaintext highlighter-rouge">related_uri</code> as the relevant errored Message‚Äôs <code class="language-plaintext highlighter-rouge">uri</code>.</li>
</ul>

<h3 id="64-message-related-types-">6.4. Message Related Types <a id="message-related-types" href="#message-related-types" class="permalink">üîó</a></h3>

<p>When included, Message object <code class="language-plaintext highlighter-rouge">related_type</code> values MUST be one of the following:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">more_info</code> - The <code class="language-plaintext highlighter-rouge">related_uri</code> is to a resource (e.g. regulatory compliance details website page) with additional information for the Client to reference.</li>
  <li><code class="language-plaintext highlighter-rouge">documentation</code> - The <code class="language-plaintext highlighter-rouge">related_uri</code> is to a technical documentation resource (e.g. API documentation website page) for the Client to reference.</li>
  <li><code class="language-plaintext highlighter-rouge">support</code> - The <code class="language-plaintext highlighter-rouge">related_uri</code> is to a technical support resource (e.g. support contact form) for the Client to reference.</li>
  <li><code class="language-plaintext highlighter-rouge">client_list</code> - The <code class="language-plaintext highlighter-rouge">related_uri</code> is to a <a href="#clients-list">Client list</a>, which can include request parameters.</li>
  <li><code class="language-plaintext highlighter-rouge">client</code> - The <code class="language-plaintext highlighter-rouge">related_uri</code> is to a <a href="#clients-get">individual Client</a>.</li>
  <li><code class="language-plaintext highlighter-rouge">grant_list</code> - The <code class="language-plaintext highlighter-rouge">related_uri</code> is to a <a href="#grants-list">Grant list</a>, which can include request parameters.</li>
  <li><code class="language-plaintext highlighter-rouge">grant</code> - The <code class="language-plaintext highlighter-rouge">related_uri</code> is to a <a href="#grants-get">individual Grant</a>.</li>
  <li><code class="language-plaintext highlighter-rouge">message_list</code> - The <code class="language-plaintext highlighter-rouge">related_uri</code> is to a <a href="#messages-list">Message list</a>, which can include request parameters.</li>
  <li><code class="language-plaintext highlighter-rouge">message</code> - The <code class="language-plaintext highlighter-rouge">related_uri</code> is to a <a href="#messages-get">individual Message</a>.</li>
  <li><code class="language-plaintext highlighter-rouge">credential_list</code> - The <code class="language-plaintext highlighter-rouge">related_uri</code> is to a <a href="#credentials-list">Credential list</a>, which can include request parameters.</li>
  <li><code class="language-plaintext highlighter-rouge">credential</code> - The <code class="language-plaintext highlighter-rouge">related_uri</code> is to a <a href="#credentials-get">individual Credential</a>.</li>
</ul>

<p>For <code class="language-plaintext highlighter-rouge">more_info</code>, <code class="language-plaintext highlighter-rouge">documentation</code>, and <code class="language-plaintext highlighter-rouge">support</code> related types, authentication for requests to these resources is unspecified, where Servers MAY allow unauthenticated requests to the resource (e.g. public webpage) or MAY require user authentication (e.g. user login).</p>

<p>For <code class="language-plaintext highlighter-rouge">client_list</code>, <code class="language-plaintext highlighter-rouge">client</code>, <code class="language-plaintext highlighter-rouge">grant_list</code>, <code class="language-plaintext highlighter-rouge">grant</code>, <code class="language-plaintext highlighter-rouge">message_list</code>, <code class="language-plaintext highlighter-rouge">message</code>, <code class="language-plaintext highlighter-rouge">credential_list</code>, and <code class="language-plaintext highlighter-rouge">credential</code> related types, Clients MUST authenticate requests to the resource with a valid Bearer <code class="language-plaintext highlighter-rouge">access_token</code> scoped to the <code class="language-plaintext highlighter-rouge">client_admin</code> scope.</p>

<h3 id="65-client-update-request-object-format-">6.5. Client Update Request Object Format <a id="client-update-request-format" href="#client-update-request-format" class="permalink">üîó</a></h3>

<p>Client Update Request objects are formatted as JSON objects and contain the following named values:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">field</code> - <em><a href="#string">string</a></em> - (REQUIRED) The field name of the field that is being requested to be updated.
For Messages with <code class="language-plaintext highlighter-rouge">type</code> values of <code class="language-plaintext highlighter-rouge">field_changes</code>, this is the name of the object‚Äôs field on the API.
For Messages with <code class="language-plaintext highlighter-rouge">type</code> values of <code class="language-plaintext highlighter-rouge">server_request</code>, this is the Server‚Äôs identifier for the submission being requested from the client.</li>
  <li><code class="language-plaintext highlighter-rouge">name</code> - <em><a href="#string">string</a></em> - (OPTIONAL) For Messages with <code class="language-plaintext highlighter-rouge">type</code> values of <code class="language-plaintext highlighter-rouge">server_request</code>, this MUST be a human-readable name of the submission type being requested as the client.</li>
  <li><code class="language-plaintext highlighter-rouge">description</code> - <em><a href="#string">string</a></em> - (OPTIONAL) For Messages with <code class="language-plaintext highlighter-rouge">type</code> values of <code class="language-plaintext highlighter-rouge">server_request</code>, this MUST be a human-readable description providing the Client with more information about what this submission request item is.</li>
  <li><code class="language-plaintext highlighter-rouge">submitted_uri</code> - <em><a href="#url">URL</a></em> - (OPTIONAL) For Messages with <code class="language-plaintext highlighter-rouge">type</code> values of <code class="language-plaintext highlighter-rouge">client_submission</code>, this MAY be a URL that the Client is submitting as their response to the Server‚Äôs <code class="language-plaintext highlighter-rouge">server_request</code>, when the Server‚Äôs requested field is for a remote resource, such as an logo or binary file.</li>
  <li><code class="language-plaintext highlighter-rouge">previous_value</code> - <em>various</em> - (OPTIONAL) For Messages with <code class="language-plaintext highlighter-rouge">type</code> values of <code class="language-plaintext highlighter-rouge">field_changes</code>, this MUST be the value of the field that the is being requested to be changed from.</li>
  <li><code class="language-plaintext highlighter-rouge">new_value</code> - <em>various</em> - (OPTIONAL) For Messages with <code class="language-plaintext highlighter-rouge">type</code> values of <code class="language-plaintext highlighter-rouge">field_changes</code>, this MUST be the value of the field that the is being requested to be changed to.</li>
</ul>

<h3 id="66-client-grant-request-object-format-">6.6. Client Grant Request Object Format <a id="client-grant-request-format" href="#client-grant-request-format" class="permalink">üîó</a></h3>

<p>Client Grant Request objects are formatted as JSON objects and contain the following named values:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">scope</code> - <em><a href="#string">string</a></em> - (REQUIRED) The OAuth scope string being requested for the Grant.</li>
  <li><code class="language-plaintext highlighter-rouge">authorization_details</code> - <em>Array[<a href="#ref-rfc9396-auth-details">OAuth AuthorizationDetail</a>]</em> - (REQUIRED) An authorization details list as defined by [<a href="#ref-rfc9396-auth-details">RFC 9396 Section 7.1</a>], to further specify the grant‚Äôs requested scope.
If the <code class="language-plaintext highlighter-rouge">scope</code> string is sufficient to define the requested scope being requested by the Client, this value is an empty list (<code class="language-plaintext highlighter-rouge">[]</code>).</li>
</ul>

<h3 id="67-message-attachment-object-format-">6.7. Message Attachment Object Format <a id="message-attachment-format" href="#message-attachment-format" class="permalink">üîó</a></h3>

<p>Message Attachment objects are formatted as JSON objects and contain the following named values:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">filename</code> - <em><a href="#string">string</a></em> - (REQUIRED) The attached file‚Äôs name.</li>
  <li><code class="language-plaintext highlighter-rouge">mime_type</code> - <em><a href="#mime-type">MIME type</a></em> - (REQUIRED) The attached file‚Äôs content type. For example, an attached PDF file would have a <code class="language-plaintext highlighter-rouge">mime_type</code> of <code class="language-plaintext highlighter-rouge">application/pdf</code>. Unknown file content types MUST have a <code class="language-plaintext highlighter-rouge">mime_type</code> value of <code class="language-plaintext highlighter-rouge">application/octet-stream</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">data</code> - <em><a href="#string">string</a></em> - (REQUIRED) A Base64 encoded string of the file‚Äôs data.</li>
</ul>

<h3 id="68-listing-messages-">6.8. Listing Messages <a id="messages-list" href="#messages-list" class="permalink">üîó</a></h3>

<p>Clients may request to list Message objects that they have access to by making an HTTPS <a href="#get">GET</a> request, authenticated with a valid Bearer <code class="language-plaintext highlighter-rouge">access_token</code> scoped to the <code class="language-plaintext highlighter-rouge">client_admin</code> scope, to the <code class="language-plaintext highlighter-rouge">cds_messages_api</code> URL included in the <a href="#auth-server-metadata-format">Authorization Server Metadata</a>.
The Message listing request responses are formatted as JSON objects and contain the following named values.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">outstanding</code> - <em>Array[<a href="#message-format">ClientMessage</a>]</em> - (REQUIRED) A list of Messages where the <code class="language-plaintext highlighter-rouge">status</code> is <code class="language-plaintext highlighter-rouge">open</code> or <code class="language-plaintext highlighter-rouge">pending</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">outstanding_next</code> - <em><a href="#url">URL</a> or <code class="language-plaintext highlighter-rouge">null</code></em> - Where to request the next segment of the list of outstanding Messages.
If no next segment exists (i.e. the requester is at the end of the list), this value is <code class="language-plaintext highlighter-rouge">null</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">outstanding_previous</code> - <em><a href="#url">URL</a> or <code class="language-plaintext highlighter-rouge">null</code></em> - Where to request the previous segment of the list of outstanding Messages.
If no previous segment exists (i.e. the requester is at the front of the list), this value is <code class="language-plaintext highlighter-rouge">null</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">unread</code> - <em>Array[<a href="#message-format">ClientMessage</a>]</em> - (REQUIRED) A list of Messages where the <code class="language-plaintext highlighter-rouge">read</code> is <code class="language-plaintext highlighter-rouge">false</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">unread_next</code> - <em><a href="#url">URL</a> or <code class="language-plaintext highlighter-rouge">null</code></em> - Where to request the next segment of the list of unread Messages.
If no next segment exists (i.e. the requester is at the end of the list), this value is <code class="language-plaintext highlighter-rouge">null</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">unread_previous</code> - <em><a href="#url">URL</a> or <code class="language-plaintext highlighter-rouge">null</code></em> - Where to request the previous segment of the list of unread Messages.
If no previous segment exists (i.e. the requester is at the front of the list), this value is <code class="language-plaintext highlighter-rouge">null</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">read</code> - <em>Array[<a href="#message-format">ClientMessage</a>]</em> - (REQUIRED) A list of Messages where the <code class="language-plaintext highlighter-rouge">read</code> is <code class="language-plaintext highlighter-rouge">true</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">read_next</code> - <em><a href="#url">URL</a> or <code class="language-plaintext highlighter-rouge">null</code></em> - Where to request the next segment of the list of read Messages.
If no next segment exists (i.e. the requester is at the end of the list), this value is <code class="language-plaintext highlighter-rouge">null</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">read_previous</code> - <em><a href="#url">URL</a> or <code class="language-plaintext highlighter-rouge">null</code></em> - Where to request the previous segment of the list of read Messages.
If no previous segment exists (i.e. the requester is at the front of the list), this value is <code class="language-plaintext highlighter-rouge">null</code>.</li>
</ul>

<p>Servers MUST support Clients adding any of the following URL parameters to the <a href="#get">GET</a> request, which will filter the list of Messages to be the intersection of results for each of the URL parameters filters:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">message_ids</code> - A space-separated list of <code class="language-plaintext highlighter-rouge">message_id</code> values for which the Servers MUST filter the Messages.</li>
</ul>

<p>Responses to <code class="language-plaintext highlighter-rouge">outstanding_next</code>, <code class="language-plaintext highlighter-rouge">outstanding_previous</code>, <code class="language-plaintext highlighter-rouge">unread_next</code>, <code class="language-plaintext highlighter-rouge">unread_previous</code>, <code class="language-plaintext highlighter-rouge">read_next</code>, or <code class="language-plaintext highlighter-rouge">read_previous</code> MUST be formatted the same as the initial Message listing, and MUST only include listings for the relevant next segment.
For example, if the Client requests a <code class="language-plaintext highlighter-rouge">unread_next</code>, the Server‚Äôs response MUST have <code class="language-plaintext highlighter-rouge">outstanding</code> and <code class="language-plaintext highlighter-rouge">read</code> lists be empty lists (<code class="language-plaintext highlighter-rouge">[]</code>).</p>

<p>Listings of Message objects MUST be ordered in reverse chronological order by <code class="language-plaintext highlighter-rouge">modified</code> timestamp, where the most recently modified relevant Message MUST be first in each listing.</p>

<h3 id="69-creating-messages-">6.9. Creating Messages <a id="messages-create" href="#messages-create" class="permalink">üîó</a></h3>

<p>Clients create new Messages by sending an authenticated HTTPS <a href="#post">POST</a> request to the <code class="language-plaintext highlighter-rouge">cds_messages_api</code> endpoint with the body of the request formatted a JSON object.</p>

<p>The fields included in JSON object MUST include the following:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">previous_uri</code> - <em><a href="#url">URL</a> or <code class="language-plaintext highlighter-rouge">null</code></em> - If submitting a Message with a <code class="language-plaintext highlighter-rouge">type</code> value of <code class="language-plaintext highlighter-rouge">client_submission</code>, this value MUST be the Message <code class="language-plaintext highlighter-rouge">uri</code> that this Message is being submitted in response to (i.e. must have a <code class="language-plaintext highlighter-rouge">type</code> value of <code class="language-plaintext highlighter-rouge">server_request</code>).
If submitting a Message with a <code class="language-plaintext highlighter-rouge">type</code> value of <code class="language-plaintext highlighter-rouge">support_request</code> or <code class="language-plaintext highlighter-rouge">private_message</code>, if the Client is responding to a previous Message, this value MUST be the Message <code class="language-plaintext highlighter-rouge">uri</code> of that Message.
If submitting a Message with a <code class="language-plaintext highlighter-rouge">type</code> value of <code class="language-plaintext highlighter-rouge">support_request</code> or <code class="language-plaintext highlighter-rouge">private_message</code> that is not responding to another specific Message, this value MUST be <code class="language-plaintext highlighter-rouge">null</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">type</code> - <em><a href="#message-types">ClientMessageType</a></em> - This value MUST be one of <code class="language-plaintext highlighter-rouge">private_message</code>, <code class="language-plaintext highlighter-rouge">production_request</code>, <code class="language-plaintext highlighter-rouge">support_request</code>, <code class="language-plaintext highlighter-rouge">grant_request</code>, or <code class="language-plaintext highlighter-rouge">client_submission</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">name</code> - <em><a href="#string">string</a></em> - If submitting a Message with a <code class="language-plaintext highlighter-rouge">type</code> value of <code class="language-plaintext highlighter-rouge">client_submission</code>, this value MUST be an empty string (<code class="language-plaintext highlighter-rouge">""</code>).
If submitting a Message with a <code class="language-plaintext highlighter-rouge">type</code> value of <code class="language-plaintext highlighter-rouge">support_request</code> or <code class="language-plaintext highlighter-rouge">private_message</code>, this value MUST be the subject line of the message.</li>
  <li><code class="language-plaintext highlighter-rouge">description</code> - <em><a href="#string">string</a></em> - If submitting a Message with a <code class="language-plaintext highlighter-rouge">type</code> value of <code class="language-plaintext highlighter-rouge">client_submission</code>, this value MUST be an empty string (<code class="language-plaintext highlighter-rouge">""</code>).
If submitting a Message with a <code class="language-plaintext highlighter-rouge">type</code> value of <code class="language-plaintext highlighter-rouge">support_request</code> or <code class="language-plaintext highlighter-rouge">private_message</code>, this value MUST be the body of the message.</li>
</ul>

<p>The fields included in JSON object MAY include the following:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">updates_requested</code> - <em>Array[<a href="#client-update-request-format">ClientUpdateRequest</a>]</em> - If submitting a Client Update with a <code class="language-plaintext highlighter-rouge">type</code> value of <code class="language-plaintext highlighter-rouge">client_submission</code>, this is required and MUST be a list of <a href="#client-update-request-format">Client Update Request</a> objects with <code class="language-plaintext highlighter-rouge">field</code> values matching the <code class="language-plaintext highlighter-rouge">field</code> values in the corresponding <code class="language-plaintext highlighter-rouge">server_request</code> Client Update Request objects, and <code class="language-plaintext highlighter-rouge">description</code> or <code class="language-plaintext highlighter-rouge">submitted_uri</code> values being the Client‚Äôs submission response to the Server‚Äôs request for that <code class="language-plaintext highlighter-rouge">field</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">grants_requested</code> - <em>Array[<a href="#client-grant-request-format">ClientGrantRequest</a>]</em> - If submitting a Client Update with a <code class="language-plaintext highlighter-rouge">type</code> value of <code class="language-plaintext highlighter-rouge">grant_request</code>, this is required and MUST be a list of <a href="#client-grant-request-format">Client Grant Request</a> objects.</li>
  <li><code class="language-plaintext highlighter-rouge">related_uri</code> - <em><a href="#url">URL</a> or <code class="language-plaintext highlighter-rouge">null</code></em> - If submitting a Message with a <code class="language-plaintext highlighter-rouge">type</code> value of <code class="language-plaintext highlighter-rouge">support_request</code>, this value MAY be a URL to the relevant API endpoint for the support request.
If submitting a Message with a <code class="language-plaintext highlighter-rouge">type</code> value of <code class="language-plaintext highlighter-rouge">production_request</code>, this value is a relevant Client object <code class="language-plaintext highlighter-rouge">cds_client_uri</code> that has the <code class="language-plaintext highlighter-rouge">sandbox</code> value in its <code class="language-plaintext highlighter-rouge">cds_status_options</code> list for which the Client is requesting an equivalent Client object be created with <code class="language-plaintext highlighter-rouge">production</code> in the <code class="language-plaintext highlighter-rouge">cds_status_options</code> list.
If submitting a Message with a <code class="language-plaintext highlighter-rouge">type</code> value of <code class="language-plaintext highlighter-rouge">grant_request</code>, this value is a relevant Client <code class="language-plaintext highlighter-rouge">cds_client_uri</code> to which the requesting Client is requesting the Grants be assigned to if created by the Server, which MAY be a Client that is managed by the requesting Client (e.g. a ‚Äúself‚Äù grant) or MAY be a completely separate Client with which the requesting Client is working (e.g. a ‚Äúthird-party‚Äù grant).
If there is no relevant API endpoint, the Client MUST not include this field.</li>
</ul>

<p>Servers MUST reject requests with a <code class="language-plaintext highlighter-rouge">400 Bad Request</code> Status Code when a Client submits an incomplete request, the submitted values are invalid.
Servers MUST reject requests with a <code class="language-plaintext highlighter-rouge">413 Content Too Large</code> Status Code when a Client submits a Message with attachments that exceed the Server‚Äôs submission size limit, which MUST be equal to or greater than 10 megabytes.
For valid <a href="#post">POST</a> requests from Clients, Servers MUST respond with a <code class="language-plaintext highlighter-rouge">201 Created</code> Status Code with a JSON object of the complete newly created Message object.
When committing Messages created by Clients, Servers MUST populate the following fields in addition to the Client‚Äôs submitted fields:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">uri</code> - <em><a href="#url">URL</a></em> - The endpoint where the Client can retrieve the newly created Message object.</li>
  <li><code class="language-plaintext highlighter-rouge">read</code> - <em>boolean</em> - Always set to <code class="language-plaintext highlighter-rouge">true</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">creator</code> - <em><a href="#string">string</a></em> - Always set to the Client‚Äôs <code class="language-plaintext highlighter-rouge">client_id</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">created</code> - <em><a href="#datetime">datetime</a></em> - Always set to the Server‚Äôs timestamp for when the Message was created.</li>
  <li><code class="language-plaintext highlighter-rouge">modified</code> - <em><a href="#datetime">datetime</a></em> - Always the same as <code class="language-plaintext highlighter-rouge">created</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">status</code> - <em><a href="#message-statuses">ClientMessageStatus</a></em> - For <code class="language-plaintext highlighter-rouge">type</code> values of <code class="language-plaintext highlighter-rouge">private_message</code> or <code class="language-plaintext highlighter-rouge">client_submission</code>, this value MUST be <code class="language-plaintext highlighter-rouge">complete</code>.
For <code class="language-plaintext highlighter-rouge">type</code> values of <code class="language-plaintext highlighter-rouge">production_request</code>, <code class="language-plaintext highlighter-rouge">support_request</code>, or <code class="language-plaintext highlighter-rouge">grant_request</code>, this value MUST be <code class="language-plaintext highlighter-rouge">pending</code>.</li>
</ul>

<p>When Clients submit Messages with <code class="language-plaintext highlighter-rouge">type</code> value of <code class="language-plaintext highlighter-rouge">client_submission</code>, if the Message referenced in the <code class="language-plaintext highlighter-rouge">previous_uri</code> has a <code class="language-plaintext highlighter-rouge">status</code> of <code class="language-plaintext highlighter-rouge">open</code>, then the Server MUST update the <code class="language-plaintext highlighter-rouge">status</code> of that referenced Message to <code class="language-plaintext highlighter-rouge">pending</code>, which indicates that the Client has submitted a response for Server review.</p>

<p>When Clients submit Messages with <code class="language-plaintext highlighter-rouge">type</code> value of <code class="language-plaintext highlighter-rouge">production_request</code>, Servers MUST review the Client object linked in the <code class="language-plaintext highlighter-rouge">related_uri</code> and determine if an equivalent Client object with <code class="language-plaintext highlighter-rouge">production</code> in the <code class="language-plaintext highlighter-rouge">cds_status_options</code> list is appropriate.
Servers MAY create Messages replying to the Client with any questions or information about the production request, so long as the <code class="language-plaintext highlighter-rouge">type</code> value is <code class="language-plaintext highlighter-rouge">pending</code> and the <code class="language-plaintext highlighter-rouge">previous_uri</code> value links to the prior Message.
Clients MAY create Messages replying to the Server, so long as the <code class="language-plaintext highlighter-rouge">previous_uri</code> value links to the prior Message.
After determining whether a production Client object should be created, Servers MUST create a new Message with the <code class="language-plaintext highlighter-rouge">previous_uri</code> value linked to the Client‚Äôs <code class="language-plaintext highlighter-rouge">production_request</code> Message and has the <code class="language-plaintext highlighter-rouge">type</code> value as <code class="language-plaintext highlighter-rouge">complete</code> (if the Server has approved and created a production Client object and any relevant Credentials objects) or <code class="language-plaintext highlighter-rouge">rejected</code> (if the request is rejected for any reason).</p>

<p>When Clients submit Messages with <code class="language-plaintext highlighter-rouge">type</code> value of <code class="language-plaintext highlighter-rouge">grant_request</code>, Servers MUST review <code class="language-plaintext highlighter-rouge">grants_requested</code> values and determine if it is appropriate to create Grant objects for the requested scope.
Servers MAY create Messages replying to the Client with any questions or information about the grant request, so long as the <code class="language-plaintext highlighter-rouge">type</code> value is <code class="language-plaintext highlighter-rouge">pending</code> and the <code class="language-plaintext highlighter-rouge">previous_uri</code> value links to the prior Message.
Clients MAY create Messages replying to the Server, so long as the <code class="language-plaintext highlighter-rouge">previous_uri</code> value links to the prior Message.
After determining whether the grant request should be approved, Servers MUST create a new Message replying to the Client with <code class="language-plaintext highlighter-rouge">type</code> value of <code class="language-plaintext highlighter-rouge">grant_request</code>, <code class="language-plaintext highlighter-rouge">previous_uri</code> value of the Client‚Äôs grant request Message <code class="language-plaintext highlighter-rouge">uri</code>, and <code class="language-plaintext highlighter-rouge">status</code> of <code class="language-plaintext highlighter-rouge">complete</code> (if the request is approved and Grants have been created), or <code class="language-plaintext highlighter-rouge">rejected</code> (if the request is rejected for any reason).</p>

<h3 id="610-retrieving-individual-messages-">6.10. Retrieving Individual Messages <a id="messages-get" href="#messages-get" class="permalink">üîó</a></h3>

<p>The URL to be used to send <a href="#get">GET</a> requests for retrieving individual Message objects MUST be the Message <code class="language-plaintext highlighter-rouge">uri</code> provided in the <a href="#message-format">Message object</a>.</p>

<h3 id="611-modifying-messages-">6.11. Modifying Messages <a id="messages-modify" href="#messages-modify" class="permalink">üîó</a></h3>

<p>Clients may modify fields in a Messages object by sending an authenticated HTTPS <a href="#patch">PATCH</a> request to the Message <code class="language-plaintext highlighter-rouge">uri</code> endpoint with the body of the request formatted a JSON object.
The fields included in JSON object are the fields the Client intends to modify with the submitted fields‚Äô values.
If a field is not included in the <a href="#patch">PATCH</a> request, the Server MUST leave the field unmodified from its current value.</p>

<p>The following are fields that MAY be included in the <a href="#patch">PATCH</a> request, and modification MUST be supported by Servers:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">read</code> - Servers MUST accept values of <code class="language-plaintext highlighter-rouge">true</code> and <code class="language-plaintext highlighter-rouge">false</code> from the Client.</li>
</ul>

<p>If a Client wishes to modify a previously submitted Message of type <code class="language-plaintext highlighter-rouge">client_submission</code> they created, the Client MUST <a href="#messages-create">create a new Message</a> with the same <code class="language-plaintext highlighter-rouge">previous_uri</code> value as the Message the Client is wishing to supersede.
Severs MUST process newer Messages created by the Client as overriding the Client‚Äôs previous submission.</p>

<p>If a Client wishes to amend a previously created Message of type <code class="language-plaintext highlighter-rouge">private_message</code> or <code class="language-plaintext highlighter-rouge">support_request</code> they created, the Client MUST <a href="#messages-create">create a new Message</a> with the <code class="language-plaintext highlighter-rouge">previous_uri</code> value set as the Message <code class="language-plaintext highlighter-rouge">uri</code> for which they are wanting to amend.
Severs MUST consider newer Messages created by the Client as amending the Client‚Äôs previous support request or message.</p>

<p>Servers MUST validate the values of the submitted Message fields that are able to be modified and reject with a <code class="language-plaintext highlighter-rouge">400 Bad Response</code> Status Code if any of those fields are submitted with invalid values.
Servers MUST ignore any fields submitted that are not able to be modified by the Client.
If the submission is valid, Servers MUST synchronously modify the Message object and respond with a <code class="language-plaintext highlighter-rouge">200 OK</code> Status Code where the response body is the updated Message object.</p>

<h2 id="7-credentials-api-">7. Credentials API <a id="credentials-api" href="#credentials-api" class="permalink">üîó</a></h2>

<p>To allow Clients to manage <code class="language-plaintext highlighter-rouge">client_secret</code> values used for authentication to APIs, this specification requires that Server implement a Credentials API.
Servers MAY implement other means of managing Credentials, such as a web interface, but they MUST also mirror any Credentials managed by other means on this required Credentials API.</p>

<p>The Credentials API endpoints are authenticated using a Bearer <code class="language-plaintext highlighter-rouge">access_token</code> obtained by the Client using OAuth 2.0‚Äôs <code class="language-plaintext highlighter-rouge">client_credentials</code> grant process [<a href="#ref-rfc6749-client-credentials">RFC 6749 Section 4.4</a>], where the <code class="language-plaintext highlighter-rouge">client_id</code> used is for a Client that includes the <code class="language-plaintext highlighter-rouge">client_admin</code> scope.</p>

<h3 id="71-credentials-object-format-">7.1. Credentials Object Format <a id="credentials-format" href="#credentials-format" class="permalink">üîó</a></h3>

<p>Credentials objects are formatted as JSON objects and contain the following named values:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">credential_id</code> - <em><a href="#string">string</a></em> - (REQUIRED) The unique identifier for the Credential on the Server‚Äôs system.</li>
  <li><code class="language-plaintext highlighter-rouge">uri</code> - <em><a href="#url">URL</a></em> - (REQUIRED) Where to retrieve or modify this specific Credential object.</li>
  <li><code class="language-plaintext highlighter-rouge">client_id</code> - <em><a href="#string">string</a></em> - (REQUIRED) Which Client this Credential belongs to.</li>
  <li><code class="language-plaintext highlighter-rouge">created</code> - <em><a href="#datetime">datetime</a></em> - (REQUIRED) When the Credential was created.</li>
  <li><code class="language-plaintext highlighter-rouge">modified</code> - <em><a href="#datetime">datetime</a></em> - (REQUIRED) When the Credential was last modified.</li>
  <li><code class="language-plaintext highlighter-rouge">type</code> - <em><a href="#credentials-types">CredentialType</a></em> - (REQUIRED) The type of credential.</li>
  <li><code class="language-plaintext highlighter-rouge">client_secret</code> - <em><a href="#string">string</a></em> - (OPTIONAL) A sufficiently random value generated by the Server that can be used by the Client to authenticate themselves when obtaining an <code class="language-plaintext highlighter-rouge">access_token</code> from the Server‚Äôs OAuth Token Endpoint [<a href="#ref-rfc6749-token-endpoint">RFC 6749 Section 3.2</a>].
This field MUST be included if the <code class="language-plaintext highlighter-rouge">type</code> is <code class="language-plaintext highlighter-rouge">client_secret</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">client_secret_expires_at</code> - <em><a href="#integer">integer</a></em> - (OPTIONAL) The timestamp at which the <code class="language-plaintext highlighter-rouge">client_secret</code> will expire, as defined in OAuth‚Äôs Client Information Response [<a href="#ref-rfc7591-client-info-resp">RFC 7591 Section 3.2.1</a>].
If the Client object refrenced by the <code class="language-plaintext highlighter-rouge">client_id</code> has a status of <code class="language-plaintext highlighter-rouge">disabled</code>, this value MUST be set to the time when the Client object was most recently disabled.
This field MUST be included if the <code class="language-plaintext highlighter-rouge">type</code> is <code class="language-plaintext highlighter-rouge">client_secret</code>.</li>
</ul>

<h3 id="72-credentials-types-">7.2. Credentials Types <a id="credentials-types" href="#credentials-types" class="permalink">üîó</a></h3>

<p>Credential object <code class="language-plaintext highlighter-rouge">type</code> values MUST be one of the following:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">client_secret</code> - The Credential is a shared secret string string in the <code class="language-plaintext highlighter-rouge">client_secret</code> value on the Credential object.</li>
</ul>

<h3 id="73-listing-credentials-">7.3. Listing Credentials <a id="credentials-list" href="#credentials-list" class="permalink">üîó</a></h3>

<p>Clients may request to list Credential objects that they have access to by making an HTTPS <a href="#get">GET</a> request, authenticated with a valid Bearer <code class="language-plaintext highlighter-rouge">access_token</code> scoped to the <code class="language-plaintext highlighter-rouge">client_admin</code> scope, to the <code class="language-plaintext highlighter-rouge">cds_credentials_api</code> URL included in the <a href="#auth-server-metadata-format">Authorization Server Metadata</a>.
The Credential listing request responses are formatted as JSON objects and contain the following named values.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">credentials</code> - <em>Array[<a href="#credentials-format">ScopeCredential</a>]</em> - (REQUIRED) A list of Credentials to which the requesting <code class="language-plaintext highlighter-rouge">access_token</code> is scoped to have access.
If no Credentials are accessible, this value is an empty list (<code class="language-plaintext highlighter-rouge">[]</code>).
If more than 100 sCredentials are available to be listed, Servers MAY truncate the list and use the <code class="language-plaintext highlighter-rouge">next</code> value to link to the next segment of the list of Credentials.</li>
  <li><code class="language-plaintext highlighter-rouge">next</code> - <em><a href="#url">URL</a> or <code class="language-plaintext highlighter-rouge">null</code></em> - Where to request the next segment of the list of Credentials.
If no next segment exists (i.e. the requester is at the end of the list), this value is <code class="language-plaintext highlighter-rouge">null</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">previous</code> - <em><a href="#url">URL</a> or <code class="language-plaintext highlighter-rouge">null</code></em> - Where to request the previous segment of the list of Credentials.
If no previous segment exists (i.e. the requester is at the front of the list), this value is <code class="language-plaintext highlighter-rouge">null</code>.</li>
</ul>

<p>Servers MUST support Clients adding any of the following URL parameters to the <a href="#get">GET</a> request, which will filter the list of Credentials to be the intersection of results for each of the URL parameters filters:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">credential_ids</code> - A space-separated list of <code class="language-plaintext highlighter-rouge">credential_id</code> values for which the Servers MUST filter the Credentials.</li>
  <li><code class="language-plaintext highlighter-rouge">client_ids</code> - A space-separated list of <code class="language-plaintext highlighter-rouge">client_id</code> values for which the Servers MUST filter the Credentials.</li>
  <li><code class="language-plaintext highlighter-rouge">after</code> - A <a href="#datetime">datetime</a> for which the Server MUST filter Credentials that were created after or on the datetime.</li>
  <li><code class="language-plaintext highlighter-rouge">before</code> - A <a href="#datetime">datetime</a> for which the Server MUST filter Credentials that were created before or on the datetime.</li>
</ul>

<p>Listings of Credential objects MUST be ordered in reverse chronological order by <code class="language-plaintext highlighter-rouge">modified</code> timestamp, where the most recently modified relevant Credential MUST be first in each listing.</p>

<p>For Credential objects in the listing that are added, removed, or modified by the Server or Client after initial registration, Servers MUST add a message to the <a href="#messages-list">listed Messages</a> notifiying the Client that a Credential object has been added, removed, or modified.
This creates a changelog in the Messages listing for Credential object updates.</p>

<h3 id="74-retrieving-individual-credentials-">7.4. Retrieving Individual Credentials <a id="credentials-get" href="#credentials-get" class="permalink">üîó</a></h3>

<p>The URL to be used to send <a href="#get">GET</a> requests for retrieving individual Credential objects MUST be the Credential <code class="language-plaintext highlighter-rouge">uri</code> provided in the <a href="#credentials-format">Credential object</a>.</p>

<h3 id="75-creating-credentials-">7.5. Creating Credentials <a id="credentials-create" href="#credentials-create" class="permalink">üîó</a></h3>

<p>Clients create new Credentials by sending an authenticated HTTPS <a href="#post">POST</a> request to the <code class="language-plaintext highlighter-rouge">cds_credentials_api</code> endpoint with the body of the request formatted a JSON object.
The fields included in JSON object MUST include the following:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">client_id</code> - <em><a href="#string">string</a></em> - This value is Client object‚Äôs identifier for which a new Credential object will be created.</li>
</ul>

<p>Servers MUST reject requests with a <code class="language-plaintext highlighter-rouge">400 Bad Request</code> Status Code when a Client submits an incomplete request or the submitted values are invalid.
For valid <a href="#post">POST</a> requests from Clients, Servers MUST respond with a <code class="language-plaintext highlighter-rouge">201 Created</code> Status Code with an updated JSON object of the created Credential object.</p>

<h3 id="76-modifying-credentials-">7.6. Modifying Credentials <a id="credentials-modify" href="#credentials-modify" class="permalink">üîó</a></h3>

<p>Clients may modify fields in the Credentials API by sending an authenticated HTTPS <a href="#patch">PATCH</a> request to the Credential <code class="language-plaintext highlighter-rouge">uri</code> endpoint with the body of the request formatted a JSON object.
The fields included in JSON object are the fields the Client intends to update with the submitted fields‚Äô values.
If a field is not included in the <a href="#patch">PATCH</a> request, the Server MUST leave the field unmodified from its current value.</p>

<p>The following are fields that MAY be included in the <a href="#patch">PATCH</a> request, and modification MUST be supported by Servers:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">client_secret_expires_at</code> - Servers MUST only accept valid timestamp values greater than or equal to the current time and less than or equal to the current value.
When the current value is <code class="language-plaintext highlighter-rouge">0</code>, indicating no expiration time, Severs MUST allow Clients to set a value of <code class="language-plaintext highlighter-rouge">0</code> or any timestamp greater than or equal to the current time.</li>
</ul>

<p>Servers MUST validate the values of the submitted Credential fields that are able to be modified and reject with a <code class="language-plaintext highlighter-rouge">400 Bad Response</code> Status Code if any of those fields are submitted with invalid values.
Servers MUST ignore any fields submitted that are not able to be modified by the Client.
If the submission is valid, Servers MUST synchronously modify the Credential object and respond with a <code class="language-plaintext highlighter-rouge">200 OK</code> Status Code where the response body is the updated Credential object.</p>

<p>If a Client updates the <code class="language-plaintext highlighter-rouge">client_secret_expires_at</code> of a Credential to be a timestamp equal to or less than the current time, the Server MUST assume the Credential is compromised and synchronously disable the Credential‚Äôs <code class="language-plaintext highlighter-rouge">client_secret</code> from being used on the token endpoint and revoke any <code class="language-plaintext highlighter-rouge">access_token</code> or <code class="language-plaintext highlighter-rouge">refresh_token</code> values issued by the token endpoint as a result of using the now-disabled Credential.</p>

<p>Servers MAY, based on their own policies or discussion between the Client and Server, modify the <code class="language-plaintext highlighter-rouge">client_secret_expires_at</code> arbitrarily.</p>

<p>Servers MUST NOT modify <code class="language-plaintext highlighter-rouge">client_secret</code> values after they are created.
If the <code class="language-plaintext highlighter-rouge">client_secret</code> is determined to be leaked or compromised, Servers MUST update the <code class="language-plaintext highlighter-rouge">client_secret_expires_at</code> value to the current time or less, thus expiring the Credential.</p>

<h2 id="8-grants-api-">8. Grants API <a id="grants-api" href="#grants-api" class="permalink">üîó</a></h2>

<p>This specification requires Servers provide an API allowing Clients to view and edit OAuth user authorizations and client credentials grants (‚ÄúGrants‚Äù) related to their registration.
These APIs are authenticated using a Bearer <code class="language-plaintext highlighter-rouge">access_token</code> obtained by the Client using OAuth 2.0‚Äôs <code class="language-plaintext highlighter-rouge">client_credentials</code> grant process [<a href="#ref-rfc6749-client-credentials">RFC 6749 Section 4.4</a>], where the <code class="language-plaintext highlighter-rouge">client_id</code> used is for a Client that includes the <code class="language-plaintext highlighter-rouge">client_admin</code> scope.</p>

<h3 id="81-grant-object-format-">8.1. Grant Object Format <a id="grant-format" href="#grant-format" class="permalink">üîó</a></h3>

<p>Grant objects are formatted as JSON objects and contain the following named values:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">grant_id</code> - <em><a href="#string">string</a></em> - (REQUIRED) The unique identifier for the Grant on the Server‚Äôs system.</li>
  <li><code class="language-plaintext highlighter-rouge">uri</code> - <em><a href="#url">URL</a></em> - (REQUIRED) A link to this specific Grant that can be used to <a href="#grants-get">retrieve</a> or <a href="#grants-modify">modify</a> the individual Grant.</li>
  <li><code class="language-plaintext highlighter-rouge">replacing</code> - <em>Array[<a href="#url">URL</a>]</em> - (REQUIRED) If this Grant is superseding another Grant, this is the list of Grant <code class="language-plaintext highlighter-rouge">uri</code> values of the superseded Grants.
If this grant is not superseding any other Grants, this value is an empty list (<code class="language-plaintext highlighter-rouge">[]</code>).</li>
  <li><code class="language-plaintext highlighter-rouge">replaced_by</code> - <em>Array[<a href="#url">URL</a>]</em> - (REQUIRED) If this Grant has been superseded by other Grants, this is the list of Grant <code class="language-plaintext highlighter-rouge">uri</code> values of the superseding Grants.
If no other Grants have superseded this Grant, this value is an empty list (<code class="language-plaintext highlighter-rouge">[]</code>).</li>
  <li><code class="language-plaintext highlighter-rouge">parent</code> - <em><a href="#string">string</a> or <code class="language-plaintext highlighter-rouge">null</code></em> - (REQUIRED) If this Grant represents an individual sub-Grant that is part of another Grant that required multiple authorizations, this is the parent Grant‚Äôs <code class="language-plaintext highlighter-rouge">grant_id</code> value.
If this Grant is not a sub-Grant, this value is <code class="language-plaintext highlighter-rouge">null</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">children</code> - <em>Array[<a href="#string">string</a>]</em> - (REQUIRED) If this Grant represents a parent Grant that has multiple sub-Grants underneath it, this is a list of Grant <code class="language-plaintext highlighter-rouge">grant_id</code> values for each sub-Grant.
If this Grant does not have any sub-Grants, this value is an empty list (<code class="language-plaintext highlighter-rouge">[]</code>).</li>
  <li><code class="language-plaintext highlighter-rouge">created</code> - <em><a href="#datetime">datetime</a></em> - (REQUIRED) When the Grant was created.</li>
  <li><code class="language-plaintext highlighter-rouge">modified</code> - <em><a href="#datetime">datetime</a></em> - (REQUIRED) When the Grant was most recently modified.
If the Grant has not been modified since creation, this is the same value as <code class="language-plaintext highlighter-rouge">created</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">not_before</code> - <em><a href="#datetime">datetime</a> or <code class="language-plaintext highlighter-rouge">null</code></em> - (REQUIRED) When a Grant that is for future access, Grant‚Äôs <code class="language-plaintext highlighter-rouge">status</code> will be switched from <code class="language-plaintext highlighter-rouge">future</code> to another value.
If the Grant is not for future access and access is available immediately upon creation, this value is <code class="language-plaintext highlighter-rouge">null</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">not_after</code> - <em><a href="#datetime">datetime</a> or <code class="language-plaintext highlighter-rouge">null</code></em> - (REQUIRED) When a Grant has access that will expire in the future, this value indicates when the Grant‚Äôs <code class="language-plaintext highlighter-rouge">status</code> will be switched to <code class="language-plaintext highlighter-rouge">expired</code>.
If the Grant does not expire, this value is <code class="language-plaintext highlighter-rouge">null</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">eta</code> - <em><a href="#datetime">datetime</a> or <code class="language-plaintext highlighter-rouge">null</code></em> - (REQUIRED) When a Grant has a <code class="language-plaintext highlighter-rouge">status</code> with the value <code class="language-plaintext highlighter-rouge">pending</code>, this value indicates an estimated time for when the status is expected to be switched to another value.
If the Grant‚Äôs <code class="language-plaintext highlighter-rouge">status</code> is not <code class="language-plaintext highlighter-rouge">pending</code> this value is <code class="language-plaintext highlighter-rouge">null</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">expires</code> - <em><a href="#datetime">datetime</a> or <code class="language-plaintext highlighter-rouge">null</code></em> - (REQUIRED) When the Grant will expire and access will be removed by the Server.
If the Grant is to continue indefinitely, this value is <code class="language-plaintext highlighter-rouge">null</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">status</code> - <em><a href="#grant-statuses">GrantStatus</a></em> - (REQUIRED) The current <a href="#grant-statuses">Grant Status</a> of the Grant.</li>
  <li><code class="language-plaintext highlighter-rouge">client_id</code> - <em><a href="#string">string</a></em> - (REQUIRED) Which Client for which this Grant is issued.</li>
  <li><code class="language-plaintext highlighter-rouge">scope</code> - <em><a href="#string">string</a></em> - (REQUIRED) The scopes for which this Grant has issued access.</li>
  <li><code class="language-plaintext highlighter-rouge">authorization_details</code> - <em>Array[<a href="#ref-rfc9396-auth-details">OAuth AuthorizationDetail</a>]</em> - (REQUIRED) An authorization details list as defined by [<a href="#ref-rfc9396-auth-details">RFC 9396 Section 7.1</a>] which contains scopes that are granted in addition to this object‚Äôs <code class="language-plaintext highlighter-rouge">scope</code> value.
If no authorization details scopes are configured in addition to the <code class="language-plaintext highlighter-rouge">scope</code> string, this value is an empty array (<code class="language-plaintext highlighter-rouge">[]</code>).
If the <code class="language-plaintext highlighter-rouge">type</code> field of an authorization detail object in this array is the same as a value in the <code class="language-plaintext highlighter-rouge">scope</code> string, the authorization detail object replaces the scope with additional more refined access details for the scope.</li>
  <li><code class="language-plaintext highlighter-rouge">receipt_confirmations</code> - <em>Array[<a href="#string">string</a>]</em> - (REQUIRED) For Grants with scopes that can be obtained via user authorization (<code class="language-plaintext highlighter-rouge">grant_types</code> contains <code class="language-plaintext highlighter-rouge">authorization_code</code>), this is a list of receipt confirmation codes that were provided to the end users who authorized the access.
If no receipt was provided or the Grant did not get issued via <code class="language-plaintext highlighter-rouge">authorization_code</code> then this value is an empty list (<code class="language-plaintext highlighter-rouge">[]</code>).</li>
  <li><code class="language-plaintext highlighter-rouge">enabled_scope</code> - <em><a href="#string">string</a></em> - (REQUIRED) For Grants where access has been partially granted, but some access is still disabled, this value is the <code class="language-plaintext highlighter-rouge">scope</code> that has been enabled by the server.
For Grants where access has been fully granted, this value is the same as the <code class="language-plaintext highlighter-rouge">scope</code> value.
For Grants that have had their access removed (e.g. <code class="language-plaintext highlighter-rouge">disabled</code>), this value is an empty string (<code class="language-plaintext highlighter-rouge">""</code>).</li>
  <li><code class="language-plaintext highlighter-rouge">enabled_authorization_details</code> - <em>Array[<a href="#ref-rfc9396-auth-details">OAuth AuthorizationDetail</a>]</em> - (REQUIRED) For Grants where access has been partially granted, but some access is still disabled, this value is an authorization details list as defined by [<a href="#ref-rfc9396-auth-details">RFC 9396 Section 7.1</a>] that has the scopes which have been enabled by the server.
For Grants where access has been fully granted, this value is the same as the <code class="language-plaintext highlighter-rouge">authorization_details</code> value.
For Grants that have had their access removed (e.g. <code class="language-plaintext highlighter-rouge">disabled</code>), this value is an empty list (<code class="language-plaintext highlighter-rouge">[]</code>).</li>
</ul>

<h3 id="82-grant-statuses-">8.2. Grant Statuses <a id="grant-statuses" href="#grant-statuses" class="permalink">üîó</a></h3>

<p>Grants object <code class="language-plaintext highlighter-rouge">status</code> values MUST be one of the following:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">active</code> - The Grant is active and access for the features and data specified in the <code class="language-plaintext highlighter-rouge">scope</code> or <code class="language-plaintext highlighter-rouge">authorization_details</code> is currently enabled.
For Grants that provide access to data APIs that are being regularly updated, this status also indicates that the Server is currently on schedule to provide the expected ongoing data updates.</li>
  <li><code class="language-plaintext highlighter-rouge">future</code> - The Grant will be made in the future, and the Client should check the <code class="language-plaintext highlighter-rouge">not_before</code> value for when the Grant will have its status switched to <code class="language-plaintext highlighter-rouge">active</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">pending</code> - The Grant has been create and is valid, but the Server is still processing or reviewing the Grant and the status will be changed to another status at approximately the time provided in the Grant‚Äôs <code class="language-plaintext highlighter-rouge">eta</code> value.
While a Grant‚Äôs status is <code class="language-plaintext highlighter-rouge">pending</code>, Servers MUST provide access to the granted scope‚Äôs features or data as the Server processes and the features or data becomes available.</li>
  <li><code class="language-plaintext highlighter-rouge">partial</code> - The Grant was submitted originally with the <code class="language-plaintext highlighter-rouge">scope</code> and <code class="language-plaintext highlighter-rouge">authorization_details</code> values, but the Server has limited the Client‚Äôs access a subset of the Grant‚Äôs <code class="language-plaintext highlighter-rouge">scope</code>.
The enabled access is listed in the <code class="language-plaintext highlighter-rouge">enabled_scope</code> and <code class="language-plaintext highlighter-rouge">enabled_authorization_details</code> values.</li>
  <li><code class="language-plaintext highlighter-rouge">needs_authorization</code> - The Grant has been created, but access is limited to the <code class="language-plaintext highlighter-rouge">enabled_scope</code> and <code class="language-plaintext highlighter-rouge">enabled_authorization_details</code> until a user authorizes the listed <code class="language-plaintext highlighter-rouge">scope</code> and <code class="language-plaintext highlighter-rouge">authorization_details</code> values using an authorization URL with a <code class="language-plaintext highlighter-rouge">cds_grant_id</code> parameter of this <code class="language-plaintext highlighter-rouge">grant_id</code> as described in <a href="#grant-authorization-requests">Grant Authorization Requests</a>.</li>
  <li><code class="language-plaintext highlighter-rouge">needs_sub_grants</code> - The Grant has been created, but access is limited to the <code class="language-plaintext highlighter-rouge">enabled_scope</code> and <code class="language-plaintext highlighter-rouge">enabled_authorization_details</code> until listed <code class="language-plaintext highlighter-rouge">children</code> Grant objects‚Äô <code class="language-plaintext highlighter-rouge">status</code> values change to an appropriate value determined by the Server for the Grant scope‚Äôs use case.
Servers MUST include in their technical documentation which sub-Grant <code class="language-plaintext highlighter-rouge">status</code> values are sufficient to meet the critera to address this <code class="language-plaintext highlighter-rouge">needs_sub_grants</code> status for each scope‚Äôs use case.</li>
  <li><code class="language-plaintext highlighter-rouge">disabled</code> - The Grant has been indefinitely disabled by the Server, and the Client SHOULD NOT expect the Grant‚Äôs status to be updated in the future.</li>
  <li><code class="language-plaintext highlighter-rouge">suspended</code> - The Grant has been temporarily disabled by the Server or user who authorized access, and the Client SHOULD expect the Grant‚Äôs status to be updated in the future.</li>
  <li><code class="language-plaintext highlighter-rouge">revoked</code> - For Grants with scopes that can be obtained via user authorization (<code class="language-plaintext highlighter-rouge">grant_types</code> contains <code class="language-plaintext highlighter-rouge">authorization_code</code>), this status means the user has revoked access.</li>
  <li><code class="language-plaintext highlighter-rouge">closed</code> - The Grant has been revoked by the Client via the <a href="#grants-modify">Modifying Grants</a> API.</li>
  <li><code class="language-plaintext highlighter-rouge">expired</code> - The Grant has expired and access has been removed.
The Grant‚Äôs <code class="language-plaintext highlighter-rouge">not_after</code> value indicates when the Grant‚Äôs access was removed and the Grant is considered expired.</li>
  <li><code class="language-plaintext highlighter-rouge">delayed</code> - For Grants that provide access to data APIs that are being regularly updated, this status indicates that the data being provided is behind schedule and will be updated when the Server resolves its internal delay issues.</li>
  <li><code class="language-plaintext highlighter-rouge">stopped</code> - For Grants that provide access to data APIs that are being regularly updated, this status indicates that the data being provided has stopped being updated either by the Server or the user who originally authorized the access.
Access to existing data is still available, but the Client should not expect updates to the data being provided.</li>
  <li><code class="language-plaintext highlighter-rouge">errored</code> - The Server has encountered an internal error for this Grant, and Client access cannot be confirmed by the Server.</li>
</ul>

<p>Grant <code class="language-plaintext highlighter-rouge">status</code> values of <code class="language-plaintext highlighter-rouge">future</code>, <code class="language-plaintext highlighter-rouge">disabled</code>, <code class="language-plaintext highlighter-rouge">suspended</code>, <code class="language-plaintext highlighter-rouge">revoked</code>, <code class="language-plaintext highlighter-rouge">closed</code>, and <code class="language-plaintext highlighter-rouge">expired</code> indicate that access to all features and data that were accessible via this Grant are no longer accessible.</p>

<h3 id="83-grant-authorization-requests-">8.3. Grant Authorization Requests <a id="grant-authorization-requests" href="#grant-authorization-requests" class="permalink">üîó</a></h3>

<p>When a Grant <code class="language-plaintext highlighter-rouge">status</code> has a value of <code class="language-plaintext highlighter-rouge">needs_authorization</code>, the Grant needs a user authorization for the Grant to be approved.
Clients achieved user authorization by following OAuth‚Äôs Authorization Code Grant process [<a href="#ref-rfc6749-code-grant">RFC 6749 Section 4.1</a>], with the following modifications.</p>

<ul>
  <li>In the OAuth Authorization Request [<a href="#ref-rfc6749-auth-request">RFC 6749 Section 4.1.1</a>], Clients MUST include the URL request parameter <code class="language-plaintext highlighter-rouge">cds_grant_id</code> with a value of the <code class="language-plaintext highlighter-rouge">grant_id</code> for the Grant for which the Client is requesting user authorization.</li>
  <li>In the OAuth Authorization Request [<a href="#ref-rfc6749-auth-request">RFC 6749 Section 4.1.1</a>], Clients MAY include the URL request parameter <code class="language-plaintext highlighter-rouge">prompt</code> with a value of <code class="language-plaintext highlighter-rouge">login</code>.</li>
  <li>Clients MAY include <code class="language-plaintext highlighter-rouge">cds_grant_id</code> and <code class="language-plaintext highlighter-rouge">prompt</code> in the Pushed Authorization Request process [<a href="#ref-rfc9126">RFC 9126</a>] to include them in the <code class="language-plaintext highlighter-rouge">request_uri</code> parameter.
Servers MUST be able to parse <code class="language-plaintext highlighter-rouge">cds_grant_id</code> and <code class="language-plaintext highlighter-rouge">prompt</code> parameters from a received <code class="language-plaintext highlighter-rouge">request_uri</code> parameter in the authorization request.</li>
  <li>Upon receiving an authorization request, prior to any necessary user authentication, Servers MUST evaluate any provided <code class="language-plaintext highlighter-rouge">cds_grant_id</code> parameter in relation to the other authorization request parameters and, if the <code class="language-plaintext highlighter-rouge">cds_grant_id</code> parameter is invalid (e.g. not appropriate for the requested <code class="language-plaintext highlighter-rouge">scope</code> or <code class="language-plaintext highlighter-rouge">client_id</code>), MUST reject the authorization request and redirect back to the Client‚Äôs <code class="language-plaintext highlighter-rouge">redirect_uri</code> with an <code class="language-plaintext highlighter-rouge">error</code> parameter value of <code class="language-plaintext highlighter-rouge">cds_grant_id_invalid_value</code>.
Servers MUST evaluate other authorization request parameters first, and reject the authorization request with any appropriate errors before evaluating the <code class="language-plaintext highlighter-rouge">cds_grant_id</code> parameter.
Servers MUST ignore empty <code class="language-plaintext highlighter-rouge">cds_grant_id</code> parameters as if it were not included in the authorization request.
Servers MUST reject authorization requests with more than one non-empty <code class="language-plaintext highlighter-rouge">cds_grant_id</code> parameter.</li>
  <li>Upon receiving an authorization request, if the Client included a <code class="language-plaintext highlighter-rouge">prompt=login</code> parameter, Servers MUST require the user to authenticate, even if the user is already authenticated.</li>
  <li>Upon receiving an authorization request, after successfully completing any necessary user authentication, Servers MUST evaluate again any provided <code class="language-plaintext highlighter-rouge">cds_grant_id</code> value in relation to the other authorization request parameters and the user and, if the <code class="language-plaintext highlighter-rouge">cds_grant_id</code> parameter is invalid (e.g. not intended for the authenticated user), MUST reject the authorization request and redirect back to the Client‚Äôs <code class="language-plaintext highlighter-rouge">redirect_uri</code> with an <code class="language-plaintext highlighter-rouge">error</code> parameter value of <code class="language-plaintext highlighter-rouge">cds_grant_id_invalid_user</code>.</li>
  <li>Upon the user authorizing the authorization request, Servers MUST update the Grant with a <code class="language-plaintext highlighter-rouge">grant_id</code> value matching the <code class="language-plaintext highlighter-rouge">cds_grant_id</code> parameter to reflect the obtained authorization.
For example, a Grant could have its <code class="language-plaintext highlighter-rouge">status</code> value updated from <code class="language-plaintext highlighter-rouge">needs_authorization</code> to <code class="language-plaintext highlighter-rouge">active</code> or <code class="language-plaintext highlighter-rouge">pending</code>.
Servers MUST NOT wait for the Access Token Request [<a href="#ref-rfc6749-token-request">RFC 6749 Section 4.1.3</a>] to update the Grant.</li>
</ul>

<h3 id="84-listing-grants-">8.4. Listing Grants <a id="grants-list" href="#grants-list" class="permalink">üîó</a></h3>

<p>Clients may request to list Grant objects that they have access to by making an HTTPS <a href="#get">GET</a> request, authenticated with a valid Bearer <code class="language-plaintext highlighter-rouge">access_token</code> scoped to the <code class="language-plaintext highlighter-rouge">client_admin</code> scope, to the <code class="language-plaintext highlighter-rouge">cds_grants_api</code> URL included in the <a href="#auth-server-metadata-format">Authorization Server Metadata</a>.
The Grant listing request responses are formatted as JSON objects and contain the following named values.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">grants</code> - <em>Array[<a href="#grant-format">Grant</a>]</em> - (REQUIRED) A list of Grants to which the requesting <code class="language-plaintext highlighter-rouge">access_token</code> is scoped to have access.
If no Grants are accessible, this value is an empty list (<code class="language-plaintext highlighter-rouge">[]</code>).
If more than 100 Grants are available to be listed, Servers MAY truncate the list and use the <code class="language-plaintext highlighter-rouge">next</code> value to link to the next segment of the list of Grants.</li>
  <li><code class="language-plaintext highlighter-rouge">next</code> - <em><a href="#url">URL</a> or <code class="language-plaintext highlighter-rouge">null</code></em> - Where to request the next segment of the list of Grants.
If no next segment exists (i.e. the requester is at the end of the list), this value is <code class="language-plaintext highlighter-rouge">null</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">previous</code> - <em><a href="#url">URL</a> or <code class="language-plaintext highlighter-rouge">null</code></em> - Where to request the previous segment of the list of Grants.
If no previous segment exists (i.e. the requester is at the front of the list), this value is <code class="language-plaintext highlighter-rouge">null</code>.</li>
</ul>

<p>Servers MUST support Clients adding any of the following URL parameters to the <a href="#get">GET</a> request, which will filter the list of Grants to be the intersection of results for each of the URL parameters filters:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">grant_ids</code> - A space-separated list of <code class="language-plaintext highlighter-rouge">grant_id</code> values for which the Servers MUST filter the Grants.</li>
  <li><code class="language-plaintext highlighter-rouge">parents</code> - A space-separated list of <code class="language-plaintext highlighter-rouge">parent</code> values for which the Servers MUST filter the Grants.</li>
  <li><code class="language-plaintext highlighter-rouge">statuses</code> - A space-separated list of <code class="language-plaintext highlighter-rouge">status</code> values for which the Servers MUST filter the Grants.</li>
  <li><code class="language-plaintext highlighter-rouge">client_ids</code> - A space-separated list of <code class="language-plaintext highlighter-rouge">client_id</code> values for which the Servers MUST filter the Grants.</li>
  <li><code class="language-plaintext highlighter-rouge">scopes</code> - A space-separated list of <code class="language-plaintext highlighter-rouge">scope</code> values for which the Server MUST filter the Grants, where the included <code class="language-plaintext highlighter-rouge">scope</code> values are values within the Grant <code class="language-plaintext highlighter-rouge">scope</code> (space separated) or as a <code class="language-plaintext highlighter-rouge">type</code> value in the <code class="language-plaintext highlighter-rouge">authorization_details</code> list.</li>
  <li><code class="language-plaintext highlighter-rouge">receipt_confirmations</code> - A space-separated list of receipt confirmation codes for which the Server MUST filter the Grants.</li>
  <li><code class="language-plaintext highlighter-rouge">after</code> - A <a href="#datetime">datetime</a> for which the Server MUST filter Grants that were created after or on the datetime.</li>
  <li><code class="language-plaintext highlighter-rouge">before</code> - A <a href="#datetime">datetime</a> for which the Server MUST filter Grants that were created before or on the datetime.</li>
</ul>

<p>Listings of Grant objects MUST be ordered in reverse chronological order by <code class="language-plaintext highlighter-rouge">modified</code> timestamp, where the most recently updated relevant Grant MUST be first in each listing.</p>

<h3 id="85-retrieving-individual-grants-">8.5. Retrieving Individual Grants <a id="grants-get" href="#grants-get" class="permalink">üîó</a></h3>

<p>The URL to be used to send <a href="#get">GET</a> requests for retrieving individual Grant objects MUST be the Grant <code class="language-plaintext highlighter-rouge">uri</code> provided in the <a href="#grant-format">Grant object</a>.</p>

<h3 id="86-modifying-grants-">8.6. Modifying Grants <a id="grants-modify" href="#grants-modify" class="permalink">üîó</a></h3>

<p>Clients may modify fields in the Grants API by sending an authenticated HTTPS <a href="#patch">PATCH</a> request to the Grant <code class="language-plaintext highlighter-rouge">uri</code> endpoint with the body of the request formatted a JSON object.
The fields included in JSON object are the fields the Client intends to update with the submitted fields‚Äô values.
If a field is not included in the <a href="#patch">PATCH</a> request, the Server MUST leave the field unmodified from its current value.</p>

<p>The following are fields that MAY be included in the <a href="#patch">PATCH</a> request body, and modification MUST be supported by Servers:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">status</code> - Servers MUST only accept a value of <code class="language-plaintext highlighter-rouge">closed</code> from the Client.</li>
  <li><code class="language-plaintext highlighter-rouge">scope</code> - Servers MUST evaluate the updated scope for whether another user authorization is required.
Servers MUST NOT require another user authorization if the updated scope is a reduction in scope of access (e.g. removal of a scope value from the scope string).
If a new user authorization or sub-Grants are required, the Server MUST update the <code class="language-plaintext highlighter-rouge">status</code> to one of <code class="language-plaintext highlighter-rouge">needs_authorization</code> or <code class="language-plaintext highlighter-rouge">needs_sub_grants</code> and update the <code class="language-plaintext highlighter-rouge">enabled_scope</code> to be the value of the current scope for which the Client is allowed access.</li>
  <li><code class="language-plaintext highlighter-rouge">authorization_details</code> - Servers MUST evaluate the updated authorization details for whether another user authorization is required.
Servers MUST NOT require another user authorization if the updated scope is a reduction in scope of access (e.g. removal of a scope value from the scope string).
If a new user authorization or sub-Grants are required, the Server MUST update the <code class="language-plaintext highlighter-rouge">status</code> to one of <code class="language-plaintext highlighter-rouge">needs_authorization</code> or <code class="language-plaintext highlighter-rouge">needs_sub_grants</code> and update the <code class="language-plaintext highlighter-rouge">enabled_authorization_details</code> to be the value of the current authorization details for which the Client is allowed access.</li>
</ul>

<p>Servers MUST validate the values of the submitted Grant fields that are able to be modified and reject with a <code class="language-plaintext highlighter-rouge">400 Bad Response</code> Status Code if any of those fields are submitted with invalid values.
Servers MUST ignore any fields submitted that are not able to be modified by the Client.</p>

<p>If a Server does not need to asynchronously review the changes, the Server MUST synchronously modify the Grant object and respond with a <code class="language-plaintext highlighter-rouge">200 OK</code> Status Code where the response body is the updated Grant object.
If a Server needs to asynchronously review and approve changes to any submitted Grant object fields that have been submitted by the Client and are different from the current values, for valid modification requests the Server MUST update the Grant‚Äôs <code class="language-plaintext highlighter-rouge">status</code> to <code class="language-plaintext highlighter-rouge">pending</code> and respond with a <code class="language-plaintext highlighter-rouge">202 Accepted</code> Status Code where the response body is the updated Grant object.
Additionally, if the <code class="language-plaintext highlighter-rouge">scope</code> or <code class="language-plaintext highlighter-rouge">authorization_details</code> has been updated, the Server MUST update the <code class="language-plaintext highlighter-rouge">enabled_scope</code> and <code class="language-plaintext highlighter-rouge">enabled_authorization_details</code> to reflect for what the Client currently has access while the Grant is pending.</p>

<h2 id="9-server-provided-files-api-">9. Server-Provided Files API <a id="server-provided-files-api" href="#server-provided-files-api" class="permalink">üîó</a></h2>

<p>This specification defines an API by which Servers MAY provide an access to arbitrary files to Clients to download.
These APIs are authenticated using a Bearer <code class="language-plaintext highlighter-rouge">access_token</code> obtained by the Client using OAuth 2.0‚Äôs <code class="language-plaintext highlighter-rouge">client_credentials</code> grant process [<a href="#ref-rfc6749-client-credentials">RFC 6749 Section 4.4</a>], where the scope of the access token is <code class="language-plaintext highlighter-rouge">grant_admin</code> with <code class="language-plaintext highlighter-rouge">authorizatin_details</code> entries listing <code class="language-plaintext highlighter-rouge">grant_id</code> values that are for Grants that have the <a href="#scopes-server-provided-files"><code class="language-plaintext highlighter-rouge">server_provided_files</code></a> scope.</p>

<p>This API is intended to provide a convenient way for Servers to provide secure ad-hoc file access to Clients, such as sharing connectivity-related files (e.g. configs, certificates, secret keys, etc.) or manually created bulk files (e.g. initial backfill raw data, analysis reports, etc.).
This API is NOT intended to be used for automated sharing of structured data (e.g. nightly interval extracts) because the API has limited functionality to convey the appropriate metadata for automated file sharing, such as versioning or schemas.
It is RECOMMENDED that automated sharing of structured datasets be performed using another structured API or transfer method more fit for purpose, which MAY be an extension to this specification.</p>

<h3 id="91-server-provided-files-object-format-">9.1. Server-Provided Files Object Format <a id="server-provided-files-format" href="#server-provided-files-format" class="permalink">üîó</a></h3>

<p>Server-Provided File objects are metadata for arbitrary files made accessible by the Server and are formatted as JSON objects containing the following named values:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">file_id</code> - <em><a href="#string">string</a></em> - (REQUIRED) The unique identifier for the Server-Provided File on the Server‚Äôs system.</li>
  <li><code class="language-plaintext highlighter-rouge">uri</code> - <em><a href="#url">URL</a></em> - (REQUIRED) A link to this specific Server-Provided File that can be used to <a href="#server-provided-files-get">retrieve</a> the individual Server-Provided File.</li>
  <li><code class="language-plaintext highlighter-rouge">created</code> - <em><a href="#datetime">datetime</a></em> - (REQUIRED) When the Server-Provided File was created.</li>
  <li><code class="language-plaintext highlighter-rouge">modified</code> - <em><a href="#datetime">datetime</a></em> - (REQUIRED) When the Server-Provided File was most recently modified.
If the Server-Provided File has not been modified since creation, this is the same value as <code class="language-plaintext highlighter-rouge">created</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">mime_type</code> - <em><a href="#mime-type">MIME type</a></em> - (REQUIRED) The content type of the file.</li>
  <li><code class="language-plaintext highlighter-rouge">size</code> - <em><a href="#integer">integer</a></em> - (REQUIRED) The size of the file in bytes.</li>
  <li><code class="language-plaintext highlighter-rouge">name</code> - <em><a href="#string">string</a></em> - (REQUIRED) The file name, including any file extension.</li>
  <li><code class="language-plaintext highlighter-rouge">description</code> - <em><a href="#string">string</a></em> - (REQUIRED) A description of the file.
If no description is provided by the Server, this is an empty string (<code class="language-plaintext highlighter-rouge">""</code>).</li>
  <li><code class="language-plaintext highlighter-rouge">download_uri</code> - <em><a href="#url">URL</a></em> - (REQUIRED) A link to the raw file being made accessible by the Server.
Servers MUST authenticate this download endpoint using the same authentication requirements as the rest of the <a href="#server-provided-files-api">Server-Provided Files API</a>.</li>
</ul>

<h3 id="92-listing-server-provided-files-">9.2. Listing Server-Provided Files <a id="server-provided-files-list" href="#server-provided-files-list" class="permalink">üîó</a></h3>

<p>Clients may request to list Server-Provided File objects that they have access to by making an HTTPS <a href="#get">GET</a> request to the <code class="language-plaintext highlighter-rouge">cds_server_provided_files_api</code> URL included in the <a href="#auth-server-metadata-format">Authorization Server Metadata</a> and authenticated with a valid Bearer <code class="language-plaintext highlighter-rouge">access_token</code> scoped to the <code class="language-plaintext highlighter-rouge">grant_admin</code> scope with <code class="language-plaintext highlighter-rouge">authorizatin_details</code> entries listing <code class="language-plaintext highlighter-rouge">grant_id</code> values that are for Grants that have the <code class="language-plaintext highlighter-rouge">server_provided_files</code> scope.
The Server-Provided File listing request responses are formatted as JSON objects and contain the following named values.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">files</code> - <em>Array[<a href="#server-provided-files-format">ServerProvidedFile</a>]</em> - (REQUIRED) A list of Server-Provided File objects to which the requesting <code class="language-plaintext highlighter-rouge">access_token</code> is scoped to have access.
If no Server-Provided File objects are accessible, this value is an empty list (<code class="language-plaintext highlighter-rouge">[]</code>).
If more than 100 Server-Provided File objects are available to be listed, Servers MAY truncate the list and use the <code class="language-plaintext highlighter-rouge">next</code> value to link to the next segment of the list of Server-Provided File objects.</li>
  <li><code class="language-plaintext highlighter-rouge">next</code> - <em><a href="#url">URL</a> or <code class="language-plaintext highlighter-rouge">null</code></em> - Where to request the next segment of the list of Server-Provided File objects.
If no next segment exists (i.e. the requester is at the end of the list), this value is <code class="language-plaintext highlighter-rouge">null</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">previous</code> - <em><a href="#url">URL</a> or <code class="language-plaintext highlighter-rouge">null</code></em> - Where to request the previous segment of the list of Server-Provided File objects.
If no previous segment exists (i.e. the requester is at the front of the list), this value is <code class="language-plaintext highlighter-rouge">null</code>.</li>
</ul>

<p>Servers MUST only list Server-Provided File objects that are accessible under the <code class="language-plaintext highlighter-rouge">access_token</code>, which is always limited to specific set of Grants.</p>

<p>Servers MUST support Clients adding any of the following URL parameters to the <a href="#get">GET</a> request, which will filter the list of Server-Provided Files to be the intersection of results for each of the URL parameters filters:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">file_ids</code> - A space-separated list of <code class="language-plaintext highlighter-rouge">file_id</code> values for which the Servers MUST filter the Server-Provided Files.</li>
</ul>

<p>Listings of Server-Provided File objects MUST be ordered in reverse chronological order by <code class="language-plaintext highlighter-rouge">modified</code> timestamp, where the most recently updated relevant Server-Provided File object MUST be first in each listing.</p>

<h3 id="93-retrieving-individual-server-provided-files-">9.3. Retrieving Individual Server-Provided Files <a id="server-provided-files-get" href="#server-provided-files-get" class="permalink">üîó</a></h3>

<p>The URL to be used to send <a href="#get">GET</a> requests for retrieving individual Server-Provided File objects MUST be the Server-Provided File <code class="language-plaintext highlighter-rouge">uri</code> provided in the <a href="#server-provided-files-format">Server-Provided File object</a> and authenticated with a valid Bearer <code class="language-plaintext highlighter-rouge">access_token</code> scoped to the <code class="language-plaintext highlighter-rouge">grant_admin</code> scope with <code class="language-plaintext highlighter-rouge">authorizatin_details</code> entries listing <code class="language-plaintext highlighter-rouge">grant_id</code> values that are for Grants that have the <code class="language-plaintext highlighter-rouge">server_provided_files</code> scope and include the relevant <code class="language-plaintext highlighter-rouge">file_id</code>.</p>

<h3 id="94-downloading-server-provided-file-data-">9.4. Downloading Server-Provided File Data <a id="server-provided-files-download" href="#server-provided-files-download" class="permalink">üîó</a></h3>

<p>The URL to be used to send <a href="#get">GET</a> requests for retrieving the raw data for an individual Server-Provided File MUST be the Server-Provided File <code class="language-plaintext highlighter-rouge">download_uri</code> provided in the <a href="#server-provided-files-format">Server-Provided File object</a> and authenticated with a valid Bearer <code class="language-plaintext highlighter-rouge">access_token</code> scoped to the <code class="language-plaintext highlighter-rouge">grant_admin</code> scope with <code class="language-plaintext highlighter-rouge">authorizatin_details</code> entries listing <code class="language-plaintext highlighter-rouge">grant_id</code> values that are for Grants that have the <code class="language-plaintext highlighter-rouge">server_provided_files</code> scope and include the relevant <code class="language-plaintext highlighter-rouge">file_id</code>.</p>

<h2 id="10-extensions-">10. Extensions <a id="extensions" href="#extensions" class="permalink">üîó</a></h2>

<p>Other specifications and Servers MAY extend this specification to as necessary to address their use cases.
Other specifications and Servers MUST NOT remove required parts of this specification in their specifications or implementations.</p>

<p><a href="#scopes">Scopes Supported</a> MAY be extended to add additional scope values and definitions, according to the requirements listed in <a href="#scopes">Section 3.3</a>.</p>

<p><a href="#auth-server-metadata-format">Metadata Object</a>, <a href="#scope-descriptions-format">Scope Descriptions Object</a>, <a href="#registration-field-format">Registration Field Object</a>, <a href="#auth-details-fields-format">Authorization Details Field Object</a>, <a href="#auth-details-field-choice-format">Authorization Details Field Choice Object</a>, <a href="#client-format">Client Object</a>, <a href="#clients-list">Client Listing</a>, <a href="#message-format">Message Object</a>, <a href="#client-update-request-format">Client Update Request Object</a>, <a href="#client-grant-request-format">Client Grant Request Object</a>, <a href="#message-attachment-format">Message Attachment Object</a>, <a href="#messages-list">Message Listing</a>, <a href="#credentials-format">Credential Object</a>, <a href="#credentials-list">Credential Listing</a>, <a href="#grant-format">Grant Object</a>, <a href="#grant-list">Grant Listing</a>, <a href="#server-provided-files-format">Server-Provided Files Object</a>, and <a href="#server-provided-files-list">Server-Provided Files Listing</a> MAY be extended to allow for additional fields to be possible in their objects.
When extending the object format, other specifications or Server documentation MUST reference the relevant section in this specification and denote that they are extending the object to add a new named field.
The additional field MUST be specified with a general description, the field value‚Äôs format, and whether the field is REQUIRED or OPTIONAL.</p>

<p>The enumerated lists for valid <a href="#registration-field-types">Registration Field Types</a>, <a href="#registration-field-formats">Registration Field Formats</a>, <a href="#auth-details-field-formats">Authorization Details Field Formats</a>, <a href="#client-statuses">Client Statuses</a>, <a href="#message-types">Message Types</a>, <a href="#message-statuses">Message Statuses</a>, <a href="#message-related-types">Message Related Types</a>, <a href="#credentials-types">Credentials Types</a>, and <a href="#grant-statuses">Grant Statuses</a> MAY be extended to allow for additional strings to be valid.
When extending enumerated list, other specifications or Server documentation MUST reference the relevant section in this specification and denote that they are extending the list to add a new string.
The additional string MUST be specified with a description of what that string means when it is included in the relevant array.</p>

<p>To facilitate forwards compatibility, Clients MUST ignore unknown or undocumented object fields and enumerated strings.
If a Client cannot provide adequate functionality based on too many unknown or undocumented object fields or enumerated strings, the Client SHOULD refer to the Server‚Äôs technical documentation linked in the <code class="language-plaintext highlighter-rouge">documentation</code> value of the CDS Server Metadata object [<a href="#ref-cds-wg1-01-metadata-object">CDS-WG1-01 Section 3.2</a>] or contact the Server‚Äôs technical support linked by the <code class="language-plaintext highlighter-rouge">support</code> value in the metadata object.</p>

<h2 id="11-security-considerations-">11. Security Considerations <a id="security" href="#security" class="permalink">üîó</a></h2>

<p>This specification describes a protocol by which a utility or other central entity (a Server) can allow external entities (Clients) to register and obtain privileged access to the Server‚Äôs offered capabilities and data.
Because the functionality described in this specification enables access to private Server functionality and data, Servers MUST follow industry cybersecurity best practices when securing their implementations of this specification to prevent unintended or inadvertent access to privileged functionality or data to Clients who are not authorized.
These best practices include requiring <a href="#https">HTTPS</a> for API endpoints using the latest widely adopted encryption standards, undergoing regular security audits and penetration tests, and internally requiring security-focused process controls and data handling procedures.</p>

<h3 id="111-scopes-and-client-management-">11.1. Scopes and Client Management <a id="scopes-client-management" href="#scopes-client-management" class="permalink">üîó</a></h3>

<p>Because legal and regulatory requirements are highly diverse across the energy sector, Servers MUST be responsible for only offering scopes allowed by their jurisdictions.</p>

<p>Servers MUST include the appropriate <code class="language-plaintext highlighter-rouge">registration_requirements</code> values in their <a href="#scope-descriptions-format">Scope Descriptions</a> for each scope‚Äôs use case and capabilities to ensure that Clients submit all required disclosures (e.g. contact information) and be appropriately informed about any required steps (e.g. manual review) or payments (e.g. registration fees).
Servers MUST NOT impose overly burdensome registration requirements beyond what is deemed necessary by the Server‚Äôs jurisdiction requirements for the type of capabilities or data made available by an offered scope.</p>

<p>Severs MUST be responsible for appropriately monitoring and reviewing the use of registered Clients as necessary for their legal and regulatory jurisdictions.</p>

<h3 id="112-restricted-access-">11.2. Restricted Access <a id="restricted-access" href="#restricted-access" class="permalink">üîó</a></h3>

<p>For unauthenticated endpoints (<a href="#auth-server-metadata">Authorization Server Metadata</a>, <a href="#client-registration-process">Client Registration Process</a>), while Servers can add <a href="#rate-limiting">rate limiting</a> configurations to protect their systems from being overwhelmed with requests, Servers MUST NOT add anti-bot blocking measures (e.g. captchas) that prevent automated requests from other systems.
The functionality described in this specification is intended to be able to be integrated in other platforms to allow those platforms to automate interactions with Servers on their users‚Äô behalf.</p>

<p>If <a href="#auth-server-metadata">Authorization Server Metadata</a> is referenced in a public CDS Server Metadata Endpoint [<a href="#ref-cds-wg1-01-metadata-endpoint">CDS-WG1-01 Section 3</a>], then the <a href="#auth-server-metadata">Authorization Server Metadata</a> and <a href="#client-registration-process">Client Registration Process</a> must also be public.</p>

<p>Servers that wish to restrict access of by-default unauthenticated endpoints to certain Clients MUST configure well established authentication processes for Clients to ensure that only the approved Clients may access the restricted endpoint.
This specification does not describe specifically how Servers will authenticate Clients for by-default unauthenticated endpoints, as these restricted access protocols are context dependent.
For example, if a Server providing a private Client Registration endpoint as part of an existing logged in portal, then they can use that logged in portal‚Äôs session cookie to authenticate Client requests to the registration endpoint.</p>

<p>For authenticated endpoints (<a href="#clients-api">Clients API</a>, <a href="#messages-api">Messages API</a>, <a href="#credentials-api">Credentials API</a>, <a href="#grants-api">Grants API</a>, <a href="#server-provided-files-api">Server-Provided Files API</a>), Servers MUST authenticate requests using OAuth‚Äôs Authorization Request Header Field [<a href="#ref-rfc6750-auth-header">RFC 6750 Section 2.1</a>] with access tokens obtained using the OAuth 2.0‚Äôs Issuing an Access Token process [<a href="#ref-rfc6749-access-tokens">RFC 6749 Section 5</a>].</p>

<h3 id="113-rate-limiting-">11.3. Rate Limiting <a id="rate-limiting" href="#rate-limiting" class="permalink">üîó</a></h3>

<p>For unauthenticated endpoints (<a href="#auth-server-metadata">Authorization Server Metadata</a>, <a href="#client-registration-process">Client Registration Process</a>), Servers SHOULD configure rate limiting restrictions so that bots and misconfigured scripts will not flood and overwhelm the endpoints with requests, while still allowing legitimate and low-volume automated requests have access to the endpoints.</p>

<p>For authenticated endpoints (<a href="#clients-api">Clients API</a>, <a href="#messages-api">Messages API</a>, <a href="#credentials-api">Credentials API</a>, <a href="#grants-api">Grants API</a>, <a href="#server-provided-files-api">Server-Provided Files API</a>), Servers SHOULD configure rate limiting by Client and Credential to ensure that individual Clients do not overwhelm Servers with authenticated API requests.
Additionally, Servers SHOULD configure rate limiting for unauthenticated or failed authentication requests to authenticated API endpoints to prevent brute force attempts to gain access to authenticated APIs.</p>

<h3 id="114-captchas-">11.4. Captchas <a id="captchas" href="#captchas" class="permalink">üîó</a></h3>

<p>Because endpoints defined and referenced in this specification are intended to be used via automated tooling by Clients, Servers MUST NOT restrict endpoints (authenticated or unauthenticated) with human-only tests, such as captchas.</p>

<p>Servers MAY implement human-only tests on content linked via URL if the content is only intended for consumption by humans. For example, a Server MAY implement a captcha on the manual registration interface linked via the <code class="language-plaintext highlighter-rouge">cds_human_registration</code> value in the <a href="#auth-server-metadata-format">Metadata object</a>.</p>

<h2 id="12-examples-">12. Examples <a id="examples" href="#examples" class="permalink">üîó</a></h2>

<p>The following are non-normative examples of requests and responses of various APIs defined in this specification.</p>

<h3 id="121-retrieving-cds-server-metadata-">12.1. Retrieving CDS Server Metadata <a id="example-cds-server-metadata" href="#example-cds-server-metadata" class="permalink">üîó</a></h3>

<p>The following is a non-normative example of requesting a CDS Server Metadata object that includes this specification‚Äôs <a href="#auth-server-metadata-url"><code class="language-plaintext highlighter-rouge">oauth</code> capability</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>==Request==
GET /.well-known/cds-server-metadata.json HTTP/1.1
Host: example.com

==Response==
HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

{
    "cds_metadata_version": "v1",
    "cds_metadata_url": "https://example.com/.well-known/cds-server-metadata.json",
    "created": "2022-01-01T00:00:00Z",
    "updated": "2022-06-01T00:00:00Z",
    "name": "Example Data Hub",
    "description": "A fictional regional data hub that offers information about the region's utilities.",
    "website": "https://example.com/data-access",
    "documentation": "https://example.com/docs",
    "support": "https://example.com/developers/contact",
    "capabilities": [
        "coverage",
        "oauth"
    ],
    "coverage": "https://example.com/cds-coverage.json",
    "oauth_metadata": "https://example.com/.well-known/oauth-authorization-server"
}
</code></pre></div></div>

<h3 id="122-retrieving-authorization-server-metadata-">12.2. Retrieving Authorization Server Metadata <a id="example-auth-server-metadata" href="#example-auth-server-metadata" class="permalink">üîó</a></h3>

<p>The following is a non-normative example of requesting the <a href="#auth-server-metadata-format">Authorization Server Metadata object</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>==Request==
GET /.well-known/oauth-authorization-server HTTP/1.1
Host: example.com

==Response==
HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

{
    "issuer": "https://example.com",
    "service_documentation": "https://example.com/docs/oauth",
    "op_policy_uri": "https://example.com/legal/oauth-policy",
    "op_tos_uri": "https://example.com/legal/oauth-terms",
    "registration_endpoint": "https://example.com/oauth/register",
    "authorization_endpoint": "https://example.com/oauth/authorize",
    "token_endpoint": "https://example.com/oauth/token",
    "revocation_endpoint": "https://example.com/oauth/token/revoke",
    "introspection_endpoint": "https://example.com/oauth/token/info",
    "pushed_authorization_request_endpoint": "https://example.com/oauth/par",
    "code_challenge_methods_supported": ["S256"],
    "response_types_supported": ["code"],
    "grant_types_supported": ["client_credentials", "authorization_code", "refresh_token"],
    "token_endpoint_auth_methods_supported": ["client_secret_basic"],
    "scopes_supported": ["client_admin", "grant_admin", "server_provided_files", "example_custom"],
    "authorization_details_types_supported": ["client_admin", "grant_admin", "server_provided_files", "example_custom"],
    "cds_oauth_version": "v1",
    "cds_human_registration": "https://example.com/clients/register",
    "cds_test_accounts": "https://example.com/docs/testing",
    "cds_clients_api": "https://example.com/cds-api/v1/clients",
    "cds_messages_api": "https://example.com/cds-api/v1/messages",
    "cds_credentials_api": "https://example.com/cds-api/v1/credentials",
    "cds_grants_api": "https://example.com/cds-api/v1/grants",
    "cds_server_provided_files_api": "https://example.com/cds-api/v1/server-provided-files"
    "cds_scope_descriptions": {
        "client_admin": {
            "id": "client_admin",
            "name": "Client Admin",
            "description": "This scope grants administrative access to the Client management APIs.",
            "documentation": "https://example.com/docs/oauth/scopes#client_admin",
            "registration_requirements": [],
            "response_types_supported": [],
            "grant_types_supported": ["client_credentials"],
            "token_endpoint_auth_methods_supported": ["client_secret_basic"],
            "code_challenge_methods_supported": [],
            "coverages_supported": [],
            "authorization_details_fields": []
        },
        "grant_admin": {
            "id": "grant_admin",
            "name": "Grant Admin",
            "description": "This scope grants administrative access to previously created Grants.",
            "documentation": "https://example.com/docs/oauth/scopes#grant_admin",
            "registration_requirements": [],
            "response_types_supported": [],
            "grant_types_supported": ["client_credentials"],
            "token_endpoint_auth_methods_supported": ["client_secret_basic"],
            "code_challenge_methods_supported": [],
            "coverages_supported": [],
            "authorization_details_fields": [
                {
                    "id": "client_id",
                    "name": "Client object identifier",
                    "description": "The Client object identifier for which the Grant is issued.",
                    "documentation": "https://example.com/docs/oauth/scopes#grant_admin-client_id",
                    "format": "string",
                    "is_required": true,
                },
                {
                    "id": "grant_id",
                    "name": "Grant identifier",
                    "description": "The Grant identifier for which the returned access_token will be given access.",
                    "documentation": "https://example.com/docs/oauth/scopes#grant_admin-grant_id",
                    "format": "string",
                    "is_required": true,
                }
            ]
        },
        "server_provided_files": {
            "id": "server_provided_files",
            "name": "Server-Provided Files",
            "description": "This scope grants access to specific files that the Server wants make available to the Client.",
            "documentation": "https://example.com/docs/oauth/scopes#grant_admin",
            "registration_requirements": [],
            "response_types_supported": [],
            "grant_types_supported": [],
            "token_endpoint_auth_methods_supported": [],
            "code_challenge_methods_supported": [],
            "coverages_supported": [],
            "authorization_details_fields": [
                {
                    "id": "file_id",
                    "name": "File identifier",
                    "description": "A file provided by the Server that may be accessed by the Client as part of the Grant.",
                    "documentation": "https://example.com/docs/oauth/scopes#server_provided_files-file_id",
                    "format": "string",
                    "is_required": true,
                }
            ]
        },
        "example_custom": {
            "id": "example_custom",
            "name": "Custom Scope",
            "description": "This scope is an example for a Server-defined custom authorization scope.",
            "documentation": "https://example.com/docs/oauth/scopes#example_custom",
            "registration_requirements": ["company_name"],
            "response_types_supported": ["code"],
            "grant_types_supported": ["authorization_code", "refresh_token"],
            "token_endpoint_auth_methods_supported": ["client_secret_basic"],
            "code_challenge_methods_supported": ["S256"],
            "coverages_supported": ["coverage123"],
            "authorization_details_fields": []
        }
    },
    "cds_registration_fields": {
        "company_name": {
            "id": "company_name",
            "type": "registration_field",
            "field_name": "cds_company_name",
            "description": "The company name to display on the authorization request form",
            "documentation": "https://example.com/docs/oauth/registration#company_name",
            "format": "string",
            "max_length": 1024
        },
    },
}
</code></pre></div></div>

<h3 id="123-submitting-a-client-registration-request-">12.3. Submitting a Client Registration Request <a id="example-client-registration" href="#example-client-registration" class="permalink">üîó</a></h3>

<p>The following is a non-normative example of a Client submitting a <a href="#registration-request">Client Registration Request</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>==Request==
POST /oauth/register HTTP/1.1
Host: example.com

{
    "scope": "client_admin grant_admin server_provided_files example_custom",
    "client_name": "My App Name",
    "cds_company_name": "My Company Name"
}


==Response==
HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

{
    "client_id": "aaf026921707f5d5",
    "client_id_issued_at": 2893256800,
    "scope": "client_admin",
    "redirect_uris": [],
    "response_types": [],
    "grant_types": ["client_credentials"],
    "token_endpoint_auth_method": ["client_secret_basic"],
    "client_secret": "Q3VpGy7k6Mj9Yc-F1wtujttAq2HiEel8O1Ie5zEw00AslNsoUU3SMzKPeRPZgqA6dMW3jSvZQ_O0iWpQRa1NaQ",
    "client_name": "My App Name",
    "authorization_details_types": ["client_admin"],
    "cds_created": "2022-01-01T00:00:00Z",
    "cds_modified": "2022-01-01T00:00:00Z",
    "cds_client_uri": "https://example.com/cds-api/v1/clients/aaf026921707f5d5",
    "cds_status": "production",
    "cds_status_options": ["production"],
    "cds_server_metadata": "https://example.com/cds-api/v1/clients/aaf026921707f5d5/cds-server-metadata",
}
</code></pre></div></div>

<h3 id="124-obtaining-a-client-admin-access-token-">12.4. Obtaining a Client Admin Access Token <a id="example-admin-access-token" href="#example-admin-access-token" class="permalink">üîó</a></h3>

<p>The following is a non-normative example of a Client obtaining an access token to use for authenticated API requests.</p>

<p><strong>NOTE:</strong> The Authorization header Basic value is a <a href="#base64">Base64</a> encoded value of the Client‚Äôs <code class="language-plaintext highlighter-rouge">client_id</code> and <code class="language-plaintext highlighter-rouge">client_secret</code>, joined by a colon (i.e. <code class="language-plaintext highlighter-rouge">base64("{client_id}:{client_secret}")</code>).</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>==Request==
POST /oauth/token HTTP/1.1
Host: example.com
Authorization: Basic YWFmMDI2OTIxNzA3ZjVkNWg6UTNWcEd5N2s2TWo5WWMtRjF3dHVqdHRBcTJIaUVlbDhPMUllNXpFdzAwQXNsTnNvVVUzU016S1BlUlBaZ3FBNmRNVzNqU3ZaUV9PMGlXcFFSYTFOYVE=

grant_type=client_credentials&amp;scope=client_admin

==Response==
HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

{
    "access_token": "vjzia9aP-os_rw-bPvMe--uIniUWdmGmXtHH7XaVbTM_KS8eBYCp7IWyoNDC1KCc7DtkVm8fKYIBaOja_08xEQ",
    "token_type": "bearer",
    "expires_in": 3600,
    "scope": "client_admin"
}
</code></pre></div></div>

<h3 id="125-retrieving-a-client-list-">12.5. Retrieving a Client List <a id="example-clients-list" href="#example-clients-list" class="permalink">üîó</a></h3>

<p>The following is a non-normative example of a Client loading their list of Client objects via the <a href="#clients-api">Clients API</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>==Request==
GET /cds-api/v1/clients HTTP/1.1
Host: example.com
Authorizatin: Bearer vjzia9aP-os_rw-bPvMe--uIniUWdmGmXtHH7XaVbTM_KS8eBYCp7IWyoNDC1KCc7DtkVm8fKYIBaOja_08xEQ

==Response==
HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

{
    "clients": [
        {
            "client_id": "aaf026921707f5d5",
            "client_id_issued_at": 2893256800,
            "scope": "client_admin",
            "redirect_uris": [],
            "response_types": [],
            "grant_types": ["client_credentials"],
            "token_endpoint_auth_method": "client_secret_basic",
            "client_name": "My App Name",
            "authorization_details_types": ["client_admin"],
            "cds_created": "2022-01-01T00:00:00Z",
            "cds_modified": "2022-01-01T00:00:00Z",
            "cds_client_uri": "https://example.com/cds-api/v1/clients/aaf026921707f5d5",
            "cds_status": "production",
            "cds_status_options": ["production"],
            "cds_server_metadata": "https://example.com/cds-api/v1/clients/aaf026921707f5d5/cds-server-metadata",
        },
        {
            "client_id": "22bb40b5b823fa8c",
            "client_id_issued_at": 2893256800,
            "scope": "grant_admin",
            "redirect_uris": [],
            "response_types": [],
            "grant_types": ["client_credentials"],
            "token_endpoint_auth_method": "client_secret_basic",
            "authorization_details_types": ["grant_admin"],
            "cds_created": "2022-01-01T00:00:00Z",
            "cds_modified": "2022-01-01T00:00:00Z",
            "cds_client_uri": "https://example.com/cds-api/v1/clients/22bb40b5b823fa8c",
            "cds_status": "production",
            "cds_status_options": ["production"],
            "cds_server_metadata": "https://example.com/cds-api/v1/clients/22bb40b5b823fa8c/cds-server-metadata",
        },
        {
            "client_id": "7e22b5568893c547",
            "client_id_issued_at": 2893256800,
            "scope": "server_provided_files",
            "redirect_uris": [],
            "response_types": [],
            "grant_types": [],
            "token_endpoint_auth_method": null,
            "authorization_details_types": ["server_provided_files"],
            "cds_created": "2022-01-01T00:00:00Z",
            "cds_modified": "2022-01-01T00:00:00Z",
            "cds_client_uri": "https://example.com/cds-api/v1/clients/7e22b5568893c547",
            "cds_status": "production",
            "cds_status_options": ["production"],
            "cds_server_metadata": "https://example.com/cds-api/v1/clients/7e22b5568893c547/cds-server-metadata",
        },
        {
            "client_id": "af653d57fa364da5",
            "client_id_issued_at": 2893256800,
            "scope": "example_custom",
            "redirect_uris": ["https://example.com/oauth/default-redirect"],
            "response_types": ["code"],
            "grant_types": ["authorization_code", "refresh_token"],
            "token_endpoint_auth_method": "client_secret_basic",
            "authorization_details_types": ["example_custom"],
            "cds_created": "2022-01-01T00:00:00Z",
            "cds_modified": "2022-01-01T00:00:00Z",
            "cds_client_uri": "https://example.com/cds-api/v1/clients/af653d57fa364da5",
            "cds_status": "sandbox",
            "cds_status_options": ["sandbox", "disabled"],
            "cds_server_metadata": "https://example.com/cds-api/v1/clients/af653d57fa364da5/cds-server-metadata",
            "cds_default_scope": "example_custom",
            "cds_default_redirect_uri": "https://example.com/oauth/default-redirect",
            "cds_default_authorization_details": [],
            "cds_company_name": "My Company Name"
        }
    ],
    "next": null,
    "previous": null
}
</code></pre></div></div>

<h3 id="126-retrieving-an-individual-client-">12.6. Retrieving an Individual Client <a id="example-client-get" href="#example-client-get" class="permalink">üîó</a></h3>

<p>The following is a non-normative example of a Client loading an individual Client object via the <a href="#clients-api">Clients API</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>==Request==
GET /cds-api/v1/clients/aaf026921707f5d5 HTTP/1.1
Host: example.com
Authorizatin: Bearer vjzia9aP-os_rw-bPvMe--uIniUWdmGmXtHH7XaVbTM_KS8eBYCp7IWyoNDC1KCc7DtkVm8fKYIBaOja_08xEQ

==Response==
HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

{
    "client_id": "aaf026921707f5d5",
    "client_id_issued_at": 2893256800,
    "scope": "client_admin",
    "redirect_uris": [],
    "response_types": [],
    "grant_types": ["client_credentials"],
    "token_endpoint_auth_method": "client_secret_basic",
    "client_name": "My App Name",
    "authorization_details_types": ["client_admin"],
    "cds_created": "2022-01-01T00:00:00Z",
    "cds_modified": "2022-01-01T00:00:00Z",
    "cds_client_uri": "https://example.com/cds-api/v1/clients/aaf026921707f5d5",
    "cds_status": "production",
    "cds_status_options": ["production"],
    "cds_server_metadata": "https://example.com/cds-api/v1/clients/aaf026921707f5d5/cds-server-metadata",
}
</code></pre></div></div>

<h3 id="127-modifying-a-client-">12.7. Modifying a Client <a id="example-client-modify" href="#example-client-modify" class="permalink">üîó</a></h3>

<p>The following is a non-normative example of a Client updating their list of <code class="language-plaintext highlighter-rouge">redirect_uris</code> for a Client via the <a href="#clients-api">Clients API</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>==Request==
PUT /cds-api/v1/clients/af653d57fa364da5 HTTP/1.1
Host: example.com
Authorizatin: Bearer vjzia9aP-os_rw-bPvMe--uIniUWdmGmXtHH7XaVbTM_KS8eBYCp7IWyoNDC1KCc7DtkVm8fKYIBaOja_08xEQ

{
    "scope": "example_custom",
    "redirect_uris": ["https://example.com/oauth/default-redirect", "https://client.example.com/my-new-redirect"],
    "authorization_details_types": ["example_custom"],
    "cds_status": "sandbox",
    "cds_default_scope": "example_custom",
    "cds_default_redirect_uri": "https://client.example.com/my-new-redirect",
    "cds_default_authorization_details": [],
    "cds_company_name": "My Company Name"
}


==Response==
HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

{
    "client_id": "af653d57fa364da5",
    "client_id_issued_at": 2893256800,
    "scope": "example_custom",
    "redirect_uris": ["https://example.com/oauth/default-redirect", "https://client.example.com/my-new-redirect"],
    "response_types": ["code"],
    "grant_types": ["authorization_code", "refresh_token"],
    "token_endpoint_auth_method": "client_secret_basic",
    "authorization_details_types": ["example_custom"],
    "cds_created": "2022-01-01T00:00:00Z",
    "cds_modified": "2024-01-01T00:00:00Z",
    "cds_client_uri": "https://example.com/cds-api/v1/clients/af653d57fa364da5",
    "cds_status": "sandbox",
    "cds_status_options": ["sandbox", "disabled"],
    "cds_server_metadata": "https://example.com/cds-api/v1/clients/af653d57fa364da5/cds-server-metadata",
    "cds_default_scope": "example_custom",
    "cds_default_redirect_uri": "https://client.example.com/my-new-redirect",
    "cds_default_authorization_details": [],
    "cds_company_name": "My Company Name"
}
</code></pre></div></div>

<h3 id="128-retrieving-a-message-list-">12.8. Retrieving a Message List <a id="example-messages-list" href="#example-messages-list" class="permalink">üîó</a></h3>

<p>The following is a non-normative example of a Client loading their list of Message objects via the <a href="#messages-api">Messages API</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>==Request==
GET /cds-api/v1/messages HTTP/1.1
Host: example.com
Authorizatin: Bearer vjzia9aP-os_rw-bPvMe--uIniUWdmGmXtHH7XaVbTM_KS8eBYCp7IWyoNDC1KCc7DtkVm8fKYIBaOja_08xEQ

==Response==
HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

{
    "outstanding": [
        {
            "message_id": "45dc9ce6b1962124",
            "uri": "https://example.com/cds-api/v1/messages/45dc9ce6b1962124",
            "previous_uri": null,
            "type": "production_request",
            "read": true,
            "creator": null,
            "created": "2022-01-01T00:00:00Z",
            "modified": "2022-01-01T00:00:00Z",
            "status": "pending",
            "name": "Production access request",
            "description": "We have automatically initiated a review for production access for your registration",
            "related_uri": "https://example.com/cds-api/v1/clients/af653d57fa364da5",
            "related_type": "client"
        }
    ],
    "outstanding_next": null,
    "outstanding_previous": null,
    "read": [],
    "read_next": null,
    "read_previous": null,
    "unread": [
        {
            "message_id": "9047a057519c0ea4",
            "uri": "https://example.com/cds-api/v1/messages/9047a057519c0ea4",
            "previous_uri": null,
            "type": "notification",
            "read": false,
            "creator": null,
            "created": "2022-01-01T00:00:00Z",
            "modified": "2022-01-01T00:00:00Z",
            "status": "complete",
            "name": "Welcome!",
            "description": "If you have any questions about our CDS Server implementation, please see our documentation or create a support request message. Thanks!",
            "related_uri": "https://example.com/docs",
            "related_type": "documentation"
        },
        {
            "message_id": "45dc9ce6b1962124",
            "uri": "https://example.com/cds-api/v1/messages/45dc9ce6b1962124",
            "previous_uri": null,
            "type": "production_request",
            "read": false,
            "creator": null,
            "created": "2022-01-01T00:00:00Z",
            "modified": "2022-01-01T00:00:00Z",
            "status": "pending",
            "name": "Production access request",
            "description": "We have automatically initiated a review for production access for your registration",
            "related_uri": "https://example.com/cds-api/v1/clients/af653d57fa364da5",
            "related_type": "client"
        }
    ],
    "unread_next": null,
    "unread_previous": null,
}
</code></pre></div></div>

<h3 id="129-creating-a-message-">12.9. Creating a Message <a id="example-message-create" href="#example-message-create" class="permalink">üîó</a></h3>

<p>The following is a non-normative example of a Client creating a Message via the <a href="#messages-api">Messages API</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>==Request==
POST /cds-api/v1/messages HTTP/1.1
Host: example.com
Authorizatin: Bearer vjzia9aP-os_rw-bPvMe--uIniUWdmGmXtHH7XaVbTM_KS8eBYCp7IWyoNDC1KCc7DtkVm8fKYIBaOja_08xEQ

{
    "type": "private_message",
    "name": "My Subject",
    "description": "Hello World!"
}


==Response==
HTTP/1.1 201 Created
Content-Type: application/json;charset=UTF-8

{
    "message_id": "00d1852055088ae7",
    "uri": "https://example.com/cds-api/v1/messages/00d1852055088ae7",
    "previous_uri": null,
    "type": "private_message",
    "read": true,
    "creator": "aaf026921707f5d5",
    "created": "2022-01-01T00:00:00Z",
    "modified": "2022-01-01T00:00:00Z",
    "status": "complete",
    "name": "My Subject",
    "description": "Hello World!"
}
</code></pre></div></div>

<h3 id="1210-retrieving-an-individual-message-">12.10. Retrieving an Individual Message <a id="example-message-get" href="#example-message-get" class="permalink">üîó</a></h3>

<p>The following is a non-normative example of a Client loading a specific Message object via the <a href="#messages-api">Messages API</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>==Request==
GET /cds-api/v1/messages/9047a057519c0ea4 HTTP/1.1
Host: example.com
Authorizatin: Bearer vjzia9aP-os_rw-bPvMe--uIniUWdmGmXtHH7XaVbTM_KS8eBYCp7IWyoNDC1KCc7DtkVm8fKYIBaOja_08xEQ

==Response==
HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

{
    "message_id": "9047a057519c0ea4",
    "uri": "https://example.com/cds-api/v1/messages/9047a057519c0ea4",
    "previous_uri": null,
    "type": "notification",
    "read": false,
    "creator": null,
    "created": "2022-01-01T00:00:00Z",
    "modified": "2022-01-01T00:00:00Z",
    "status": "complete",
    "name": "Welcome!",
    "description": "If you have any questions about our CDS Server implementation, please see our documentation or create a support request message. Thanks!",
    "related_uri": "https://example.com/docs",
    "related_type": "documentation"
}
</code></pre></div></div>

<h3 id="1211-modifying-a-message-">12.11. Modifying a Message <a id="example-message-modify" href="#example-message-modify" class="permalink">üîó</a></h3>

<p>The following is a non-normative example of a Client marking a specific Message as read via the <a href="#messages-api">Messages API</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>==Request==
PATCH /cds-api/v1/messages/9047a057519c0ea4 HTTP/1.1
Host: example.com
Authorizatin: Bearer vjzia9aP-os_rw-bPvMe--uIniUWdmGmXtHH7XaVbTM_KS8eBYCp7IWyoNDC1KCc7DtkVm8fKYIBaOja_08xEQ

{
    "read": true
}


==Response==
HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

{
    "message_id": "9047a057519c0ea4",
    "uri": "https://example.com/cds-api/v1/messages/9047a057519c0ea4",
    "previous_uri": null,
    "type": "notification",
    "read": true,
    "creator": null,
    "created": "2022-01-01T00:00:00Z",
    "modified": "2024-01-01T00:00:00Z",
    "status": "complete",
    "name": "Welcome!",
    "description": "If you have any questions about our CDS Server implementation, please see our documentation or create a support request message. Thanks!",
    "related_uri": "https://example.com/docs",
    "related_type": "documentation"
}
</code></pre></div></div>

<h3 id="1212-retrieving-a-credentials-list-">12.12. Retrieving a Credentials List <a id="example-credentials-list" href="#example-credentials-list" class="permalink">üîó</a></h3>

<p>The following is a non-normative example of a Client loading their list of Credential objects via the <a href="#credentials-api">Credentials API</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>==Request==
GET /cds-api/v1/credentials HTTP/1.1
Host: example.com
Authorizatin: Bearer vjzia9aP-os_rw-bPvMe--uIniUWdmGmXtHH7XaVbTM_KS8eBYCp7IWyoNDC1KCc7DtkVm8fKYIBaOja_08xEQ

==Response==
HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

{
    "credentials": [
        {
            "credential_id": "3d0ac1c8513ba94d",
            "uri": "https://example.com/cds-api/v1/credentials/3d0ac1c8513ba94d",
            "client_id": "aaf026921707f5d5",
            "created": "2022-01-01T00:00:00Z",
            "modified": "2022-01-01T00:00:00Z",
            "type": "client_secret",
            "client_secret": "Q3VpGy7k6Mj9Yc-F1wtujttAq2HiEel8O1Ie5zEw00AslNsoUU3SMzKPeRPZgqA6dMW3jSvZQ_O0iWpQRa1NaQ",
            "client_secret_expires_at": 0
        },
        {
            "credential_id": "034e94179b67db20",
            "uri": "https://example.com/cds-api/v1/credentials/034e94179b67db20",
            "client_id": "22bb40b5b823fa8c",
            "created": "2022-01-01T00:00:00Z",
            "modified": "2022-01-01T00:00:00Z",
            "type": "client_secret",
            "client_secret": "vhFcq19p5R0qNYylibA5UavPS8sZNFmBMtDb7ZIBedFtCnZWqf2PkAs2Tx5AQpbgVrzOkfwE6GRhZhKjR59WGQ",
            "client_secret_expires_at": 0
        },
        {
            "credential_id": "8406a1fd23d73417",
            "uri": "https://example.com/cds-api/v1/credentials/8406a1fd23d73417",
            "client_id": "af653d57fa364da5",
            "created": "2022-01-01T00:00:00Z",
            "modified": "2022-01-01T00:00:00Z",
            "type": "client_secret",
            "client_secret": "VmWa4VMBIL4rfkl_K14fjKgV9_hSpMV2brDmr2-YA-mRgRPcAfQW3WPBQxf09MPYcavCsZSwnJdmMuA9WM7RMw",
            "client_secret_expires_at": 2893256800
        }
    ],
    "next": null,
    "previous": null
}
</code></pre></div></div>

<h3 id="1213-creating-a-credential-">12.13. Creating a Credential <a id="example-credentials-create" href="#example-credentials-create" class="permalink">üîó</a></h3>

<p>The following is a non-normative example of a Client creating a new Credential object via the <a href="#credentials-api">Credentials API</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>==Request==
POST /cds-api/v1/credentials HTTP/1.1
Host: example.com
Authorizatin: Bearer vjzia9aP-os_rw-bPvMe--uIniUWdmGmXtHH7XaVbTM_KS8eBYCp7IWyoNDC1KCc7DtkVm8fKYIBaOja_08xEQ

{
    "client_id": "af653d57fa364da5",
}


==Response==
HTTP/1.1 201 Created
Content-Type: application/json;charset=UTF-8

{
    "credential_id": "232582c87b83745d",
    "uri": "https://example.com/cds-api/v1/credentials/232582c87b83745d",
    "client_id": "af653d57fa364da5",
    "created": "2024-01-01T00:00:00Z",
    "modified": "2024-01-01T00:00:00Z",
    "type": "client_secret",
    "client_secret": "-PfL_ZrhxyZWoY9Od1M4QRdOfa3RwNl5uwcneWsA0Ba3i-kiuxBEK6tuMRubKPWZmKBhvRGqp4T3oZnDDka_Fw",
    "client_secret_expires_at": 2893256800
}
</code></pre></div></div>

<h3 id="1214-retrieving-an-individual-credential-">12.14. Retrieving an Individual Credential <a id="example-credentials-get" href="#example-credentials-get" class="permalink">üîó</a></h3>

<p>The following is a non-normative example of a Client loading an individual Credential object via the <a href="#credentials-api">Credentials API</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>==Request==
GET /cds-api/v1/credentials/8406a1fd23d73417 HTTP/1.1
Host: example.com
Authorizatin: Bearer vjzia9aP-os_rw-bPvMe--uIniUWdmGmXtHH7XaVbTM_KS8eBYCp7IWyoNDC1KCc7DtkVm8fKYIBaOja_08xEQ

==Response==
HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

{
    "credential_id": "8406a1fd23d73417",
    "uri": "https://example.com/cds-api/v1/credentials/8406a1fd23d73417",
    "client_id": "af653d57fa364da5",
    "created": "2022-01-01T00:00:00Z",
    "modified": "2022-01-01T00:00:00Z",
    "type": "client_secret",
    "client_secret": "VmWa4VMBIL4rfkl_K14fjKgV9_hSpMV2brDmr2-YA-mRgRPcAfQW3WPBQxf09MPYcavCsZSwnJdmMuA9WM7RMw",
    "client_secret_expires_at": 2893256800
}
</code></pre></div></div>

<h3 id="1215-modifying-a-credential-">12.15. Modifying a Credential <a id="example-credentials-modify" href="#example-credentials-modify" class="permalink">üîó</a></h3>

<p>The following is a non-normative example of a Client disabling a specific Credential via the <a href="#credentials-api">Credentials API</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>==Request==
PATCH /cds-api/v1/credentials/8406a1fd23d73417 HTTP/1.1
Host: example.com
Authorizatin: Bearer vjzia9aP-os_rw-bPvMe--uIniUWdmGmXtHH7XaVbTM_KS8eBYCp7IWyoNDC1KCc7DtkVm8fKYIBaOja_08xEQ

{
    "client_secret_expires_at": 1760125049
}


==Response==
HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

{
    "credential_id": "8406a1fd23d73417",
    "uri": "https://example.com/cds-api/v1/credentials/8406a1fd23d73417",
    "client_id": "af653d57fa364da5",
    "created": "2022-01-01T00:00:00Z",
    "modified": "2025-10-01T00:00:00Z",
    "type": "client_secret",
    "client_secret": "VmWa4VMBIL4rfkl_K14fjKgV9_hSpMV2brDmr2-YA-mRgRPcAfQW3WPBQxf09MPYcavCsZSwnJdmMuA9WM7RMw",
    "client_secret_expires_at": 1760125049
}
</code></pre></div></div>

<h3 id="1216-grants-list-">12.16. Grants List <a id="example-grants-list" href="#example-grants-list" class="permalink">üîó</a></h3>

<p>The following is a non-normative example of a Client loading their list of Grant objects via the <a href="#grants-api">Grants API</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>==Request==
GET /cds-api/v1/grants HTTP/1.1
Host: example.com
Authorizatin: Bearer vjzia9aP-os_rw-bPvMe--uIniUWdmGmXtHH7XaVbTM_KS8eBYCp7IWyoNDC1KCc7DtkVm8fKYIBaOja_08xEQ

==Response==
HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

{
    "grants": [
        {
            "grant_id": "d62bdc99ff26e0b4",
            "uri": "https://example.com/cds-api/v1/grants/d62bdc99ff26e0b4",
            "replacing": [],
            "replaced_by": [],
            "parent": null,
            "children": [],
            "created": "2022-01-01T00:00:00Z",
            "modified": "2022-01-01T00:00:00Z",
            "not_before": null,
            "not_after": null,
            "eta": null,
            "expires": null,
            "status": "active",
            "client_id": "aaf026921707f5d5",
            "scope": "client_admin",
            "authorization_details": [],
            "receipt_confirmations": [],
            "enabled_scope": "client_admin",
            "enabled_authorization_details": []
        },
        {
            "grant_id": "c644a5da13f379db",
            "uri": "https://example.com/cds-api/v1/grants/c644a5da13f379db",
            "replacing": [],
            "replaced_by": [],
            "parent": null,
            "children": [],
            "created": "2022-01-01T00:00:00Z",
            "modified": "2022-01-01T00:00:00Z",
            "not_before": null,
            "not_after": null,
            "eta": null,
            "expires": null,
            "status": "active",
            "client_id": "7e22b5568893c547",
            "scope": "server_provided_files",
            "authorization_details": [
                {
                    "type": "server_provided_files",
                    "file_id": "4fcf6831957a243c"
                }
            ],
            "receipt_confirmations": [],
            "enabled_scope": "server_provided_files",
            "enabled_authorization_details": [
                {
                    "type": "server_provided_files",
                    "file_id": "4fcf6831957a243c"
                }
            ]
        }
    ],
    "next": null,
    "previous": null
}
</code></pre></div></div>

<h3 id="1217-retrieving-an-individual-grant-">12.17. Retrieving an Individual Grant <a id="example-grants-get" href="#example-grants-get" class="permalink">üîó</a></h3>

<p>The following is a non-normative example of a Client loading an individual Grant object via the <a href="#grants-api">Grants API</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>==Request==
GET /cds-api/v1/grants/c644a5da13f379db HTTP/1.1
Host: example.com
Authorizatin: Bearer vjzia9aP-os_rw-bPvMe--uIniUWdmGmXtHH7XaVbTM_KS8eBYCp7IWyoNDC1KCc7DtkVm8fKYIBaOja_08xEQ

==Response==
HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

{
    "grant_id": "c644a5da13f379db",
    "uri": "https://example.com/cds-api/v1/grants/c644a5da13f379db",
    "replacing": [],
    "replaced_by": [],
    "parent": null,
    "children": [],
    "created": "2022-01-01T00:00:00Z",
    "modified": "2022-01-01T00:00:00Z",
    "not_before": null,
    "not_after": null,
    "eta": null,
    "expires": null,
    "status": "active",
    "client_id": "7e22b5568893c547",
    "scope": "server_provided_files",
    "authorization_details": [
        {
            "type": "server_provided_files",
            "file_id": "4fcf6831957a243c"
        }
    ],
    "receipt_confirmations": [],
    "enabled_scope": "server_provided_files",
    "enabled_authorization_details": [
        {
            "type": "server_provided_files",
            "file_id": "4fcf6831957a243c"
        }
    ]
}
</code></pre></div></div>

<h3 id="1218-modifying-a-grant-">12.18. Modifying a Grant <a id="example-grants-modify" href="#example-grants-modify" class="permalink">üîó</a></h3>

<p>The following is a non-normative example of a Client revoking a specific Grant via the <a href="#grants-api">Grants API</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>==Request==
PATCH /cds-api/v1/grants/c644a5da13f379db HTTP/1.1
Host: example.com
Authorizatin: Bearer vjzia9aP-os_rw-bPvMe--uIniUWdmGmXtHH7XaVbTM_KS8eBYCp7IWyoNDC1KCc7DtkVm8fKYIBaOja_08xEQ

{
    "status": "closed"
}


==Response==
HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

{
    "grant_id": "c644a5da13f379db",
    "uri": "https://example.com/cds-api/v1/grants/c644a5da13f379db",
    "replacing": [],
    "replaced_by": [],
    "parent": null,
    "children": [],
    "created": "2022-01-01T00:00:00Z",
    "modified": "2024-01-01T00:00:00Z",
    "not_before": null,
    "not_after": null,
    "eta": null,
    "expires": null,
    "status": "closed",
    "client_id": "7e22b5568893c547",
    "scope": "server_provided_files",
    "authorization_details": [
        {
            "type": "server_provided_files",
            "file_id": "4fcf6831957a243c"
        }
    ],
    "receipt_confirmations": [],
    "enabled_scope": "server_provided_files",
    "enabled_authorization_details": [
        {
            "type": "server_provided_files",
            "file_id": "4fcf6831957a243c"
        }
    ]
}

### 12.19. Obtaining Server-Provided File Access via the Grant Admin Scope &lt;a id="example-server-provided-files-access-token" href="#example-server-provided-files-access-token" class="permalink"&gt;üîó&lt;/a&gt;

The following is a non-normative example of a Client using their `grant_admin` Client object to obtain an `access_token` for a Server-Provided Files Grant.

</code></pre></div></div>
<p>==Request==
POST /oauth/token HTTP/1.1
Host: example.com
Authorization: Basic MjJiYjQwYjViODIzZmE4Yzp2aEZjcTE5cDVSMHFOWXlsaWJBNVVhdlBTOHNaTkZtQk10RGI3WklCZWRGdENuWldxZjJQa0FzMlR4NUFRcGJnVnJ6T2tmd0U2R1JoWmhLalI1OVdHUQ==</p>

<p>grant_type=client_credentials&amp;scope=grant_admin&amp;authorization_details=%5B%7B%22type%22%3A%22grant_admin%22%2C%22client_id%22%3A%227e22b5568893c547%22%2C%22grant_id%22%3A%22c644a5da13f379db%22%7D%5D</p>

<p>==Response==
HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8</p>

<p>{
    ‚Äúaccess_token‚Äù: ‚ÄúoeatueF_TdVjcygl3REDApTtYDDqapwEaYEO9djPDvq1V3aLAlAOHt5k-wO6fwxcCheXPmq_f8x1nYYtSGqKRA‚Äù,
    ‚Äútoken_type‚Äù: ‚Äúbearer‚Äù,
    ‚Äúexpires_in‚Äù: 3600,
    ‚Äúscope‚Äù: ‚Äúgrant_admin‚Äù,
    ‚Äúauthorization_details‚Äù: [
        {
            ‚Äútype‚Äù: ‚Äúgrant_admin‚Äù,
            ‚Äúclient_id‚Äù: ‚Äú7e22b5568893c547‚Äù,
            ‚Äúgrant_id‚Äù: ‚Äúc644a5da13f379db‚Äù
        }
    ]
}</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
### 12.20. Retrieving a Server-Provided Files List &lt;a id="example-server-provided-files-list" href="#example-server-provided-files-list" class="permalink"&gt;üîó&lt;/a&gt;

The following is a non-normative example of a Client loading Server-Provided File objects via the [Server-Provided Files API](#server-provided-files-api).

</code></pre></div></div>
<p>==Request==
GET /cds-api/v1/server-provided-files HTTP/1.1
Host: example.com
Authorizatin: Bearer oeatueF_TdVjcygl3REDApTtYDDqapwEaYEO9djPDvq1V3aLAlAOHt5k-wO6fwxcCheXPmq_f8x1nYYtSGqKRA</p>

<p>==Response==
HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8</p>

<p>{
    ‚Äúfiles‚Äù: [
        {
            ‚Äúfile_id‚Äù: ‚Äú4fcf6831957a243c‚Äù,
            ‚Äúuri‚Äù: ‚Äúhttps://example.com/cds-api/v1/server-provided-files/4fcf6831957a243c‚Äù,
            ‚Äúcreated‚Äù: ‚Äú2022-01-01T00:00:00Z‚Äù,
            ‚Äúmodified‚Äù: ‚Äú2022-01-01T00:00:00Z‚Äù,
            ‚Äúmime_type‚Äù: ‚Äúapplication/pdf‚Äù,
            ‚Äúsize‚Äù: 1111111,
            ‚Äúname‚Äù: ‚ÄúDR_API_docs_v1.0.pdf‚Äù,
            ‚Äúdescription‚Äù: ‚ÄúProprietary demand response API documentation‚Äù,
            ‚Äúdownload_uri‚Äù: ‚Äúhttps://example.com/cds-api/v1/server-provided-files/4fcf6831957a243c/download‚Äù
        }
    ],
    ‚Äúnext‚Äù: null,
    ‚Äúprevious‚Äù: null
}</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
### 12.21. Retrieving an Individual Server-Provided File &lt;a id="example-server-provided-files-get" href="#example-server-provided-files-get" class="permalink"&gt;üîó&lt;/a&gt;

The following is a non-normative example of a Client loading an individual Server-Provided File object via the [Server-Provided Files API](#server-provided-files-api).

</code></pre></div></div>
<p>==Request==
GET /cds-api/v1/server-provided-files/4fcf6831957a243c HTTP/1.1
Host: example.com
Authorizatin: Bearer oeatueF_TdVjcygl3REDApTtYDDqapwEaYEO9djPDvq1V3aLAlAOHt5k-wO6fwxcCheXPmq_f8x1nYYtSGqKRA</p>

<p>==Response==
HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8</p>

<p>{
    ‚Äúfile_id‚Äù: ‚Äú4fcf6831957a243c‚Äù,
    ‚Äúuri‚Äù: ‚Äúhttps://example.com/cds-api/v1/server-provided-files/4fcf6831957a243c‚Äù,
    ‚Äúcreated‚Äù: ‚Äú2022-01-01T00:00:00Z‚Äù,
    ‚Äúmodified‚Äù: ‚Äú2022-01-01T00:00:00Z‚Äù,
    ‚Äúmime_type‚Äù: ‚Äúapplication/pdf‚Äù,
    ‚Äúsize‚Äù: 1111111,
    ‚Äúname‚Äù: ‚ÄúDR_API_docs_v1.0.pdf‚Äù,
    ‚Äúdescription‚Äù: ‚ÄúProprietary demand response API documentation‚Äù,
    ‚Äúdownload_uri‚Äù: ‚Äúhttps://example.com/cds-api/v1/server-provided-files/4fcf6831957a243c/download‚Äù
}</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
### 12.22. Downloading Data for a Server-Provided File &lt;a id="example-server-provided-files-download" href="#example-server-provided-files-download" class="permalink"&gt;üîó&lt;/a&gt;

The following is a non-normative example of a Client downloading the raw data for a Server-Provided File via the [Server-Provided Files API](#server-provided-files-api)..

</code></pre></div></div>
<p>==Request==
GET /cds-api/v1/server-provided-files/4fcf6831957a243c/download HTTP/1.1
Host: example.com
Authorizatin: Bearer oeatueF_TdVjcygl3REDApTtYDDqapwEaYEO9djPDvq1V3aLAlAOHt5k-wO6fwxcCheXPmq_f8x1nYYtSGqKRA</p>

<p>==Response==
HTTP/1.1 200 OK
Content-Type: application/pdf
Content-Length: 1111111
Content-Disposition: attachment; filename=‚ÄùDR_API_docs_v1.0.pdf‚Äù</p>

<p>‚Ä¶the PDF data as response body‚Ä¶
```</p>

<h2 id="13-references-">13. References <a id="references" href="#references" class="permalink">üîó</a></h2>

<p><a id="ref-bcp14" href="#ref-bcp14" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">BCP 14</code> - ‚ÄúBest Current Practice 14‚Äù, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/info/bcp14">https://www.rfc-editor.org/info/bcp14</a></p>

<p><a id="ref-cds-wg1-01" href="#ref-cds-wg1-01" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">CDS-WG1-01</code> - ‚ÄúServer Metadata‚Äù, CDS-WG1-01, LF Energy Standards and Specifications (LFESS),<br />
<a href="https://cds-registration.lfenergy.org/specs/cds-wg1-01/">https://cds-registration.lfenergy.org/specs/cds-wg1-01/</a></p>

<p><a id="ref-cds-wg1-01-metadata-endpoint" href="#ref-cds-wg1-01-metadata-endpoint" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">CDS-WG1-01 Section 3</code> - Section 3. Metadata Endpoint, ‚ÄúServer Metadata‚Äù, CDS-WG1-01, LF Energy Standards and Specifications (LFESS),<br />
<a href="https://cds-registration.lfenergy.org/specs/cds-wg1-01/#metadata-endpoint">https://cds-registration.lfenergy.org/specs/cds-wg1-01/#metadata-endpoint</a></p>

<p><a id="ref-cds-wg1-01-metadata-object" href="#ref-cds-wg1-01-metadata-object" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">CDS-WG1-01 Section 3.2</code> - Section 3.2. Metadata Object Format, ‚ÄúServer Metadata‚Äù, CDS-WG1-01, LF Energy Standards and Specifications (LFESS),<br />
<a href="https://cds-registration.lfenergy.org/specs/cds-wg1-01/#metadata-object-format">https://cds-registration.lfenergy.org/specs/cds-wg1-01/#metadata-object-format</a></p>

<p><a id="ref-cds-wg1-01-server-capabilities" href="#ref-cds-wg1-01-server-capabilities" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">CDS-WG1-01 Section 3.4</code> - Section 3.4. Server Capabilities, ‚ÄúServer Metadata‚Äù, CDS-WG1-01, LF Energy Standards and Specifications (LFESS),<br />
<a href="https://cds-registration.lfenergy.org/specs/cds-wg1-01/#server-capabilities">https://cds-registration.lfenergy.org/specs/cds-wg1-01/#server-capabilities</a></p>

<p><a id="ref-cds-wg1-01-coverage-entry" href="#ref-cds-wg1-01-coverage-entry" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">CDS-WG1-01 Section 4.3</code> - Section 4.3. Coverage Entry Format, ‚ÄúServer Metadata‚Äù, CDS-WG1-01, LF Energy Standards and Specifications (LFESS),<br />
<a href="https://cds-registration.lfenergy.org/specs/cds-wg1-01/#coverage-entry-format">https://cds-registration.lfenergy.org/specs/cds-wg1-01/#coverage-entry-format</a></p>

<p><a id="ref-iso4217" href="#ref-iso4217" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">ISO 4217</code> - ‚ÄúCurrency Codes‚Äù, ISO 4217, International Organization for Standardization (ISO),<br />
<a href="https://www.iso.org/iso-4217-currency-codes.html">https://www.iso.org/iso-4217-currency-codes.html</a></p>

<p><a id="ref-rfc3339-datetime" href="#ref-rfc3339-datetime" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 3339 Section 5.6</code> - Section 5.6. Internet Date/Time Format, ‚ÄúDate and Time on the Internet: Timestamps‚Äù, RFC 3339, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc3339#section-5.6">https://www.rfc-editor.org/rfc/rfc3339#section-5.6</a></p>

<p><a id="ref-rfc3339-duration" href="#ref-rfc3339-duration" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 3339 Appendix A</code> - Appendix A. ISO 8601 Collected ABNF, ‚ÄúDate and Time on the Internet: Timestamps‚Äù, RFC 3339, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc3339#appendix-A">https://www.rfc-editor.org/rfc/rfc3339#appendix-A</a></p>

<p><a id="ref-rfc3986-url" href="#ref-rfc3986-url" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 3986 Section 1.1.3</code> - Section 1.1.3. URI, URL, and URN, ‚ÄúUniform Resource Identifier (URI): Generic Syntax‚Äù, RFC 3986, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc3986#section-1.1.3">https://www.rfc-editor.org/rfc/rfc3986#section-1.1.3</a></p>

<p><a id="ref-rfc4648" href="#ref-rfc4648" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 4648</code> - ‚ÄúThe Base16, Base32, and Base64 Data Encodings‚Äù, RFC 4648, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc4648">https://www.rfc-editor.org/rfc/rfc4648</a></p>

<p><a id="ref-rfc5789" href="#ref-rfc5789" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 5789</code> - ‚ÄúPATCH Method for HTTP‚Äù, RFC 5789, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc5789">https://www.rfc-editor.org/rfc/rfc5789</a></p>

<p><a id="ref-rfc6749" href="#ref-rfc6749" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 6749</code> - ‚ÄúThe OAuth 2.0 Authorization Framework‚Äù, RFC 6749, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc6749">https://www.rfc-editor.org/rfc/rfc6749</a></p>

<p><a id="ref-rfc6749-token-endpoint" href="#ref-rfc6749-token-endpoint" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 6749 Section 3.2</code> - Section 3.2: Token Endpoint, ‚ÄúThe OAuth 2.0 Authorization Framework‚Äù, RFC 6749, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc6749#section-3.2">https://www.rfc-editor.org/rfc/rfc6749#section-3.2</a></p>

<p><a id="ref-rfc6749-code-grant" href="#ref-rfc6749-code-grant" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 6749 Section 4.1</code> - Section 4.1. Authorization Code Grant, ‚ÄúThe OAuth 2.0 Authorization Framework‚Äù, RFC 6749, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc6749#section-4.1">https://www.rfc-editor.org/rfc/rfc6749#section-4.1</a></p>

<p><a id="ref-rfc6749-auth-request" href="#ref-rfc6749-auth-request" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 6749 Section 4.1.1</code> - Section 4.1.1. Authorization Request, ‚ÄúThe OAuth 2.0 Authorization Framework‚Äù, RFC 6749, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc6749#section-4.1.1">https://www.rfc-editor.org/rfc/rfc6749#section-4.1.1</a></p>

<p><a id="ref-rfc6749-token-request" href="#ref-rfc6749-token-request" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 6749 Section 4.1.3</code> - Section 4.1.3. Access Token Request, ‚ÄúThe OAuth 2.0 Authorization Framework‚Äù, RFC 6749, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc6749#section-4.1.3">https://www.rfc-editor.org/rfc/rfc6749#section-4.1.3</a></p>

<p><a id="ref-rfc6749-client-credentials" href="#ref-rfc6749-client-credentials" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 6749 Section 4.4</code> - Section 4.4. Client Credentials Grant, ‚ÄúThe OAuth 2.0 Authorization Framework‚Äù, RFC 6749, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc6749#section-4.4">https://www.rfc-editor.org/rfc/rfc6749#section-4.4</a></p>

<p><a id="ref-rfc6749-access-tokens" href="#ref-rfc6749-access-tokens" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 6749 Section 5</code> - Section 5. Issuing an Access Token, ‚ÄúThe OAuth 2.0 Authorization Framework‚Äù, RFC 6749, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc6749#section-5">https://www.rfc-editor.org/rfc/rfc6749#section-5</a></p>

<p><a id="ref-rfc6750-auth-header" href="#ref-rfc6750-auth-header" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 6750 Section 2.1</code> - Section 2.1. Authorization Request Header Field, ‚ÄúThe OAuth 2.0 Authorization Framework: Bearer Token Usage‚Äù, RFC 6750, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc6750#section-2.1">https://www.rfc-editor.org/rfc/rfc6750#section-2.1</a></p>

<p><a id="ref-rfc6838" href="#ref-rfc6838" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 6838</code> - ‚ÄúMedia Type Specifications and Registration Procedures‚Äù, RFC 6838, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc6838">https://www.rfc-editor.org/rfc/rfc6838</a></p>

<p><a id="ref-rfc7009" href="#ref-rfc7009" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 7009</code> - ‚ÄúOAuth 2.0 Token Revocation‚Äù, RFC 7009, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc7009">https://www.rfc-editor.org/rfc/rfc7009</a></p>

<p><a id="ref-rfc7517-pk" href="#ref-rfc7517-pk" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 7517 Section 4</code> - Section 4. JSON Web Key (JWK) Format, ‚ÄúJSON Web Key (JWK)‚Äù, RFC 7517, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc7517#section-4">https://www.rfc-editor.org/rfc/rfc7517#section-4</a></p>

<p><a id="ref-rfc7591" href="#ref-rfc7591" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 7591</code> - ‚ÄúOAuth 2.0 Dynamic Client Registration Protocol‚Äù, RFC 7591, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc7591">https://www.rfc-editor.org/rfc/rfc7591</a></p>

<p><a id="ref-rfc7591-client-metadata" href="#ref-rfc7591-client-metadata" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 7591 Section 2</code> - Section 2. Client Metadata, ‚ÄúOAuth 2.0 Dynamic Client Registration Protocol‚Äù, RFC 7591, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc7591#section-2">https://www.rfc-editor.org/rfc/rfc7591#section-2</a></p>

<p><a id="ref-rfc7591-client-reg-request" href="#ref-rfc7591-client-reg-request" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 7591 Section 3.1</code> - Section 3.1. Client Registration Request, ‚ÄúOAuth 2.0 Dynamic Client Registration Protocol‚Äù, RFC 7591, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc7591#section-3.1">https://www.rfc-editor.org/rfc/rfc7591#section-3.1</a></p>

<p><a id="ref-rfc7591-client-reg-resp" href="#ref-rfc7591-client-reg-resp" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 7591 Section 3.2</code> - Section 3.2. Responses, ‚ÄúOAuth 2.0 Dynamic Client Registration Protocol‚Äù, RFC 7591, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc7591#section-3.2">https://www.rfc-editor.org/rfc/rfc7591#section-3.2</a></p>

<p><a id="ref-rfc7591-client-info-resp" href="#ref-rfc7591-client-info-resp" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 7591 Section 3.2.1</code> - Section 3.2.1. Client Information Response, ‚ÄúOAuth 2.0 Dynamic Client Registration Protocol‚Äù, RFC 7591, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc7591#section-3.2.1">https://www.rfc-editor.org/rfc/rfc7591#section-3.2.1</a></p>

<p><a id="ref-rfc7592" href="#ref-rfc7592" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 7592</code> - ‚ÄúOAuth 2.0 Dynamic Client Registration Management Protocol‚Äù, RFC 7592, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc7592">https://www.rfc-editor.org/rfc/rfc7592</a></p>

<p><a id="ref-rfc7592-client-updates" href="#ref-rfc7592-client-updates" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 7592 Section 2.2</code> - Section 2.2. Client Update Request, ‚ÄúOAuth 2.0 Dynamic Client Registration Management Protocol‚Äù, RFC 7592, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc7592#section-2.2">https://www.rfc-editor.org/rfc/rfc7592#section-2.2</a></p>

<p><a id="ref-rfc7592-client-metadata" href="#ref-rfc7592-client-metadata" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 7592 Section 3</code> - Section 3. Client Information Response, ‚ÄúOAuth 2.0 Dynamic Client Registration Management Protocol‚Äù, RFC 7592, Internet Engineering Task Force (IETF),
<a href="https://www.rfc-editor.org/rfc/rfc7592#section-3">https://www.rfc-editor.org/rfc/rfc7592#section-3</a></p>

<p><a id="ref-rfc7636" href="#ref-rfc7636" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 7636</code> - ‚ÄúProof Key for Code Exchange by OAuth Public Clients‚Äù, RFC 7636, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc7636">https://www.rfc-editor.org/rfc/rfc7636</a></p>

<p><a id="ref-rfc7662" href="#ref-rfc7662" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 7662</code> - ‚ÄúOAuth 2.0 Token Introspection‚Äù, RFC 7662, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc7662">https://www.rfc-editor.org/rfc/rfc7662</a></p>

<p><a id="ref-rfc8259" href="#ref-rfc8259" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 8259</code> - ‚ÄúThe JavaScript Object Notation (JSON) Data Interchange Format‚Äù, RFC 8259, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc8259">https://www.rfc-editor.org/rfc/rfc8259</a></p>

<p><a id="ref-rfc8259-values" href="#ref-rfc8259-values" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 8259 Section 3</code> - Section 3. Values, ‚ÄúThe JavaScript Object Notation (JSON) Data Interchange Format‚Äù, RFC 8259, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc8259#section-3">https://www.rfc-editor.org/rfc/rfc8259#section-3</a></p>

<p><a id="ref-rfc8259-objects" href="#ref-rfc8259-objects" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 8259 Section 4</code> - Section 4. Objects, ‚ÄúThe JavaScript Object Notation (JSON) Data Interchange Format‚Äù, RFC 8259, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc8259#section-4">https://www.rfc-editor.org/rfc/rfc8259#section-4</a></p>

<p><a id="ref-rfc8259-arrays" href="#ref-rfc8259-arrays" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 8259 Section 5</code> - Section 5. Arrays, ‚ÄúThe JavaScript Object Notation (JSON) Data Interchange Format‚Äù, RFC 8259, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc8259#section-5">https://www.rfc-editor.org/rfc/rfc8259#section-5</a></p>

<p><a id="ref-rfc8259-numbers" href="#ref-rfc8259-numbers" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 8259 Section 6</code> - Section 6. Numbers, ‚ÄúThe JavaScript Object Notation (JSON) Data Interchange Format‚Äù, RFC 8259, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc8259#section-6">https://www.rfc-editor.org/rfc/rfc8259#section-6</a></p>

<p><a id="ref-rfc8259-strings" href="#ref-rfc8259-strings" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 8259 Section 7</code> - Section 7. Strings, ‚ÄúThe JavaScript Object Notation (JSON) Data Interchange Format‚Äù, RFC 8259, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc8259#section-7">https://www.rfc-editor.org/rfc/rfc8259#section-7</a></p>

<p><a id="ref-rfc8414-server-metadata" href="#ref-rfc8414-server-metadata" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 8414</code> - ‚ÄúOAuth 2.0 Authorization Server Metadata‚Äù, RFC 8414, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc8414">https://www.rfc-editor.org/rfc/rfc8414</a></p>

<p><a id="ref-rfc8414-server-metadata-obj" href="#ref-rfc8414-server-metadata-obj" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 8414 Section 2</code> - Section 2. Authorization Server Metadata, ‚ÄúOAuth 2.0 Authorization Server Metadata‚Äù, RFC 8414, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc8414#section-2">https://www.rfc-editor.org/rfc/rfc8414#section-2</a></p>

<p><a id="ref-rfc8414-server-metadata-req" href="#ref-rfc8414-server-metadata-req" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 8414 Section 3</code> - Section 3. Obtaining Authorization Server Metadata, ‚ÄúOAuth 2.0 Authorization Server Metadata‚Äù, RFC 8414, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc8414#section-3">https://www.rfc-editor.org/rfc/rfc8414#section-3</a></p>

<p><a id="ref-rfc8414-server-metadata-wellknown" href="#ref-rfc8414-server-metadata-wellknown" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 8414 Section 7.3</code> - Section 7.3. Well-Known URI Registry, ‚ÄúOAuth 2.0 Authorization Server Metadata‚Äù, RFC 8414, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc8414#section-7.3">https://www.rfc-editor.org/rfc/rfc8414#section-7.3</a></p>

<p><a id="ref-rfc9110-https" href="#ref-rfc9110-https" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 9110 Section 4.2.2</code> - Section 4.2.2. https URI Scheme, ‚ÄúHTTP Semantics‚Äù, RFC 9110, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc9110#section-4.2.2">https://www.rfc-editor.org/rfc/rfc9110#section-4.2.2</a></p>

<p><a id="ref-rfc9110-methods" href="#ref-rfc9110-methods" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 9110 Section 9</code> - Section 9. Methods, ‚ÄúHTTP Semantics‚Äù, RFC 9110, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc9110#section-9">https://www.rfc-editor.org/rfc/rfc9110#section-9</a></p>

<p><a id="ref-rfc9110-codes" href="#ref-rfc9110-codes" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 9110 Section 15</code> - Section 15. Status Codes, ‚ÄúHTTP Semantics‚Äù, RFC 9110, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc9110#section-15">https://www.rfc-editor.org/rfc/rfc9110#section-15</a></p>

<p><a id="ref-rfc9126" href="#ref-oauth2-par" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 9126</code> - ‚ÄúOAuth 2.0 Pushed Authorization Requests‚Äù, RFC 9126, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc9126">https://www.rfc-editor.org/rfc/rfc9126</a></p>

<p><a id="ref-rfc9396" href="#ref-rfc9396" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 9396</code> - ‚ÄúOAuth 2.0 Rich Authorization Requests‚Äù, RFC 9396, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc9396">https://www.rfc-editor.org/rfc/rfc9396</a></p>

<p><a id="ref-rfc9396-auth-details" href="#ref-rfc9396-auth-details" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 9396 Section 7.1</code> - Section 7.1. Enriched Authorization Details in Token Response, ‚ÄúOAuth 2.0 Rich Authorization Requests‚Äù, RFC 9396, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc9396#section-7.1">https://www.rfc-editor.org/rfc/rfc9396#section-7.1</a></p>

<p><a id="ref-rfc9396-rar-metadata" href="#ref-rfc9396-rar-metadata" class="permalink">üîó</a>
<code class="language-plaintext highlighter-rouge">RFC 9396 Section 10</code> - Section 10. Metadata, ‚ÄúOAuth 2.0 Rich Authorization Requests‚Äù, RFC 9396, Internet Engineering Task Force (IETF),<br />
<a href="https://www.rfc-editor.org/rfc/rfc9396#section-10">https://www.rfc-editor.org/rfc/rfc9396#section-10</a></p>

<h2 id="14-acknowledgments-">14. Acknowledgments <a id="acknowledgments" href="#acknowledgments" class="permalink">üîó</a></h2>

<p>The authors would like to thank the late Shuli Goodman, who was the Executive Director of LFEnergy, for her incredible leadership in initially organizing the CDS.</p>

<h2 id="15-authors-">15. Authors <a id="authors" href="#authors" class="permalink">üîó</a></h2>

<p>Daniel Roesler (Primary Author, Working Group Maintainer)<br />
Daniel Roesler LLC<br />
Email: <a href="mailto:daniel@danielroesler.com">daniel@danielroesler.com</a><br />
URI: <a href="https://danielroesler.com/">https://danielroesler.com/</a></p>

<p>Eloi F√°brega Ferrer (Working Group Contributor)<br />
Flexidao<br />
Email: <a href="mailto:e.ferrer@flexidao.com">e.ferrer@flexidao.com</a><br />
URI: <a href="https://flexidao.com/">https://flexidao.com/</a></p>

<p>Soazig Kaam (Working Group Contributor)<br />
Google<br />
Email: <a href="mailto:soazig@google.com">soazig@google.com</a><br />
URI: <a href="https://google.com/">https://google.com/</a></p>

<p>Jordan Hughes (Working Group Contributor)<br />
Apple<br />
Email: <a href="mailto:jhughes22@apple.com">jhughes22@apple.com</a><br />
URI: <a href="https://apple.com/">https://apple.com/</a></p>

<p>Antara Sargam and Po Ki Chui (Reviewers)<br />
Google</p>

<p>Dionna Amalie Glaze (Reviewer)<br />
Apple</p>

<hr />

<h1 id="other-drafts-">Other Drafts <a id="other-drafts" href="#other-drafts" class="permalink">üîó</a></h1>

<ul>
  <li>Maintainer‚Äôs draft: [<a href="https://daniel-roesler.github.io/CDS-Registration/specs/cds-wg1-02">Website</a>] [<a href="https://github.com/daniel-roesler/CDS-Registration/blob/main/specifications/cds-wg1-02.md">Code</a>]</li>
</ul>

                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="bg-light pt-5 pb-5">
            <div class="container">
                <div class="row">
                    <div class="col">
                        <h4>CDS Registration Working Group:</h4>
                        <ul>
                            <li>
                                <a href="/CDS-Registration/"
                                    >Working Group website</a>
                                (this website!)
                            </li>
                            <li>
                                <a href="/CDS-Registration/use-cases"
                                    >Use Cases</a>
                            </li>
                            <li>
                                <a href="/CDS-Registration/specs"
                                    >Specifications</a>
                            </li>
                            <li>
                                <a href="https://github.com/lfe-cds/CDS-Registration" target="_blank"
                                    >Github Repository
                                    <svg class="svgicon"><use href="#fa-external-link"/></svg></a>
                            </li>
                            <li>
                                <a href="https://github.com/lfe-cds/CDS-Registration/tree/main/meetings" target="_blank"
                                    >Meeting Minutes
                                    <svg class="svgicon"><use href="#fa-external-link"/></svg></a>
                            </li>
                            <li>
                                <a href="https://github.com/lfe-cds/CDS-Registration/pulls" target="_blank"
                                    >Active Pull Requests
                                    <svg class="svgicon"><use href="#fa-external-link"/></svg></a>
                            </li>
                            <li>
                                <a href="https://lists.lfenergy.org/g/cds-registration-wg" target="_blank"
                                    >Mailing List
                                    <svg class="svgicon"><use href="#fa-external-link"/></svg></a>
                            </li>
                            <li>
                                <a href="https://lists.lfenergy.org/g/cds-registration-wg/calendar" target="_blank"
                                    >Event Calendar
                                    <svg class="svgicon"><use href="#fa-external-link"/></svg></a>
                            </li>
                            <li>
                                <a href="https://slack.lfenergy.org/" target="_blank"
                                    >Slack
                                    <svg class="svgicon"><use href="#fa-external-link"/></svg></a>
                                (channel: <code>#cds-registration-wg</code>)
                            </li>
                        </ul>
                    </div>
                    <div class="col">
                        <h4>CDS / Linux Foundation:</h4>
                        <ul>
                            <li>
                                <a href="https://www.linuxfoundation.org/" target="_blank"
                                    >Linux Foundation
                                    <svg class="svgicon"><use href="#fa-external-link"/></svg></a>
                                <ul>
                                    <li>
                                        <a href="https://www.lfenergy.org/" target="_blank"
                                            >LF Energy
                                            <svg class="svgicon"><use href="#fa-external-link"/></svg></a>
                                        <ul>
                                            <li>
                                                <a href="https://cds.lfenergy.org" target="_blank"
                                                    >Connected Data Specification (CDS)
                                                    <svg class="svgicon"><use href="#fa-external-link"/></svg></a>
                                                <ul>
                                                    <li>
                                                        <a href="https://github.com/lfe-cds/CDS-Registration" target="_blank"
                                                            >CDS Registration Working Group (WG1)
                                                            <svg class="svgicon"><use href="#fa-external-link"/></svg></a> (i.e. this working group)
                                                    </li>
                                                    <li>
                                                        <a href="https://github.com/lfe-cds/CDS-Power-Systems-Data" target="_blank"
                                                            >CDS Power Systems Data Working Group (WG2)
                                                            <svg class="svgicon"><use href="#fa-external-link"/></svg></a>
                                                    </li>
                                                    <li>
                                                        <a href="https://github.com/lfe-cds/CDS-Customer-Data" target="_blank"
                                                            >CDS Customer Data Working Group (WG3)
                                                            <svg class="svgicon"><use href="#fa-external-link"/></svg></a>
                                                    </li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </footer>

        <!-- Scripts -->
        <script src="/CDS-Registration/assets/bootstrap-5.1.3-dist/js/bootstrap.bundle.min.js"></script>
        
        
    </body>
</html>

